{"version":3,"file":"index-BIoFVMf2.js","sources":["../../node_modules/element-plus/es/components/notification/src/notification.mjs","../../node_modules/element-plus/es/components/notification/src/notification2.mjs","../../node_modules/element-plus/es/components/notification/src/notify.mjs","../../node_modules/element-plus/es/components/notification/index.mjs","../../src/constants/BatchNovelsMessage.ts","../../src/constants/BatchShortPlatyMessage.ts","../../src/store/novelStore.js","../../src/pages/BatchNovels/components/SimulatedReading/components/resizeArea.vue","../../src/pages/BatchNovels/components/SimulatedReading/components/innerArea.vue","../../src/pages/BatchNovels/components/SimulatedReading/components/PreviewSection.vue","../../src/pages/BatchShortPlay/components/ShortPlayPreviewSection.vue","../../src/pages/BatchNovels/components/SimulatedReading/components/FirstFrameSettings.vue","../../src/pages/BatchNovels/components/SimulatedReading/useTaskInitialization.js","../../src/service/shortFirm.js","../../src/pages/BatchNovels/components/SimulatedReading/useFormSubmit.js","../../src/pages/BatchNovels/components/SimulatedReading/useMaterialUpload.js","../../src/pages/BatchNovels/components/SimulatedReading/useMaterialSelection.js","../../src/pages/BatchNovels/components/SimulatedReading/useWatchers.js","../../src/utils/fontFamily.js","../../src/pages/BatchNovels/components/SimulatedReading/components/SaveMainContentSectionDialog.vue","../../src/pages/BatchNovels/components/SimulatedReading/components/MainContentSection.vue","../../node_modules/uchuang-resource-lib/dist/chunks/element-plus.CKQSHZRI.js","../../node_modules/uchuang-resource-lib/dist/index.js","../../src/pages/BatchNovels/components/CreateTaskPublicComponents/TaskInfoCard.vue","../../src/pages/BatchNovels/components/SimulatedReading/components/MaterialsSection.vue","../../src/pages/BatchNovels/components/CreateTaskPublicComponents/GroupSection.vue","../../src/pages/BatchNovels/components/CreateTaskPublicComponents/NovelSelection.vue","../../src/pages/BatchShortPlay/components/ShortPlaySelection.vue","../../src/pages/BatchNovels/components/SimulatedReading/index.vue","../../src/pages/BatchNovels/components/RelaxedVideo/useTaskInitialization.js","../../src/pages/BatchNovels/components/RelaxedVideo/useFormSubmit.js","../../src/pages/BatchNovels/components/RelaxedVideo/useMaterialUpload.js","../../src/pages/BatchNovels/components/RelaxedVideo/useMaterialSelection.js","../../src/pages/BatchNovels/components/RelaxedVideo/useWatchers.js","../../src/pages/BatchNovels/components/RelaxedVideo/components/TitleSettings.vue","../../src/pages/BatchNovels/components/RelaxedVideo/components/PreviewArea.vue","../../src/pages/BatchNovels/components/RelaxedVideo/components/MaterialsSection.vue","../../src/pages/BatchNovels/components/RelaxedVideo/components/SaveMainContentSectionDialog.vue","../../src/pages/BatchNovels/components/RelaxedVideo/components/MainContentSection.vue","../../src/pages/BatchNovels/components/RelaxedVideo/index.vue","../../src/pages/BatchNovels/components/HistoryTaskComponents/PackQueueDrawer.vue","../../src/pages/BatchNovels/components/HistoryTaskComponents/taskList.vue","../../src/pages/BatchNovels/components/HistoryTaskComponents/videoList.vue","../../src/pages/BatchNovels/components/HistoryTaskComponents/index.vue","../../src/pages/BatchNovels/index.vue"],"sourcesContent":["import { Close } from '@element-plus/icons-vue';\nimport { buildProps, definePropType } from '../../../utils/vue/props/runtime.mjs';\nimport { iconPropType } from '../../../utils/vue/icon.mjs';\n\nconst notificationTypes = [\n  \"primary\",\n  \"success\",\n  \"info\",\n  \"warning\",\n  \"error\"\n];\nconst notificationProps = buildProps({\n  customClass: {\n    type: String,\n    default: \"\"\n  },\n  dangerouslyUseHTMLString: Boolean,\n  duration: {\n    type: Number,\n    default: 4500\n  },\n  icon: {\n    type: iconPropType\n  },\n  id: {\n    type: String,\n    default: \"\"\n  },\n  message: {\n    type: definePropType([\n      String,\n      Object,\n      Function\n    ]),\n    default: \"\"\n  },\n  offset: {\n    type: Number,\n    default: 0\n  },\n  onClick: {\n    type: definePropType(Function),\n    default: () => void 0\n  },\n  onClose: {\n    type: definePropType(Function),\n    required: true\n  },\n  position: {\n    type: String,\n    values: [\"top-right\", \"top-left\", \"bottom-right\", \"bottom-left\"],\n    default: \"top-right\"\n  },\n  showClose: {\n    type: Boolean,\n    default: true\n  },\n  title: {\n    type: String,\n    default: \"\"\n  },\n  type: {\n    type: String,\n    values: [...notificationTypes, \"\"],\n    default: \"\"\n  },\n  zIndex: Number,\n  closeIcon: {\n    type: iconPropType,\n    default: Close\n  }\n});\nconst notificationEmits = {\n  destroy: () => true\n};\n\nexport { notificationEmits, notificationProps, notificationTypes };\n//# sourceMappingURL=notification.mjs.map\n","import { defineComponent, ref, computed, onMounted, openBlock, createBlock, Transition, unref, withCtx, withDirectives, createElementVNode, normalizeClass, normalizeStyle, resolveDynamicComponent, createCommentVNode, toDisplayString, renderSlot, createElementBlock, Fragment, vShow, withModifiers } from 'vue';\nimport { useEventListener, useTimeoutFn } from '@vueuse/core';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { notificationProps, notificationEmits } from './notification.mjs';\nimport _export_sfc from '../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useGlobalComponentSettings } from '../../config-provider/src/hooks/use-global-config.mjs';\nimport { TypeComponentsMap } from '../../../utils/vue/icon.mjs';\nimport { EVENT_CODE } from '../../../constants/aria.mjs';\n\nconst __default__ = defineComponent({\n  name: \"ElNotification\"\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: notificationProps,\n  emits: notificationEmits,\n  setup(__props, { expose }) {\n    const props = __props;\n    const { ns, zIndex } = useGlobalComponentSettings(\"notification\");\n    const { nextZIndex, currentZIndex } = zIndex;\n    const visible = ref(false);\n    let timer = void 0;\n    const typeClass = computed(() => {\n      const type = props.type;\n      return type && TypeComponentsMap[props.type] ? ns.m(type) : \"\";\n    });\n    const iconComponent = computed(() => {\n      if (!props.type)\n        return props.icon;\n      return TypeComponentsMap[props.type] || props.icon;\n    });\n    const horizontalClass = computed(() => props.position.endsWith(\"right\") ? \"right\" : \"left\");\n    const verticalProperty = computed(() => props.position.startsWith(\"top\") ? \"top\" : \"bottom\");\n    const positionStyle = computed(() => {\n      var _a;\n      return {\n        [verticalProperty.value]: `${props.offset}px`,\n        zIndex: (_a = props.zIndex) != null ? _a : currentZIndex.value\n      };\n    });\n    function startTimer() {\n      if (props.duration > 0) {\n        ({ stop: timer } = useTimeoutFn(() => {\n          if (visible.value)\n            close();\n        }, props.duration));\n      }\n    }\n    function clearTimer() {\n      timer == null ? void 0 : timer();\n    }\n    function close() {\n      visible.value = false;\n    }\n    function onKeydown({ code }) {\n      if (code === EVENT_CODE.delete || code === EVENT_CODE.backspace) {\n        clearTimer();\n      } else if (code === EVENT_CODE.esc) {\n        if (visible.value) {\n          close();\n        }\n      } else {\n        startTimer();\n      }\n    }\n    onMounted(() => {\n      startTimer();\n      nextZIndex();\n      visible.value = true;\n    });\n    useEventListener(document, \"keydown\", onKeydown);\n    expose({\n      visible,\n      close\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Transition, {\n        name: unref(ns).b(\"fade\"),\n        onBeforeLeave: _ctx.onClose,\n        onAfterLeave: ($event) => _ctx.$emit(\"destroy\"),\n        persisted: \"\"\n      }, {\n        default: withCtx(() => [\n          withDirectives(createElementVNode(\"div\", {\n            id: _ctx.id,\n            class: normalizeClass([unref(ns).b(), _ctx.customClass, unref(horizontalClass)]),\n            style: normalizeStyle(unref(positionStyle)),\n            role: \"alert\",\n            onMouseenter: clearTimer,\n            onMouseleave: startTimer,\n            onClick: _ctx.onClick\n          }, [\n            unref(iconComponent) ? (openBlock(), createBlock(unref(ElIcon), {\n              key: 0,\n              class: normalizeClass([unref(ns).e(\"icon\"), unref(typeClass)])\n            }, {\n              default: withCtx(() => [\n                (openBlock(), createBlock(resolveDynamicComponent(unref(iconComponent))))\n              ]),\n              _: 1\n            }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"div\", {\n              class: normalizeClass(unref(ns).e(\"group\"))\n            }, [\n              createElementVNode(\"h2\", {\n                class: normalizeClass(unref(ns).e(\"title\")),\n                textContent: toDisplayString(_ctx.title)\n              }, null, 10, [\"textContent\"]),\n              withDirectives(createElementVNode(\"div\", {\n                class: normalizeClass(unref(ns).e(\"content\")),\n                style: normalizeStyle(!!_ctx.title ? void 0 : { margin: 0 })\n              }, [\n                renderSlot(_ctx.$slots, \"default\", {}, () => [\n                  !_ctx.dangerouslyUseHTMLString ? (openBlock(), createElementBlock(\"p\", { key: 0 }, toDisplayString(_ctx.message), 1)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n                    createCommentVNode(\" Caution here, message could've been compromised, never use user's input as message \"),\n                    createElementVNode(\"p\", { innerHTML: _ctx.message }, null, 8, [\"innerHTML\"])\n                  ], 2112))\n                ])\n              ], 6), [\n                [vShow, _ctx.message]\n              ]),\n              _ctx.showClose ? (openBlock(), createBlock(unref(ElIcon), {\n                key: 0,\n                class: normalizeClass(unref(ns).e(\"closeBtn\")),\n                onClick: withModifiers(close, [\"stop\"])\n              }, {\n                default: withCtx(() => [\n                  (openBlock(), createBlock(resolveDynamicComponent(_ctx.closeIcon)))\n                ]),\n                _: 1\n              }, 8, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true)\n            ], 2)\n          ], 46, [\"id\", \"onClick\"]), [\n            [vShow, visible.value]\n          ])\n        ]),\n        _: 3\n      }, 8, [\"name\", \"onBeforeLeave\", \"onAfterLeave\"]);\n    };\n  }\n});\nvar NotificationConstructor = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__file\", \"notification.vue\"]]);\n\nexport { NotificationConstructor as default };\n//# sourceMappingURL=notification2.mjs.map\n","import { isVNode, createVNode, render } from 'vue';\nimport NotificationConstructor from './notification2.mjs';\nimport { notificationTypes } from './notification.mjs';\nimport { isClient } from '@vueuse/core';\nimport { isString, isFunction } from '@vue/shared';\nimport { isElement, isUndefined } from '../../../utils/types.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\n\nconst notifications = {\n  \"top-left\": [],\n  \"top-right\": [],\n  \"bottom-left\": [],\n  \"bottom-right\": []\n};\nconst GAP_SIZE = 16;\nlet seed = 1;\nconst notify = function(options = {}, context) {\n  if (!isClient)\n    return { close: () => void 0 };\n  if (isString(options) || isVNode(options)) {\n    options = { message: options };\n  }\n  const position = options.position || \"top-right\";\n  let verticalOffset = options.offset || 0;\n  notifications[position].forEach(({ vm: vm2 }) => {\n    var _a;\n    verticalOffset += (((_a = vm2.el) == null ? void 0 : _a.offsetHeight) || 0) + GAP_SIZE;\n  });\n  verticalOffset += GAP_SIZE;\n  const id = `notification_${seed++}`;\n  const userOnClose = options.onClose;\n  const props = {\n    ...options,\n    offset: verticalOffset,\n    id,\n    onClose: () => {\n      close(id, position, userOnClose);\n    }\n  };\n  let appendTo = document.body;\n  if (isElement(options.appendTo)) {\n    appendTo = options.appendTo;\n  } else if (isString(options.appendTo)) {\n    appendTo = document.querySelector(options.appendTo);\n  }\n  if (!isElement(appendTo)) {\n    debugWarn(\"ElNotification\", \"the appendTo option is not an HTMLElement. Falling back to document.body.\");\n    appendTo = document.body;\n  }\n  const container = document.createElement(\"div\");\n  const vm = createVNode(NotificationConstructor, props, isFunction(props.message) ? props.message : isVNode(props.message) ? () => props.message : null);\n  vm.appContext = isUndefined(context) ? notify._context : context;\n  vm.props.onDestroy = () => {\n    render(null, container);\n  };\n  render(vm, container);\n  notifications[position].push({ vm });\n  appendTo.appendChild(container.firstElementChild);\n  return {\n    close: () => {\n      vm.component.exposed.visible.value = false;\n    }\n  };\n};\nnotificationTypes.forEach((type) => {\n  notify[type] = (options = {}, appContext) => {\n    if (isString(options) || isVNode(options)) {\n      options = {\n        message: options\n      };\n    }\n    return notify({ ...options, type }, appContext);\n  };\n});\nfunction close(id, position, userOnClose) {\n  const orientedNotifications = notifications[position];\n  const idx = orientedNotifications.findIndex(({ vm: vm2 }) => {\n    var _a;\n    return ((_a = vm2.component) == null ? void 0 : _a.props.id) === id;\n  });\n  if (idx === -1)\n    return;\n  const { vm } = orientedNotifications[idx];\n  if (!vm)\n    return;\n  userOnClose == null ? void 0 : userOnClose(vm);\n  const removedHeight = vm.el.offsetHeight;\n  const verticalPos = position.split(\"-\")[0];\n  orientedNotifications.splice(idx, 1);\n  const len = orientedNotifications.length;\n  if (len < 1)\n    return;\n  for (let i = idx; i < len; i++) {\n    const { el, component } = orientedNotifications[i].vm;\n    const pos = Number.parseInt(el.style[verticalPos], 10) - removedHeight - GAP_SIZE;\n    component.props.offset = pos;\n  }\n}\nfunction closeAll() {\n  for (const orientedNotifications of Object.values(notifications)) {\n    orientedNotifications.forEach(({ vm }) => {\n      vm.component.exposed.visible.value = false;\n    });\n  }\n}\nnotify.closeAll = closeAll;\nnotify._context = null;\n\nexport { close, closeAll, notify as default };\n//# sourceMappingURL=notify.mjs.map\n","import notify from './src/notify.mjs';\nexport { notificationEmits, notificationProps, notificationTypes } from './src/notification.mjs';\nimport { withInstallFunction } from '../../utils/vue/install.mjs';\n\nconst ElNotification = withInstallFunction(notify, \"$notify\");\n\nexport { ElNotification, ElNotification as default };\n//# sourceMappingURL=index.mjs.map\n","import { ref, reactive } from 'vue'\r\n\r\n// 批量小说tabs 使用新的分类结构\r\nexport const TABS = ref([\r\n    {\r\n        label: '任务列表',\r\n        value: 'historyTask',\r\n    },\r\n    {\r\n        label: '模拟阅读',\r\n        value: 'createTask',\r\n    },\r\n    {\r\n        label: '解压视频',\r\n        value: 'createVideo',\r\n    },\r\n    {\r\n        label: '小说库',\r\n        value: 'novel',\r\n    },\r\n    {\r\n        label: '视频库',\r\n        value: 'video-category',\r\n        children: [\r\n            {\r\n                label: '解压视频库',\r\n                value: 'video',\r\n            },\r\n            {\r\n                label: '首帧库',\r\n                value: 'firstFrames',\r\n            },\r\n            {\r\n                label: '尾帧库',\r\n                value: 'lastFrames',\r\n            },\r\n            {\r\n                label: '带文字视频库',\r\n                value: 'textVideo',\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        label: '图片库',\r\n        value: 'image-category',\r\n        children: [\r\n            {\r\n                label: '背景图库',\r\n                value: 'background',\r\n            },\r\n            {\r\n                label: '贴图库',\r\n                value: 'stickers',\r\n            },\r\n            {\r\n                label: '带文字图片库',\r\n                value: 'textImage',\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        label: '音乐库',\r\n        value: 'music',\r\n    }\r\n])\r\n\r\n// 用于扁平化展示所有标签选项（保留原有标签列表供其他地方使用）\r\nexport const FLAT_TABS = ref([\r\n    {\r\n        label: '任务列表',\r\n        value: 'historyTask',\r\n    },\r\n    {\r\n        label: '模拟阅读',\r\n        value: 'createTask',\r\n    },\r\n    {\r\n        label: '解压视频',\r\n        value: 'createVideo',\r\n    },\r\n    {\r\n        label: '解压视频库',\r\n        value: 'video',\r\n    },\r\n    {\r\n        label: '背景图库',\r\n        value: 'background',\r\n    },\r\n    {\r\n        label: '小说库',\r\n        value: 'novel',\r\n    },\r\n    {\r\n        label: '首帧库',\r\n        value: 'firstFrames',\r\n    },\r\n    {\r\n        label: '尾帧库',\r\n        value: 'lastFrames',\r\n    },\r\n    {\r\n        label: '贴图库',\r\n        value: 'stickers',\r\n    },\r\n    {\r\n        label: '音乐库',\r\n        value: 'music',\r\n    },\r\n    {\r\n        label: '带文字图片库',\r\n        value: 'textImage',\r\n    },\r\n    {\r\n        label: '带文字视频库',\r\n        value: 'textVideo',\r\n    },\r\n])","import { ref } from 'vue'\r\n\r\n// 短剧tabs 使用新的分类结构\r\nexport const SHORT_PLAY_TABS = ref([\r\n  {\r\n    label: '任务列表',\r\n    value: 'historyTask'\r\n  },\r\n  {\r\n    label: '创建任务',\r\n    value: 'createShortPlayTask'\r\n  },\r\n  {\r\n    label: '尾帧库',\r\n    value: 'shortPlayLastFrames'\r\n  },\r\n  {\r\n    label: '贴图库',\r\n    value: 'shortPlayStickers'\r\n  }\r\n])\r\n","import { defineStore } from 'pinia'\r\n\r\nexport const useNovelStore = defineStore('novel', {\r\n  state: () => ({\r\n    taskGenerateParams: {}, // 任务生成参数,\r\n    checkedData: {}, // 勾选素材\r\n    isFromHistoryTask: false // 是否来自历史任务，用于加载模拟阅读和解压视频时，来自历史人物的，正片配置信息不选中\r\n  }),\r\n  getters: {},\r\n  actions: {\r\n    setTaskGenerateParams(params) {\r\n      this.taskGenerateParams = params\r\n    },\r\n    setCheckedData(params) {\r\n      this.checkedData = params\r\n    },\r\n    setIsFromHistoryTask(params) {\r\n      this.isFromHistoryTask = params\r\n    }\r\n  }\r\n})\r\n","<template>\r\n  <div class=\"resizeArea\" ref=\"resizeArea\">\r\n    <!-- 正文预览 -->\r\n    <slot></slot>\r\n    <!-- 四个角的拖动点 -->\r\n    <div\r\n      class=\"resize-handle top-left\"\r\n      :class=\"{ hidden: !resizable }\"\r\n      @mousedown=\"startResize($event, 'top-left')\"\r\n    ></div>\r\n    <div\r\n      class=\"resize-handle top-right\"\r\n      :class=\"{ hidden: !resizable }\"\r\n      @mousedown=\"startResize($event, 'top-right')\"\r\n    ></div>\r\n    <div\r\n      class=\"resize-handle bottom-left\"\r\n      :class=\"{ hidden: !resizable }\"\r\n      @mousedown=\"startResize($event, 'bottom-left')\"\r\n    ></div>\r\n    <div\r\n      class=\"resize-handle bottom-right\"\r\n      :class=\"{ hidden: !resizable }\"\r\n      @mousedown=\"startResize($event, 'bottom-right')\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted, watch, nextTick } from 'vue'\r\n\r\nconst resizeArea = ref(null)\r\n\r\nconst emit = defineEmits(['resize', 'stopResize'])\r\n\r\nconst props = defineProps({\r\n  left: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  right: {\r\n    type: Number,\r\n    default: 1\r\n  },\r\n  top: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  bottom: {\r\n    type: Number,\r\n    default: 1\r\n  },\r\n  resizable: {\r\n    type: Boolean,\r\n    default: false // 默认不允许 Resize\r\n  }\r\n})\r\n\r\nlet isResizing = false\r\nlet resizeDirection = ''\r\nlet startX = 0\r\nlet startY = 0\r\nlet startWidth = 0\r\nlet startHeight = 0\r\nlet startLeft = 0\r\nlet startTop = 0\r\n\r\n// 根据 props 初始化 resizeArea 的位置和大小\r\nconst initResizeArea = () => {\r\n  const mainPreviewRect = resizeArea.value.parentElement.getBoundingClientRect()\r\n  const width = mainPreviewRect.width * (props.right - props.left)\r\n  const height = mainPreviewRect.height * (props.bottom - props.top)\r\n  const left = mainPreviewRect.width * props.left\r\n  const top = mainPreviewRect.height * props.top\r\n\r\n  resizeArea.value.style.width = `${width}px`\r\n  resizeArea.value.style.height = `${height}px`\r\n  resizeArea.value.style.left = `${left}px`\r\n  resizeArea.value.style.top = `${top}px`\r\n}\r\n\r\n// 监听 props 变化，更新 resizeArea 的位置和大小\r\nwatch(\r\n  () => [props.left, props.right, props.top, props.bottom],\r\n  () => {\r\n    nextTick(() => {\r\n      initResizeArea()\r\n    })\r\n  },\r\n  {\r\n    immediate: true\r\n  }\r\n)\r\n\r\nconst startResize = (event, direction) => {\r\n  if (!props.resizable) return // 如果 resizable 为 false，直接返回\r\n\r\n  isResizing = true\r\n  resizeDirection = direction\r\n  startX = event.clientX\r\n  startY = event.clientY\r\n  startWidth = resizeArea.value.offsetWidth\r\n  startHeight = resizeArea.value.offsetHeight\r\n  startLeft = resizeArea.value.offsetLeft\r\n  startTop = resizeArea.value.offsetTop\r\n\r\n  document.addEventListener('mousemove', handleResize)\r\n  document.addEventListener('mouseup', stopResize)\r\n}\r\n\r\nconst handleResize = (event) => {\r\n  if (!isResizing) return\r\n\r\n  const deltaX = event.clientX - startX\r\n  const deltaY = event.clientY - startY\r\n\r\n  const mainPreviewRect = resizeArea.value.parentElement.getBoundingClientRect()\r\n  const minWidth = 50 // 最小宽度\r\n  const minHeight = 50 // 最小高度\r\n\r\n  let newWidth = startWidth\r\n  let newHeight = startHeight\r\n  let newLeft = startLeft\r\n  let newTop = startTop\r\n\r\n  if (resizeDirection === 'top-left') {\r\n    newWidth = startWidth - deltaX\r\n    newHeight = startHeight - deltaY\r\n    newLeft = startLeft + deltaX\r\n    newTop = startTop + deltaY\r\n\r\n    // 边界检查\r\n    if (newLeft < 0) {\r\n      newLeft = 0\r\n      newWidth = startWidth + startLeft\r\n    }\r\n    if (newTop < 0) {\r\n      newTop = 0\r\n      newHeight = startHeight + startTop\r\n    }\r\n    if (newWidth < minWidth) {\r\n      newWidth = minWidth\r\n      newLeft = startLeft + startWidth - minWidth\r\n    }\r\n    if (newHeight < minHeight) {\r\n      newHeight = minHeight\r\n      newTop = startTop + startHeight - minHeight\r\n    }\r\n  } else if (resizeDirection === 'top-right') {\r\n    newWidth = startWidth + deltaX\r\n    newHeight = startHeight - deltaY\r\n    newTop = startTop + deltaY\r\n\r\n    // 边界检查\r\n    if (newTop < 0) {\r\n      newTop = 0\r\n      newHeight = startHeight + startTop\r\n    }\r\n    if (newWidth < minWidth) {\r\n      newWidth = minWidth\r\n    }\r\n    if (newHeight < minHeight) {\r\n      newHeight = minHeight\r\n      newTop = startTop + startHeight - minHeight\r\n    }\r\n    if (newLeft + newWidth > mainPreviewRect.width) {\r\n      newWidth = mainPreviewRect.width - newLeft\r\n    }\r\n  } else if (resizeDirection === 'bottom-left') {\r\n    newWidth = startWidth - deltaX\r\n    newHeight = startHeight + deltaY\r\n    newLeft = startLeft + deltaX\r\n\r\n    // 边界检查\r\n    if (newLeft < 0) {\r\n      newLeft = 0\r\n      newWidth = startWidth + startLeft\r\n    }\r\n    if (newWidth < minWidth) {\r\n      newWidth = minWidth\r\n      newLeft = startLeft + startWidth - minWidth\r\n    }\r\n    if (newHeight < minHeight) {\r\n      newHeight = minHeight\r\n    }\r\n    if (newTop + newHeight > mainPreviewRect.height) {\r\n      newHeight = mainPreviewRect.height - newTop\r\n    }\r\n  } else if (resizeDirection === 'bottom-right') {\r\n    newWidth = startWidth + deltaX\r\n    newHeight = startHeight + deltaY\r\n\r\n    // 边界检查\r\n    if (newWidth < minWidth) {\r\n      newWidth = minWidth\r\n    }\r\n    if (newHeight < minHeight) {\r\n      newHeight = minHeight\r\n    }\r\n    if (newLeft + newWidth > mainPreviewRect.width) {\r\n      newWidth = mainPreviewRect.width - newLeft\r\n    }\r\n    if (newTop + newHeight > mainPreviewRect.height) {\r\n      newHeight = mainPreviewRect.height - newTop\r\n    }\r\n  }\r\n\r\n  // 更新样式\r\n  resizeArea.value.style.width = `${newWidth}px`\r\n  resizeArea.value.style.height = `${newHeight}px`\r\n  resizeArea.value.style.left = `${newLeft}px`\r\n  resizeArea.value.style.top = `${newTop}px`\r\n\r\n  // 计算resizeArea每条边离mainPreview的距离\r\n  const leftPercent = (newLeft / mainPreviewRect.width).toFixed(3)\r\n  const rightPercent = ((newLeft + newWidth) / mainPreviewRect.width).toFixed(3)\r\n  const topPercent = (newTop / mainPreviewRect.height).toFixed(3)\r\n  const bottomPercent = ((newTop + newHeight) / mainPreviewRect.height).toFixed(3)\r\n\r\n  emit('resize', {\r\n    left: leftPercent,\r\n    right: rightPercent,\r\n    top: topPercent,\r\n    bottom: bottomPercent\r\n  })\r\n}\r\n\r\nconst stopResize = () => {\r\n  isResizing = false\r\n  emit('stopResize')\r\n  document.removeEventListener('mousemove', handleResize)\r\n  document.removeEventListener('mouseup', stopResize)\r\n}\r\n\r\n// 重新设置 resizeArea 的大小和位置\r\nconst handleWindowResize = () => {\r\n  initResizeArea()\r\n}\r\n\r\n// 初始化时重置 resizeArea 并计算百分比\r\nonMounted(() => {\r\n  window.addEventListener('resize', handleWindowResize)\r\n})\r\n\r\nonUnmounted(() => {\r\n  document.removeEventListener('mousemove', handleResize)\r\n  document.removeEventListener('mouseup', stopResize)\r\n  window.removeEventListener('resize', handleWindowResize)\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.resizeArea {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 2px solid #000;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  z-index: 2;\r\n}\r\n\r\n.resize-handle {\r\n  position: absolute;\r\n  width: 10px;\r\n  height: 10px;\r\n  background-color: #fff;\r\n  border: 1px solid #000;\r\n  cursor: se-resize;\r\n}\r\n\r\n.top-left {\r\n  top: -5px;\r\n  left: -5px;\r\n  cursor: nw-resize;\r\n}\r\n\r\n.top-right {\r\n  top: -5px;\r\n  right: -5px;\r\n  cursor: ne-resize;\r\n}\r\n\r\n.bottom-left {\r\n  bottom: -5px;\r\n  left: -5px;\r\n  cursor: sw-resize;\r\n}\r\n\r\n.bottom-right {\r\n  bottom: -5px;\r\n  right: -5px;\r\n  cursor: se-resize;\r\n}\r\n\r\n.hidden {\r\n  display: none;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"innerArea\" ref=\"innerArea\" :class=\"{ needMask: needMask }\">\r\n    <!-- 正文预览 -->\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch, nextTick, onUnmounted } from 'vue'\r\n\r\nconst innerArea = ref(null)\r\n\r\nconst props = defineProps({\r\n  left: {\r\n    type: Number,\r\n    default: 0.05\r\n  },\r\n  right: {\r\n    type: Number,\r\n    default: 0.95\r\n  },\r\n  top: {\r\n    type: Number,\r\n    default: 0.05\r\n  },\r\n  bottom: {\r\n    type: Number,\r\n    default: 0.95\r\n  },\r\n  needMask: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n\r\nonMounted(() => {\r\n  nextTick(() => {\r\n    initResizeArea()\r\n  })\r\n})\r\n\r\n// 根据 props 初始化 innerArea 的位置和大小\r\nconst initResizeArea = () => {\r\n  const mainPreviewRect = innerArea.value.parentElement.getBoundingClientRect()\r\n  const width = mainPreviewRect.width * (props.right - props.left)\r\n  const height = mainPreviewRect.height * (props.bottom - props.top)\r\n  const left = mainPreviewRect.width * props.left\r\n  const top = mainPreviewRect.height * props.top\r\n\r\n  innerArea.value.style.width = `${width}px`\r\n  innerArea.value.style.height = `${height}px`\r\n  innerArea.value.style.left = `${left}px`\r\n  innerArea.value.style.top = `${top}px`\r\n}\r\n\r\n// 监听 props 变化，更新 innerArea 的位置和大小\r\nwatch(\r\n  () => [props.left, props.right, props.top, props.bottom],\r\n  () => {\r\n    initResizeArea()\r\n  }\r\n)\r\n\r\nconst handleWindowResize = () => {\r\n  initResizeArea()\r\n}\r\n\r\nonMounted(() => {\r\n  window.addEventListener('resize', handleWindowResize)\r\n})\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener('resize', handleWindowResize)\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.innerArea {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  z-index: 2;\r\n}\r\n\r\n.needMask {\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n  z-index: 1;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"right-side\">\r\n    <div class=\"preview-container\">\r\n      <div class=\"preview-frame preview-frame-first\">\r\n        <div class=\"frame-title\">首帧视频预览</div>\r\n        <div class=\"frame-content\" ref=\"firstPreview\">\r\n          <img\r\n            :src=\"baseUrl + renderPreviewFirstFrameUrl\"\r\n            alt=\"\"\r\n            v-if=\"checkedData.checkedFirstFrames.length\"\r\n            class=\"videoPreview\"\r\n          />\r\n          <!-- 首帧标题预览 -->\r\n          <div\r\n            class=\"firstFrameText\"\r\n            v-for=\"item in formData.firstFrameVideo\"\r\n            :key=\"item.id\"\r\n            :style=\"{\r\n              color: item.fill,\r\n              backgroundColor: item.background_color,\r\n              fontSize: `${px2remValue(item.font_size / props.firstAndLastVideoZoom) * zoom()}rem`,\r\n              webkitTextStroke: `${\r\n                px2remValue(item.stroke_width / props.firstAndLastVideoZoom) * zoom()\r\n              }rem ${item.stroke_fill}`,\r\n              top: `${item.y * 100}%`,\r\n              fontFamily: `${fontFamilyOptions\r\n                .find((ele) => ele.id === item.font_id)\r\n                ?.name.split('.')\r\n                .slice(0, -1)\r\n                .join('.')}`\r\n            }\"\r\n          >\r\n            {{ item.text }}\r\n          </div>\r\n        </div>\r\n        <div class=\"switch-operate\">\r\n          <div class=\"switch-container\">\r\n            <div @click=\"switchToPrevious('firstFrame')\" class=\"previous-btn\"></div>\r\n            <div class=\"counter\">\r\n              {{ `${currentFirstFrameIndex + 1}/${checkedData.checkedFirstFrames.length}` }}\r\n            </div>\r\n            <div @click=\"switchToNext('firstFrame')\" class=\"next-btn\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"preview-frame preview-frame-main\">\r\n        <div class=\"frame-title\">正片预览</div>\r\n        <div class=\"frame-content\" ref=\"mainPreview\">\r\n          <!-- 可拖动外框 -->\r\n          <resizeArea\r\n            @stopResize=\"stopResize\"\r\n            :left=\"renderPreviewBackgroundPosition.left\"\r\n            :right=\"renderPreviewBackgroundPosition.right\"\r\n            :top=\"renderPreviewBackgroundPosition.top\"\r\n            :bottom=\"renderPreviewBackgroundPosition.bottom\"\r\n          >\r\n          </resizeArea>\r\n          <innerArea\r\n            :left=\"innerAreaToMainPreviewPercent.left\"\r\n            :right=\"innerAreaToMainPreviewPercent.right\"\r\n            :top=\"innerAreaToMainPreviewPercent.top\"\r\n            :bottom=\"innerAreaToMainPreviewPercent.bottom\"\r\n          >\r\n            <div\r\n              class=\"textPreview\"\r\n              id=\"novelContent\"\r\n              :style=\"{\r\n                fontSize: `${\r\n                  px2remValue(formData.novelFontSize / props.videoFontZoom) * zoom()\r\n                }rem`,\r\n                fontFamily: `${fontFamilyOptions\r\n                  .find((item) => item.id === formData.fontFamily)\r\n                  ?.name.split('.')\r\n                  .slice(0, -1)\r\n                  .join('.')}`,\r\n                lineHeight: formData.lineHeight,\r\n                letterSpacing: `${\r\n                  px2remValue(formData.letterSpacing / props.videoFontZoom) * zoom()\r\n                }rem`,\r\n                top: `${formData.scrollStart * 100}%`,\r\n                color: arrayToRgba(renderPreviewBackgroundTextFill || [0, 0, 0, 1])\r\n              }\"\r\n            ></div>\r\n          </innerArea>\r\n          <innerArea\r\n            v-if=\"renderPreviewBackgroundNeedMask\"\r\n            :left=\"maskAreaPosition.left\"\r\n            :right=\"maskAreaPosition.right\"\r\n            :top=\"maskAreaPosition.top\"\r\n            :bottom=\"maskAreaPosition.bottom\"\r\n            needMask\r\n          >\r\n          </innerArea>\r\n\r\n          <!-- 背景图片预览 -->\r\n          <div\r\n            class=\"imagePreview\"\r\n            v-for=\"item in checkedData.checkedBackgroundList\"\r\n            :key=\"item.id\"\r\n          >\r\n            <img\r\n              :src=\"baseUrl + renderPreviewBackgroundUrl\"\r\n              alt=\"\"\r\n              class=\"image\"\r\n              v-if=\"checkedData.checkedBackgroundList.length\"\r\n            />\r\n          </div>\r\n          <!-- 贴图预览 -->\r\n          <div class=\"imagePreview\" v-if=\"checkedData.checkedStickers.length\">\r\n            <img :src=\"baseUrl + renderPreviewStickerUrl\" class=\"image\" />\r\n          </div>\r\n          <!-- 带文字图片预览 -->\r\n          <div class=\"imagePreview\">\r\n            <img\r\n              :src=\"baseUrl + renderPreviewTextImageUrl\"\r\n              class=\"image\"\r\n              v-if=\"checkedData.checkedTextImages.length\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"switch-operate\">\r\n          <div class=\"switch-container\">\r\n            <div @click=\"switchToPrevious('background')\" class=\"previous-btn\"></div>\r\n            <div class=\"counter\">\r\n              {{ `${currentBackgroundIndex + 1}/${checkedData.checkedBackgroundList.length}` }}\r\n            </div>\r\n            <div @click=\"switchToNext('background')\" class=\"next-btn\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"preview-frame preview-frame-last\">\r\n        <div class=\"frame-title\">尾帧视频预览</div>\r\n        <div class=\"frame-content\" ref=\"lastPreview\">\r\n          <!-- 尾帧视频预览 -->\r\n          <img\r\n            :src=\"baseUrl + renderPreviewLastFrameUrl\"\r\n            alt=\"\"\r\n            v-if=\"checkedData.checkedLastFrames.length\"\r\n            class=\"videoPreview\"\r\n          />\r\n          <!-- 带文字视频预览 -->\r\n          <img\r\n            :src=\"baseUrl + renderPreviewTextVideoUrl\"\r\n            class=\"videoPreview\"\r\n            v-if=\"checkedData.checkedTextVideos.length\"\r\n          />\r\n        </div>\r\n        <div class=\"switch-operate\" v-if=\"!checkedData.checkedTextVideos.length\">\r\n          <div class=\"switch-container\">\r\n            <div @click=\"switchToPrevious('lastFrame')\" class=\"previous-btn\"></div>\r\n            <div class=\"counter\">\r\n              {{ `${currentLastFrameIndex + 1}/${checkedData.checkedLastFrames.length}` }}\r\n            </div>\r\n            <div @click=\"switchToNext('lastFrame')\" class=\"next-btn\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"switch-operate\" v-if=\"checkedData.checkedTextVideos.length\">\r\n          <div class=\"switch-container\">\r\n            <div @click=\"switchToPrevious('textVideo')\" class=\"previous-btn\"></div>\r\n            <div class=\"counter\">\r\n              {{ `${currentTextVideoIndex + 1}/${checkedData.checkedTextVideos.length}` }}\r\n            </div>\r\n            <div @click=\"switchToNext('textVideo')\" class=\"next-btn\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 创建按钮放在右侧预览区域底部 -->\r\n    <div class=\"create-button-right\">\r\n      <el-button type=\"primary\" @click=\"generateVideo\" :loading=\"createVideoDisabled\">\r\n        {{ `创建任务 （共${groupCount === 0 ? count : count * groupCount}条）` }}\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch, reactive, onMounted, onUnmounted, nextTick } from 'vue'\r\nimport { px2remValue, zoom } from '@/utils/resize.js'\r\nimport { arrayToRgba } from '@/utils/utils.js'\r\nimport resizeArea from './resizeArea.vue'\r\nimport innerArea from './innerArea.vue'\r\nimport axios from 'axios'\r\n\r\nconst props = defineProps({\r\n  formData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  checkedData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  fontFamilyOptions: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  renderPreviewFirstFrameUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  renderPreviewBackgroundUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  renderPreviewLastFrameUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  renderPreviewStickerUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  renderPreviewTextImageUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  renderPreviewTextVideoUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  renderPreviewBackgroundPosition: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  renderPreviewBackgroundNeedMask: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  renderPreviewBackgroundTextFill: {\r\n    type: Array,\r\n    default: () => [0, 0, 0, 1]\r\n  },\r\n  currentFirstFrameIndex: {\r\n    type: Number,\r\n    required: true\r\n  },\r\n  currentLastFrameIndex: {\r\n    type: Number,\r\n    required: true\r\n  },\r\n  currentBackgroundIndex: {\r\n    type: Number,\r\n    required: true\r\n  },\r\n  currentTextVideoIndex: {\r\n    type: Number,\r\n    required: true\r\n  },\r\n  createVideoDisabled: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  videoFontZoom: {\r\n    type: Number,\r\n    default: 4\r\n  },\r\n  firstAndLastVideoZoom: {\r\n    type: Number,\r\n    default: 6\r\n  },\r\n  count: {\r\n    type: Number,\r\n    default: 1\r\n  },\r\n  groupCount: {\r\n    type: Number,\r\n    default: 0\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['switchToPrevious', 'switchToNext', 'stopResize', 'generateVideo'])\r\n\r\nconst baseUrl = import.meta.env.VITE_API_BASE_URL\r\nconst firstPreview = ref(null)\r\nconst mainPreview = ref(null)\r\nconst lastPreview = ref(null)\r\n\r\n// 使用从父组件传递的 videoFontZoom 和 firstAndLastVideoZoom 值\r\n\r\n// innerArea每条边离mainPreview的距离\r\nconst innerAreaToMainPreviewPercent = reactive({\r\n  left: 0.05,\r\n  right: 0.95,\r\n  top: 0.05,\r\n  bottom: 0.95\r\n})\r\n\r\nconst maskAreaPosition = reactive({\r\n  top: 0,\r\n  bottom: 1,\r\n  left: 0,\r\n  right: 1\r\n})\r\n\r\n// 计算小说滚动的距离\r\nconst calcMoveDistance = () => {\r\n  try {\r\n    const resizeAreaDiv = document.querySelector('.resizeArea')\r\n    const novelContentDiv = document.getElementById('novelContent')\r\n\r\n    if (!novelContentDiv || !resizeAreaDiv || !novelContentDiv.scrollHeight) {\r\n      return 0\r\n    }\r\n\r\n    const resizeAreaDivHeight = resizeAreaDiv.offsetHeight //可拖动框的高度\r\n    const novel_height = novelContentDiv.scrollHeight //小说的高度\r\n    const scroll_start_position = props.formData.scrollStart //开始位置\r\n    const scroll_end_position = 0.8 //结束位置\r\n\r\n    const moveDistance =\r\n      (scroll_start_position - scroll_end_position) * resizeAreaDivHeight + novel_height // 滚动的距离\r\n\r\n    // 确保moveDistance是有效数值\r\n    return isNaN(moveDistance) || moveDistance <= 0 ? novel_height : moveDistance\r\n  } catch (error) {\r\n    console.error('计算滚动距离错误:', error)\r\n    return 0\r\n  }\r\n}\r\n\r\n// 设置动画的函数\r\nconst setAnimation = () => {\r\n  nextTick(() => {\r\n    const novelContentDiv = document.getElementById('novelContent')\r\n    if (!novelContentDiv) return\r\n\r\n    try {\r\n      // 获取当前动画状态\r\n      let currentAnimation = novelContentDiv.style.animation\r\n      let isPlaying = currentAnimation && currentAnimation !== 'none'\r\n\r\n      // 如果已经有动画在播放，中止动画\r\n      if (isPlaying) {\r\n        // 中止动画\r\n        novelContentDiv.style.animation = 'none'\r\n      }\r\n\r\n      // 触发重绘（强制浏览器重新计算样式）\r\n      void novelContentDiv.offsetWidth\r\n\r\n      // 设置文本样式，但尽量避免重绘整个区域\r\n      const pTags = novelContentDiv.querySelectorAll('p')\r\n\r\n      // 批量更新样式，减少重绘次数\r\n      const batchStyleUpdates = () => {\r\n        pTags.forEach((p, index) => {\r\n          p.style.textIndent = `${props.formData.firstLineIndent}em`\r\n          if (index !== 0 && index !== pTags.length - 1) {\r\n            p.style.margin = `${px2remValue(\r\n              (props.formData.paragraphSpacing / props.videoFontZoom / 2) * zoom()\r\n            )}rem 0`\r\n          }\r\n        })\r\n\r\n        // 设置字体大小\r\n        novelContentDiv.style.fontSize = `${\r\n          px2remValue(props.formData.novelFontSize / props.videoFontZoom) * zoom()\r\n        }rem`\r\n        // 设置行高\r\n        novelContentDiv.style.lineHeight = props.formData.lineHeight\r\n        // 设置字符间距\r\n        novelContentDiv.style.letterSpacing = `${\r\n          px2remValue(props.formData.letterSpacing / props.videoFontZoom) * zoom()\r\n        }rem`\r\n      }\r\n\r\n      // 执行样式批量更新\r\n      batchStyleUpdates()\r\n\r\n      const moveDistance = calcMoveDistance()\r\n\r\n      // 如果moveDistance无效或为0，则不设置动画，防止页面刷新\r\n      if (!moveDistance) return\r\n\r\n      // 仅当需要创建新的动画时才创建\r\n      let styleContainer = document.querySelector('.preview-styles')\r\n\r\n      if (!styleContainer) {\r\n        styleContainer = document.createElement('div')\r\n        styleContainer.className = 'preview-styles'\r\n        styleContainer.style.display = 'none'\r\n        document.body.appendChild(styleContainer)\r\n      }\r\n\r\n      // 查找现有的动画样式\r\n      let animationStyle = styleContainer.querySelector('style')\r\n\r\n      const animationCSS = `\r\n        @keyframes slideUp {\r\n          0% {\r\n          transform: translateY(0);\r\n          }\r\n\r\n       100% {\r\n          transform: translateY(-${moveDistance}px);\r\n       }\r\n        }\r\n      `\r\n\r\n      // 如果没有找到样式或内容不同，才更新样式\r\n      if (!animationStyle || animationStyle.innerHTML !== animationCSS) {\r\n        // 移除旧的样式\r\n        while (styleContainer.firstChild) {\r\n          styleContainer.removeChild(styleContainer.firstChild)\r\n        }\r\n\r\n        // 创建新样式\r\n        animationStyle = document.createElement('style')\r\n        animationStyle.innerHTML = animationCSS\r\n        styleContainer.appendChild(animationStyle)\r\n      }\r\n\r\n      const actualFontPx = (props.formData.novelFontSize / props.videoFontZoom) * zoom()\r\n      const lineHeightPx = actualFontPx * props.formData.lineHeight\r\n\r\n      const calcSpeed = (lineHeightPx, min = 0.5, max = 5) => {\r\n        const speedRange = max - min\r\n        const speedRatio = (props.formData.scrollSpeed - 1) / 9\r\n        const actualSpeed = (min + speedRatio * speedRange) * lineHeightPx\r\n        return actualSpeed\r\n      }\r\n\r\n      // 速度转换固定系数\r\n      const actualSpeed = calcSpeed(lineHeightPx)\r\n      const animationDuration = `${moveDistance / actualSpeed}s`\r\n      const animationDelay = `${props.formData.scrollDelay}s`\r\n\r\n      // 设置动画，尝试从上次播放位置继续\r\n      novelContentDiv.style.animation = `slideUp ${animationDuration} linear ${animationDelay} infinite`\r\n    } catch (error) {\r\n      console.error('设置动画错误:', error)\r\n    }\r\n  })\r\n}\r\n\r\n// 防抖函数，避免频繁触发动画更新\r\nconst debounce = (fn, delay) => {\r\n  let timer = null\r\n  return function () {\r\n    if (timer) clearTimeout(timer)\r\n    timer = setTimeout(() => {\r\n      fn.apply(this, arguments)\r\n    }, delay)\r\n  }\r\n}\r\n\r\n// 使用防抖包装setAnimation函数，降低动画更新频率\r\nconst debouncedSetAnimation = debounce(setAnimation, 300)\r\n\r\n// 设置小说内容\r\nconst setNovelContent = () => {\r\n  // 获取文本内容元素\r\n  const novelContentDiv = document.getElementById('novelContent')\r\n\r\n  // 确保元素存在\r\n  if (!novelContentDiv) return\r\n\r\n  if (props.checkedData.checkedNovel.length) {\r\n    // 先显示加载中的提示\r\n    novelContentDiv.innerHTML = '<p class=\"loading-content\">加载小说内容中...</p>'\r\n\r\n    axios\r\n      .get(baseUrl + props.checkedData.checkedNovel[0]?.file_url)\r\n      .then((response) => {\r\n        const novelData = response?.data\r\n        const newData = novelData.replaceAll('color: rgb(51, 51, 51);', '')\r\n        novelContentDiv.innerHTML = newData\r\n        // 使用nextTick确保DOM更新后再应用动画\r\n        nextTick(() => {\r\n          debouncedSetAnimation()\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        novelContentDiv.innerHTML = '<p class=\"error-content\">小说加载失败</p>'\r\n        console.error('小说获取失败', error)\r\n      })\r\n  } else {\r\n    // 当没有选择小说时，清空内容\r\n    novelContentDiv.innerHTML = ''\r\n    // 可以添加一个提示性的文本\r\n    novelContentDiv.innerHTML = '<p class=\"empty-content\">请先选择小说来预览内容</p>'\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  // 生成的视频是720*1280的 缩小videoFontZoom倍  * 相对于开发时1000的屏幕为基准放大的倍数zoom\r\n  const domList = [firstPreview, lastPreview]\r\n  domList.forEach((item) => {\r\n    item.value.style.width = `${px2remValue(720 / props.firstAndLastVideoZoom) * zoom()}rem`\r\n    item.value.style.minWidth = `${px2remValue(720 / props.firstAndLastVideoZoom) * zoom()}rem`\r\n    item.value.style.height = `${px2remValue(1280 / props.firstAndLastVideoZoom) * zoom()}rem`\r\n  })\r\n\r\n  mainPreview.value.style.width = `${px2remValue(720 / props.videoFontZoom) * zoom()}rem`\r\n  mainPreview.value.style.minWidth = `${px2remValue(720 / props.videoFontZoom) * zoom()}rem`\r\n  mainPreview.value.style.height = `${px2remValue(1280 / props.videoFontZoom) * zoom()}rem`\r\n\r\n  // 初始化时加载小说内容\r\n  setNovelContent()\r\n\r\n  // 添加窗口调整大小事件监听器\r\n  window.addEventListener('resize', debouncedSetAnimation)\r\n})\r\n\r\nonUnmounted(() => {\r\n  // 移除窗口调整大小事件监听器\r\n  window.removeEventListener('resize', debouncedSetAnimation)\r\n})\r\n\r\n// 单独监听小说内容变化\r\nwatch(\r\n  () => props.checkedData.checkedNovel,\r\n  (newVal) => {\r\n    if (newVal.length) {\r\n      setNovelContent()\r\n    } else {\r\n      const novelContentDiv = document.getElementById('novelContent')\r\n      if (novelContentDiv) novelContentDiv.innerHTML = ''\r\n    }\r\n  }\r\n)\r\n\r\n// 滚动相关属性监听\r\nconst scrollStyleWatcher = debounce(() => {\r\n  const novelContentDiv = document.getElementById('novelContent')\r\n  if (novelContentDiv?.offsetHeight && props.checkedData.checkedNovel.length) {\r\n    // 滚动属性变化需要重新计算和设置动画\r\n    debouncedSetAnimation()\r\n  }\r\n}, 100)\r\n\r\n// 滚动监听\r\nwatch(\r\n  [\r\n    () => props.formData.scrollStart,\r\n    () => props.formData.scrollDelay,\r\n    () => props.formData.scrollSpeed\r\n  ],\r\n  scrollStyleWatcher,\r\n  { flush: 'post' }\r\n)\r\n\r\n// 监听文本相关属性变化\r\nwatch(\r\n  [\r\n    () => props.formData.fontFamily,\r\n    () => props.formData.novelFontSize,\r\n    () => props.formData.lineHeight,\r\n    () => props.formData.letterSpacing,\r\n    () => props.formData.paragraphSpacing,\r\n    () => props.formData.firstLineIndent,\r\n    () => props.formData.scrollStart,\r\n    () => props.formData.scrollDelay,\r\n    () => props.formData.scrollSpeed\r\n  ],\r\n  () => {\r\n    const novelContentDiv = document.getElementById('novelContent')\r\n    if (novelContentDiv?.offsetHeight) {\r\n      setAnimation()\r\n    }\r\n  }\r\n)\r\n\r\nwatch(\r\n  () => props.renderPreviewBackgroundPosition,\r\n  (newVal) => {\r\n    const borderHeight = newVal.bottom - newVal.top\r\n    const borderWidth = newVal.right - newVal.left\r\n\r\n    const left = parseFloat(newVal.left) + 0.05 * borderWidth\r\n    const right = parseFloat(newVal.right) - 0.05 * borderWidth\r\n    const top = parseFloat(newVal.top) + 0.05 * borderHeight\r\n    const bottom = parseFloat(newVal.bottom) - 0.05 * borderHeight\r\n    Object.assign(innerAreaToMainPreviewPercent, {\r\n      left,\r\n      right,\r\n      top,\r\n      bottom\r\n    })\r\n\r\n    const maskLeft = parseFloat(newVal.left) - 0.05 * borderWidth\r\n    const maskRight = parseFloat(newVal.right) + 0.05 * borderWidth\r\n    const maskTop = parseFloat(newVal.top) - 0.05 * borderHeight\r\n    const maskBottom = parseFloat(newVal.bottom) + 0.05 * borderHeight\r\n    const obj = {\r\n      left: maskLeft,\r\n      right: maskRight,\r\n      top: maskTop,\r\n      bottom: maskBottom\r\n    }\r\n    Object.assign(maskAreaPosition, obj)\r\n  },\r\n  {\r\n    deep: true,\r\n    immediate: true\r\n  }\r\n)\r\n\r\n// 方法转发\r\nconst switchToPrevious = (type) => {\r\n  emit('switchToPrevious', type)\r\n}\r\n\r\nconst switchToNext = (type) => {\r\n  emit('switchToNext', type)\r\n}\r\n\r\nconst stopResize = () => {\r\n  emit('stopResize')\r\n}\r\n\r\nconst generateVideo = () => {\r\n  emit('generateVideo')\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use '../index.scss';\r\n</style>\r\n","<template>\r\n  <div class=\"right-side\">\r\n    <div class=\"preview-container\">\r\n      <div class=\"preview-frame preview-frame-first\" v-show=\"false\">\r\n        <div class=\"frame-title\">首帧视频预览</div>\r\n        <div class=\"frame-content\" ref=\"firstPreview\"></div>\r\n      </div>\r\n      <div class=\"preview-frame preview-frame-main\">\r\n        <div class=\"frame-title\">正片预览</div>\r\n        <div class=\"frame-content\" ref=\"mainPreview\">\r\n          <!-- 剧名预览 -->\r\n          <div\r\n            class=\"firstFrameText\"\r\n            :style=\"{\r\n              color: selectedVideoNameInfo.fill,\r\n              backgroundColor: selectedVideoNameInfo.background_color,\r\n              fontSize: `${\r\n                px2remValue(selectedVideoNameInfo.font_size / props.firstAndLastVideoZoom) * zoom()\r\n              }rem`,\r\n              webkitTextStroke: `${\r\n                px2remValue(selectedVideoNameInfo.stroke_width / props.firstAndLastVideoZoom) *\r\n                zoom()\r\n              }rem ${selectedVideoNameInfo.stroke_fill}`,\r\n              top: `${selectedVideoNameInfo.y * 100}%`,\r\n              fontFamily: `${fontFamilyOptions\r\n                .find((ele) => ele.id === selectedVideoNameInfo.font_id)\r\n                ?.name.split('.')\r\n                .slice(0, -1)\r\n                .join('.')}`\r\n            }\"\r\n          >\r\n            {{ selectedVideoNameInfo.text }}\r\n          </div>\r\n\r\n          <!-- 短剧预览待补充 -->\r\n          <div class=\"imagePreview\" v-if=\"checkedData.checkedShortPlay.length\">\r\n            <img :src=\"baseUrl + renderPreviewShortPlayUrl\" class=\"image\" />\r\n          </div>\r\n\r\n          <!-- 贴图预览 -->\r\n          <div class=\"imagePreview\" v-if=\"checkedData.checkedShortPlayStickers.length\">\r\n            <img :src=\"baseUrl + renderPreviewShortPlayStickerUrl\" class=\"image\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"switch-operate\">\r\n          <div class=\"switch-container\">\r\n            <div @click=\"switchToPrevious('shortPlayStickers')\" class=\"previous-btn\"></div>\r\n            <div class=\"counter\">\r\n              {{ `${currentShortPlayStickerIndex + 1}/${checkedData.checkedShortPlayStickers.length}` }}\r\n            </div>\r\n            <div @click=\"switchToNext('shortPlayStickers')\" class=\"next-btn\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"preview-frame preview-frame-last\">\r\n        <div class=\"frame-title\">尾帧视频预览</div>\r\n        <div class=\"frame-content\" ref=\"lastPreview\">\r\n          <!-- 尾帧视频预览 -->\r\n          <img\r\n            :src=\"baseUrl + renderPreviewShortPlayLastFrameUrl\"\r\n            alt=\"\"\r\n            v-if=\"checkedData.checkedShortPlayLastFrames.length\"\r\n            class=\"videoPreview\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 创建按钮放在右侧预览区域底部 -->\r\n    <div class=\"create-button-right\">\r\n      <el-button type=\"primary\" @click=\"generateVideo\" :loading=\"createVideoDisabled\">\r\n        {{ `创建任务 （共${count}条）` }}\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch, reactive, onMounted, onUnmounted, nextTick } from 'vue'\r\nimport { px2remValue, zoom } from '@/utils/resize.js'\r\nimport axios from 'axios'\r\n\r\nconst props = defineProps({\r\n  formData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  checkedData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  fontFamilyOptions: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  renderPreviewShortPlayLastFrameUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  renderPreviewShortPlayStickerUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  createVideoDisabled: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  videoFontZoom: {\r\n    type: Number,\r\n    default: 4\r\n  },\r\n  firstAndLastVideoZoom: {\r\n    type: Number,\r\n    default: 6\r\n  },\r\n  count: {\r\n    type: Number,\r\n    default: 1\r\n  },\r\n  selectedVideoNameInfo: {\r\n    type: Object,\r\n    default: () => ({})\r\n  },\r\n  currentShortPlayStickerIndex: {\r\n    type: Number,\r\n    required: true\r\n  },\r\n  renderPreviewShortPlayUrl: {\r\n    type: String,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['switchToPrevious', 'switchToNext', 'stopResize', 'generateVideo'])\r\n\r\nconst baseUrl = import.meta.env.VITE_API_BASE_URL\r\nconst firstPreview = ref(null)\r\nconst mainPreview = ref(null)\r\nconst lastPreview = ref(null)\r\n\r\n// 设置小说内容\r\nconst setNovelContent = () => {}\r\n\r\nonMounted(() => {\r\n  // 生成的视频是720*1280的 缩小videoFontZoom倍  * 相对于开发时1000的屏幕为基准放大的倍数zoom\r\n  const domList = [firstPreview, lastPreview]\r\n  domList.forEach((item) => {\r\n    item.value.style.width = `${px2remValue(720 / props.firstAndLastVideoZoom) * zoom()}rem`\r\n    item.value.style.minWidth = `${px2remValue(720 / props.firstAndLastVideoZoom) * zoom()}rem`\r\n    item.value.style.height = `${px2remValue(1280 / props.firstAndLastVideoZoom) * zoom()}rem`\r\n  })\r\n\r\n  mainPreview.value.style.width = `${px2remValue(720 / props.videoFontZoom) * zoom()}rem`\r\n  mainPreview.value.style.minWidth = `${px2remValue(720 / props.videoFontZoom) * zoom()}rem`\r\n  mainPreview.value.style.height = `${px2remValue(1280 / props.videoFontZoom) * zoom()}rem`\r\n})\r\n\r\n// 单独监听小说内容变化\r\nwatch(\r\n  () => props.checkedData.checkedNovel,\r\n  (newVal) => {\r\n    if (newVal.length) {\r\n      setNovelContent()\r\n    } else {\r\n      const novelContentDiv = document.getElementById('novelContent')\r\n      if (novelContentDiv) novelContentDiv.innerHTML = ''\r\n    }\r\n  }\r\n)\r\n\r\n// 方法转发\r\nconst switchToPrevious = (type) => {\r\n  emit('switchToPrevious', type)\r\n}\r\n\r\nconst switchToNext = (type) => {\r\n  emit('switchToNext', type)\r\n}\r\n\r\nconst generateVideo = () => {\r\n  emit('generateVideo')\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use '../../BatchNovels/components/SimulatedReading/index.scss';\r\n</style>\r\n","<template>\r\n  <div class=\"first-frame-settings\">\r\n    <!-- 首帧标题编辑区域 -->\r\n    <div class=\"titles-container-wrapper\">\r\n      <!-- 标题列表区域，添加滚动条 -->\r\n      <div class=\"titles-scroll-area\">\r\n        <div\r\n          v-for=\"(domain, index) in localFormData.firstFrameVideo\"\r\n          :key=\"domain.key\"\r\n          class=\"title-row\"\r\n        >\r\n          <!-- 紧凑的单行文本输入 -->\r\n          <div class=\"title-input-wrapper\">\r\n            <span\r\n              v-if=\"source === taskSourceEnum.SHORT_PLAY\"\r\n              class=\"preview-btn\"\r\n              @click=\"previewVideoName(domain, index)\"\r\n              :class=\"{ active: selectedIndex === index }\"\r\n              >预览</span\r\n            >\r\n            <el-input\r\n              v-model=\"domain.text\"\r\n              placeholder=\"请输入标题\"\r\n              @input=\"handleTextInput(domain)\"\r\n              class=\"title-input\"\r\n            />\r\n          </div>\r\n\r\n          <!-- 工具栏 -->\r\n          <div class=\"title-tools\">\r\n            <!-- 合并的样式按钮 -->\r\n            <el-popover\r\n              placement=\"bottom\"\r\n              width=\"320\"\r\n              trigger=\"click\"\r\n              popper-class=\"custom-popover\"\r\n            >\r\n              <template #reference>\r\n                <div class=\"tool-btn\" title=\"标题样式\">\r\n                  <svg\r\n                    class=\"icon-svg\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    stroke-width=\"2\"\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                  >\r\n                    <path d=\"M12 20h9\"></path>\r\n                    <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path>\r\n                  </svg>\r\n                </div>\r\n              </template>\r\n              <div class=\"style-panel\">\r\n                <!-- 字体设置 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"style-section-header\">\r\n                    <svg\r\n                      class=\"icon-svg section-icon\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      stroke-width=\"2\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <text x=\"5\" y=\"19\" style=\"font-size: 17px; font-weight: 400\">A</text>\r\n                    </svg>\r\n                    <span>字体</span>\r\n                  </div>\r\n                  <el-select\r\n                    v-model=\"domain.font_id\"\r\n                    placeholder=\"选择字体\"\r\n                    style=\"width: 100%\"\r\n                    @change=\"updateFormData\"\r\n                    filterable\r\n                    size=\"small\"\r\n                    :teleported=\"false\"\r\n                  >\r\n                    <el-option\r\n                      v-for=\"option in fontFamilyOptions\"\r\n                      :key=\"option.id\"\r\n                      :label=\"option.name\"\r\n                      :value=\"option.id\"\r\n                    />\r\n                  </el-select>\r\n                </div>\r\n\r\n                <!-- 字号和描边设置 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"flex-row\">\r\n                    <div class=\"flex-col flex-1\">\r\n                      <div class=\"style-section-header\">\r\n                        <svg\r\n                          class=\"icon-svg section-icon\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          stroke-width=\"2\"\r\n                          stroke-linecap=\"round\"\r\n                          stroke-linejoin=\"round\"\r\n                        >\r\n                          <text x=\"7\" y=\"17\" style=\"font-size: 14px; font-weight: 400\">T</text>\r\n                        </svg>\r\n                        <span>字号</span>\r\n                      </div>\r\n                      <el-input-number\r\n                        v-model=\"domain.font_size\"\r\n                        :min=\"1\"\r\n                        :max=\"100\"\r\n                        @change=\"updateFormData\"\r\n                        @input=\"handleSizeInput(domain)\"\r\n                        style=\"width: 100%\"\r\n                        size=\"small\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"flex-col flex-1 ml-2\">\r\n                      <div class=\"style-section-header\">\r\n                        <svg\r\n                          class=\"icon-svg section-icon\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          stroke-width=\"2\"\r\n                          stroke-linecap=\"round\"\r\n                          stroke-linejoin=\"round\"\r\n                        >\r\n                          <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\r\n                          <path d=\"M15 3h6v6\"></path>\r\n                          <path d=\"M10 14L21 3\"></path>\r\n                        </svg>\r\n                        <span>描边宽度</span>\r\n                      </div>\r\n                      <el-input-number\r\n                        v-model=\"domain.stroke_width\"\r\n                        :min=\"1\"\r\n                        :max=\"20\"\r\n                        :step=\"1\"\r\n                        @input=\"handleStrokeInput(domain)\"\r\n                        @change=\"updateFormData\"\r\n                        style=\"width: 100%\"\r\n                        size=\"small\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 颜色设置 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"style-section-header\">\r\n                    <svg\r\n                      class=\"icon-svg section-icon\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      stroke-width=\"2\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n                      <path d=\"M8 12a4 4 0 0 1 8 0\"></path>\r\n                    </svg>\r\n                    <span>颜色</span>\r\n                  </div>\r\n\r\n                  <div class=\"color-pickers\">\r\n                    <div class=\"color-picker-item\">\r\n                      <span>字体色</span>\r\n                      <el-color-picker\r\n                        v-model=\"domain.fill\"\r\n                        show-alpha\r\n                        @active-change=\"(val) => handleColorChange(domain, 'fill', val)\"\r\n                        @change=\"updateFormData\"\r\n                        size=\"small\"\r\n                        :teleported=\"false\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"color-picker-item\">\r\n                      <span>背景色</span>\r\n                      <el-color-picker\r\n                        v-model=\"domain.background_color\"\r\n                        show-alpha\r\n                        @active-change=\"(val) => handleColorChange(domain, 'background_color', val)\"\r\n                        @change=\"updateFormData\"\r\n                        size=\"small\"\r\n                        :teleported=\"false\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"color-picker-item\">\r\n                      <span>描边色</span>\r\n                      <el-color-picker\r\n                        v-model=\"domain.stroke_fill\"\r\n                        show-alpha\r\n                        @active-change=\"(val) => handleColorChange(domain, 'stroke_fill', val)\"\r\n                        @change=\"updateFormData\"\r\n                        size=\"small\"\r\n                        :teleported=\"false\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 位置和应用于全局 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"flex-row\">\r\n                    <div class=\"flex-col flex-1\">\r\n                      <div class=\"style-section-header\">\r\n                        <svg\r\n                          class=\"icon-svg section-icon\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          stroke-width=\"2\"\r\n                          stroke-linecap=\"round\"\r\n                          stroke-linejoin=\"round\"\r\n                        >\r\n                          <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\r\n                          <polyline points=\"19 12 12 19 5 12\"></polyline>\r\n                        </svg>\r\n                        <span>顶部距离</span>\r\n                      </div>\r\n                      <el-slider\r\n                        v-model=\"domain.y\"\r\n                        :min=\"0\"\r\n                        :max=\"1\"\r\n                        :step=\"0.001\"\r\n                        @input=\"handlePositionInput(domain)\"\r\n                        @change=\"updateFormData\"\r\n                        style=\"width: 100%\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 应用于全局 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"style-section-header\">\r\n                    <svg\r\n                      class=\"icon-svg section-icon\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      stroke-width=\"2\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <path\r\n                        d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"\r\n                      ></path>\r\n                      <rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect>\r\n                    </svg>\r\n                    <span>应用于全局</span>\r\n                  </div>\r\n\r\n                  <div class=\"apply-global-options\">\r\n                    <div class=\"apply-options\">\r\n                      <el-checkbox v-model=\"applyOptions.font\" label=\"字体\" border size=\"small\" />\r\n                      <el-checkbox\r\n                        v-model=\"applyOptions.fontSize\"\r\n                        label=\"字号\"\r\n                        border\r\n                        size=\"small\"\r\n                      />\r\n                      <el-checkbox v-model=\"applyOptions.stroke\" label=\"描边\" border size=\"small\" />\r\n                      <el-checkbox v-model=\"applyOptions.colors\" label=\"颜色\" border size=\"small\" />\r\n                    </div>\r\n                    <el-button\r\n                      @click=\"applyToAllTitles(domain, index)\"\r\n                      type=\"primary\"\r\n                      size=\"small\"\r\n                      class=\"apply-btn\"\r\n                      :disabled=\"!hasSelectedOptions\"\r\n                    >\r\n                      应用选中项到所有标题\r\n                    </el-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-popover>\r\n\r\n            <el-button\r\n              type=\"text\"\r\n              @click.prevent=\"removeDomain(domain)\"\r\n              class=\"delete-btn\"\r\n              size=\"small\"\r\n            >\r\n              <svg\r\n                class=\"icon-svg delete-icon\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                stroke-width=\"2\"\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n              >\r\n                <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n              </svg>\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 添加新标题按钮，固定在底部 -->\r\n      <div\r\n        class=\"add-title-row\"\r\n        v-if=\"\r\n          source === taskSourceEnum.NOVEL\r\n            ? localFormData.firstFrameVideo.length < 5\r\n            : localFormData.firstFrameVideo.length < formData.count\r\n        \"\r\n      >\r\n        <el-button type=\"primary\" @click.prevent=\"addFirstFrameVideoCard\" class=\"add-title-btn\">\r\n          <svg\r\n            class=\"icon-svg plus-icon\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            stroke-width=\"2\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          >\r\n            <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\r\n            <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\r\n          </svg>\r\n          添加新标题\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, watch, computed } from 'vue'\r\nimport { getRandomColorCombination } from '@/utils/utils.js'\r\nimport { taskSourceEnum } from '@/utils/enums.js'\r\n\r\nconst props = defineProps({\r\n  formData: Object,\r\n  checkedData: Object,\r\n  fontFamilyOptions: Array,\r\n  source: {\r\n    type: String,\r\n    default: 'novel'\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:formData', 'update:selectedVideoNameInfo'])\r\n\r\nconst selectedIndex = ref(undefined)\r\n\r\n// 使用本地副本避免直接修改 props\r\nconst localFormData = reactive({ ...props.formData })\r\n\r\n// 应用于全局选项\r\nconst applyOptions = reactive({\r\n  font: false,\r\n  fontSize: false,\r\n  stroke: false,\r\n  colors: false,\r\n  position: false\r\n})\r\n\r\n// 计算是否有选中的选项\r\nconst hasSelectedOptions = computed(() => {\r\n  return (\r\n    applyOptions.font ||\r\n    applyOptions.fontSize ||\r\n    applyOptions.stroke ||\r\n    applyOptions.colors ||\r\n    applyOptions.position\r\n  )\r\n})\r\n\r\n// 监听本地数据变化，通知父组件更新\r\nconst updateFormData = () => {\r\n  emit('update:formData', localFormData)\r\n}\r\n\r\n// 添加实时更新函数，确保每次输入都能同步\r\nconst handleTextInput = (domain) => {\r\n  updateFormData()\r\n  // 在短剧模式下，自动预览当前编辑的剧名\r\n  if (props.source === taskSourceEnum.SHORT_PLAY) {\r\n    const index = localFormData.firstFrameVideo.findIndex((item) => item === domain)\r\n    previewVideoName(domain, index)\r\n  }\r\n}\r\n\r\n// 处理字号变化\r\nconst handleSizeInput = (domain) => {\r\n  updateFormData()\r\n}\r\n\r\n// 处理描边宽度变化\r\nconst handleStrokeInput = (domain) => {\r\n  updateFormData()\r\n}\r\n\r\n// 处理颜色变化\r\nconst handleColorChange = (domain, type, value) => {\r\n  domain[type] = value\r\n  updateFormData()\r\n}\r\n\r\n// 处理位置变化\r\nconst handlePositionInput = (domain) => {\r\n  updateFormData()\r\n}\r\n\r\n// 将选中样式应用到所有标题\r\nconst applyToAllTitles = (sourceDomain, sourceIndex) => {\r\n  localFormData.firstFrameVideo.forEach((domain, index) => {\r\n    if (index !== sourceIndex) {\r\n      if (applyOptions.font) {\r\n        domain.font_id = sourceDomain.font_id\r\n      }\r\n      if (applyOptions.fontSize) {\r\n        domain.font_size = sourceDomain.font_size\r\n      }\r\n      if (applyOptions.stroke) {\r\n        domain.stroke_width = sourceDomain.stroke_width\r\n        domain.stroke_fill = sourceDomain.stroke_fill\r\n      }\r\n      if (applyOptions.colors) {\r\n        domain.fill = sourceDomain.fill\r\n        domain.background_color = sourceDomain.background_color\r\n        domain.firstFrameColorMode = sourceDomain.firstFrameColorMode\r\n      }\r\n      if (applyOptions.position) {\r\n        domain.y = sourceDomain.y\r\n      }\r\n    }\r\n  })\r\n\r\n  // 重置选项\r\n  Object.keys(applyOptions).forEach((key) => {\r\n    applyOptions[key] = false\r\n  })\r\n\r\n  updateFormData()\r\n}\r\n\r\n// 监听父组件传递的 props 变化，更新本地副本\r\nwatch(\r\n  () => props.formData,\r\n  (newFormData) => {\r\n    Object.assign(localFormData, newFormData)\r\n  },\r\n  { deep: true }\r\n)\r\n\r\n// 添加首帧标题\r\nconst addFirstFrameVideoCard = () => {\r\n  const newCard = {\r\n    key: Date.now(),\r\n    text: '',\r\n    font_id:\r\n      props.fontFamilyOptions.length &&\r\n      (props.fontFamilyOptions.find(\r\n        (item) => item.name.split('.').slice(0, -1).join('.') === '方正黑体简体'\r\n      )?.id ||\r\n        props.fontFamilyOptions[0].id),\r\n    font_size: 35,\r\n    stroke_width: 2,\r\n    firstFrameColorMode: false,\r\n    fill: 'rgba(255, 255, 255, 1)', // 前景色\r\n    background_color: 'rgba(255, 255, 0, 1)', // 背景色\r\n    stroke_fill: 'rgba(0, 0, 0, 1)', // 描边颜色\r\n    y: props.source === taskSourceEnum.NOVEL ? 0.2 : 0.8 // 顶部距离\r\n  }\r\n\r\n  localFormData.firstFrameVideo.push(newCard)\r\n  updateFormData()\r\n\r\n  // 在短剧模式下，自动预览新添加的剧名\r\n  if (props.source === taskSourceEnum.SHORT_PLAY) {\r\n    const index = localFormData.firstFrameVideo.length - 1\r\n    previewVideoName(newCard, index)\r\n  }\r\n}\r\n\r\n// 移除首帧标题\r\nconst removeDomain = (item) => {\r\n  const index = localFormData.firstFrameVideo.indexOf(item)\r\n  if (index !== -1) {\r\n    // 如果删除的是当前正在预览的剧名，清除预览信息\r\n    if (index === selectedIndex.value && props.source === taskSourceEnum.SHORT_PLAY) {\r\n      selectedIndex.value = undefined\r\n      emit('update:selectedVideoNameInfo', {})\r\n    }\r\n    // 如果删除的索引小于当前预览索引，需要更新预览索引\r\n    else if (\r\n      selectedIndex.value !== undefined &&\r\n      index < selectedIndex.value &&\r\n      props.source === taskSourceEnum.SHORT_PLAY\r\n    ) {\r\n      selectedIndex.value--\r\n    }\r\n    localFormData.firstFrameVideo.splice(index, 1)\r\n    updateFormData()\r\n  }\r\n}\r\n\r\n// 随机生成配色\r\nconst randomizeFirstFrameColors = (selectIndex) => {\r\n  const findSelected = localFormData.firstFrameVideo.find((item, index) => index === selectIndex)\r\n  if (findSelected) {\r\n    const randomColor = getRandomColorCombination()\r\n    findSelected.fill = randomColor.fill\r\n    findSelected.background_color = randomColor.background_color\r\n    findSelected.stroke_fill = randomColor.stroke_fill\r\n    updateFormData()\r\n  }\r\n}\r\n\r\nconst previewVideoName = (nameInfo, index) => {\r\n  selectedIndex.value = index\r\n  emit('update:selectedVideoNameInfo', nameInfo)\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.first-frame-settings {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n.titles-container-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  height: 100%;\r\n  max-height: 400px; /* 设置最大高度 */\r\n  position: relative;\r\n}\r\n\r\n.titles-scroll-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  margin: 8px 0;\r\n  overflow-y: auto;\r\n  max-height: calc(100% - 60px); /* 减去按钮的高度 */\r\n  padding-right: 8px; /* 防止滚动条与内容重叠 */\r\n}\r\n\r\n/* 自定义滚动条样式 */\r\n.titles-scroll-area::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.titles-scroll-area::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 4px;\r\n}\r\n\r\n.titles-scroll-area::-webkit-scrollbar-thumb {\r\n  background: #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.titles-scroll-area::-webkit-scrollbar-thumb:hover {\r\n  background: #aaa;\r\n}\r\n\r\n.title-row {\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: #fff;\r\n  border-radius: 6px;\r\n  padding: 10px 12px;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\r\n  gap: 8px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.title-row:hover {\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.title-input-wrapper {\r\n  flex-grow: 1;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n\r\n  .preview-btn {\r\n    font-size: 14px;\r\n    width: 40px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .active {\r\n    color: #409eff;\r\n  }\r\n}\r\n\r\n.title-input {\r\n  width: 100%;\r\n  flex-grow: 1;\r\n}\r\n\r\n.delete-btn {\r\n  position: relative;\r\n  margin-left: 4px;\r\n  flex-shrink: 0;\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n  background-color: transparent;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.delete-btn:hover {\r\n  background-color: #f5f7fa;\r\n  border-color: #dcdfe6;\r\n}\r\n\r\n.title-tools {\r\n  display: flex;\r\n  gap: 6px;\r\n  align-items: center;\r\n}\r\n\r\n.tool-btn {\r\n  width: 28px;\r\n  height: 28px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 4px;\r\n  background-color: #f5f7fa;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.tool-btn:hover {\r\n  background-color: #e6f1fc;\r\n}\r\n\r\n.add-title-row {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 12px;\r\n  padding-top: 8px;\r\n  border-top: 1px dashed #e0e0e0;\r\n  position: sticky;\r\n  bottom: 0;\r\n  background-color: #fff;\r\n  z-index: 10;\r\n}\r\n\r\n.add-title-btn {\r\n  width: 100%;\r\n  height: 40px;\r\n  font-weight: 500;\r\n  border-radius: 6px;\r\n  transition: all 0.3s ease;\r\n  background-image: linear-gradient(to right, #409eff, #59b6ff);\r\n  border: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 4px;\r\n}\r\n\r\n.add-title-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(64, 158, 255, 0.2);\r\n}\r\n\r\n.popover-form-item {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.color-pickers {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n  justify-content: space-between;\r\n}\r\n\r\n.color-picker-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.color-picker-item span {\r\n  font-size: 12px;\r\n  color: #606266;\r\n}\r\n\r\n.icon-svg {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #606266;\r\n}\r\n\r\n.delete-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #909399;\r\n}\r\n\r\n.plus-icon {\r\n  width: 14px;\r\n  height: 14px;\r\n  color: #fff;\r\n}\r\n\r\n:deep(.custom-popover) {\r\n  padding: 16px;\r\n}\r\n\r\n:deep(.el-popover__title) {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n/* 应用于全局样式 */\r\n.apply-global-options {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.apply-hint {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  margin: 0;\r\n}\r\n\r\n.apply-options {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.apply-btn {\r\n  margin-top: 4px;\r\n}\r\n\r\n/* 样式面板和部分样式 */\r\n.style-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  max-height: 380px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.style-section {\r\n  border-radius: 6px;\r\n  background-color: #f9f9f9;\r\n  padding: 10px;\r\n}\r\n\r\n.style-section-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  margin-bottom: 8px;\r\n  font-weight: 500;\r\n  color: #303133;\r\n  font-size: 13px;\r\n}\r\n\r\n.section-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #409eff;\r\n}\r\n\r\n/* 样式面板滚动条 */\r\n.style-panel::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.style-panel::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 4px;\r\n}\r\n\r\n.style-panel::-webkit-scrollbar-thumb {\r\n  background: #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.style-panel::-webkit-scrollbar-thumb:hover {\r\n  background: #aaa;\r\n}\r\n\r\n/* 弹性布局 */\r\n.flex-row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.flex-col {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.flex-1 {\r\n  flex: 1;\r\n}\r\n\r\n.ml-2 {\r\n  margin-left: 8px;\r\n}\r\n\r\n.random-btn {\r\n  height: 24px;\r\n  padding: 0 8px;\r\n  margin-top: 8px;\r\n  font-size: 12px;\r\n}\r\n</style>\r\n","import { ref, reactive } from 'vue'\r\nimport { useNovelStore } from '@/store/novelStore'\r\nimport { arrayToRgba } from '@/utils/utils.js'\r\n\r\nexport function useTaskInitialization(\r\n  readFormData,\r\n  checkedData,\r\n  currentFirstFrameIndex,\r\n  currentLastFrameIndex,\r\n  currentBackgroundIndex,\r\n  currentTextVideoIndex,\r\n  groupData,\r\n  mainSearchBoxText,\r\n  endSearchBoxText,\r\n  currentShortPlayStickerIndex\r\n) {\r\n  const novelStore = useNovelStore()\r\n  const renderPreviewFirstFrameUrl = ref('')\r\n  const renderPreviewBackgroundUrl = ref('')\r\n  const renderPreviewLastFrameUrl = ref('')\r\n  const renderPreviewStickerUrl = ref('')\r\n  const renderPreviewTextImageUrl = ref('')\r\n  const renderPreviewTextVideoUrl = ref('')\r\n  const renderPreviewShortPlayUrl = ref('')\r\n  const renderPreviewShortPlayStickerUrl = ref('')\r\n  const renderPreviewShortPlayLastFrameUrl = ref('')\r\n\r\n  const renderPreviewFirstFrameId = ref('')\r\n  const renderPreviewBackgroundId = ref('')\r\n  const renderPreviewLastFrameId = ref('')\r\n  const renderPreviewStickerId = ref('')\r\n  const renderPreviewTextImageId = ref('')\r\n  const renderPreviewTextVideoId = ref('')\r\n  const renderPreviewShortPlayId = ref('')\r\n  const renderPreviewShortPlayStickerId = ref('')\r\n  const renderPreviewShortPlayLastFrameId = ref('')\r\n\r\n  const renderPreviewBackgroundPosition = reactive({\r\n    left: 0,\r\n    right: 1,\r\n    top: 0,\r\n    bottom: 1\r\n  })\r\n  const renderPreviewBackgroundNeedMask = ref(false)\r\n  const renderPreviewBackgroundTextFill = ref([255, 255, 255, 1])\r\n\r\n  const initializeTaskData = () => {\r\n    const { taskGenerateParams } = novelStore\r\n\r\n    if (\r\n      !Object.keys(taskGenerateParams).length ||\r\n      (taskGenerateParams.category !== 'ReadingSimu' && taskGenerateParams.category !== 'ShortFilm')\r\n    ) {\r\n      return\r\n    }\r\n\r\n    console.log(taskGenerateParams, 'taskGenerateParams')\r\n\r\n    if (taskGenerateParams.category === 'ReadingSimu') {\r\n      // 初始化表单数据\r\n      readFormData.taskName = taskGenerateParams.name || ''\r\n      readFormData.fontFamily = taskGenerateParams.novel.font_id\r\n      readFormData.novelFontSize = taskGenerateParams.novel.font_size\r\n      readFormData.lineHeight = taskGenerateParams.novel.line_height\r\n      readFormData.paragraphSpacing = taskGenerateParams.novel.paragraph_spacing\r\n      readFormData.firstLineIndent = taskGenerateParams.novel.first_line_indent\r\n      readFormData.letterSpacing = taskGenerateParams.novel.character_spacing\r\n      readFormData.scrollStart = taskGenerateParams.novel.scroll_start_position\r\n      readFormData.scrollDelay = taskGenerateParams.novel.scroll_delay\r\n      readFormData.scrollSpeed = taskGenerateParams.novel.scroll_speed\r\n      readFormData.volume = taskGenerateParams.background_music?.volume || 0.5\r\n      readFormData.count = taskGenerateParams.generate_count\r\n      readFormData.groupCount = taskGenerateParams.group_count || 0\r\n      readFormData.pre_video_volume = taskGenerateParams.pre_video.volume || 0.5\r\n\r\n      // 初始化勾选数据\r\n      checkedData.checkedNovel = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '小说'\r\n      )\r\n      checkedData.checkedFirstFrames = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '首帧视频'\r\n      )\r\n      checkedData.checkedBackgroundList = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '背景图片'\r\n      )\r\n\r\n      const historyMusicList = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '背景音乐'\r\n      )\r\n\r\n      const totalHistoryMusicList = historyMusicList.map((item) => {\r\n        return {\r\n          id: item.id,\r\n          is_public: item.is_public,\r\n          name: item.name,\r\n          file_id: item.file_id,\r\n          file_url: item.file_url,\r\n          duration: item.duration,\r\n          tags: item.tags,\r\n          create_time: item.create_time\r\n        }\r\n      })\r\n      checkedData.checkedMusic = totalHistoryMusicList\r\n\r\n      if (readFormData.groupCount === 0) {\r\n        checkedData.checkedStickers = taskGenerateParams.materials.filter(\r\n          (item) => item.category === '贴片'\r\n        )\r\n        checkedData.checkedLastFrames = taskGenerateParams.materials.filter(\r\n          (item) => item.category === '尾帧视频'\r\n        )\r\n\r\n        checkedData.checkedTextImages = taskGenerateParams.materials.filter(\r\n          (item) => item.category === '模板图片'\r\n        )\r\n        checkedData.checkedTextVideos = taskGenerateParams.materials.filter(\r\n          (item) => item.category === '模板视频'\r\n        )\r\n\r\n        mainSearchBoxText.value = taskGenerateParams.template_image?.text || ''\r\n        endSearchBoxText.value = taskGenerateParams.template_video?.text || ''\r\n      }\r\n\r\n      // 初始化预览 URL\r\n      renderPreviewFirstFrameUrl.value = checkedData.checkedFirstFrames[0]?.key_frame_url || ''\r\n      renderPreviewBackgroundUrl.value = checkedData.checkedBackgroundList[0]?.file_url || ''\r\n      renderPreviewLastFrameUrl.value = checkedData.checkedLastFrames[0]?.key_frame_url || ''\r\n      renderPreviewStickerUrl.value = checkedData.checkedStickers[0]?.file_url || ''\r\n      renderPreviewTextImageUrl.value = checkedData.checkedTextImages[0]?.file_url || ''\r\n      renderPreviewTextVideoUrl.value = checkedData.checkedTextVideos[0]?.key_frame_url || ''\r\n\r\n      renderPreviewFirstFrameId.value = checkedData.checkedFirstFrames[0]?.id || 0\r\n      renderPreviewBackgroundId.value = checkedData.checkedBackgroundList[0]?.id || 0\r\n      renderPreviewLastFrameId.value = checkedData.checkedLastFrames[0]?.id || 0\r\n      renderPreviewStickerId.value = checkedData.checkedStickers[0]?.id || 0\r\n      renderPreviewTextImageId.value = checkedData.checkedTextImages[0]?.id || 0\r\n      renderPreviewTextVideoId.value = checkedData.checkedTextVideos[0]?.id || 0\r\n\r\n      Object.assign(renderPreviewBackgroundPosition, checkedData.checkedBackgroundList[0]?.border)\r\n      renderPreviewBackgroundNeedMask.value = checkedData.checkedBackgroundList[0]?.need_mask\r\n      renderPreviewBackgroundTextFill.value = checkedData.checkedBackgroundList[0]?.text_fill\r\n\r\n      // 首帧视频标题\r\n      readFormData.firstFrameVideo = taskGenerateParams.pre_video_titles.map((item) => {\r\n        return {\r\n          font_id: item.font_id,\r\n          text: item.text,\r\n          font_size: item.font_size,\r\n          stroke_width: item.stroke_width,\r\n          fill: arrayToRgba(item.fill),\r\n          background_color: arrayToRgba(item.background_color),\r\n          stroke_fill: arrayToRgba(item.stroke_fill),\r\n          y: item.y,\r\n          firstFrameColorMode: item.title_color_random\r\n        }\r\n      })\r\n\r\n      // 背景音乐开始位置\r\n      readFormData.musicStartPosition = taskGenerateParams.background_music?.start_position\r\n\r\n      // 初始化组合数据\r\n      // 创建材料ID到材料对象的映射，方便查找\r\n      const materialsMap = {}\r\n      taskGenerateParams.materials.forEach((material) => {\r\n        materialsMap[material.id] = material\r\n      })\r\n\r\n      if (readFormData.groupCount > 0) {\r\n        // 初始化组合数据\r\n        groupData.groupStickers = taskGenerateParams.material_group.map((item) => {\r\n          if (item.sticker_id === undefined || item.sticker_id === null) {\r\n            return []\r\n          } else {\r\n            const material = materialsMap[item.sticker_id]\r\n            return material ? [material] : []\r\n          }\r\n        })\r\n\r\n        groupData.groupLastFrames = taskGenerateParams.material_group.map((item) => {\r\n          if (item.post_video_id === undefined || item.post_video_id === null) {\r\n            return []\r\n          } else {\r\n            const material = materialsMap[item.post_video_id]\r\n            return material ? [material] : []\r\n          }\r\n        })\r\n\r\n        groupData.groupTextImages = taskGenerateParams.material_group.map((item) => {\r\n          if (item.template_image_id === undefined || item.template_image_id === null) {\r\n            return []\r\n          } else {\r\n            const material = materialsMap[item.template_image_id]\r\n            return material ? [material] : []\r\n          }\r\n        })\r\n\r\n        groupData.groupTextVideos = taskGenerateParams.material_group.map((item) => {\r\n          if (item.template_video_id === undefined || item.template_video_id === null) {\r\n            return []\r\n          } else {\r\n            const material = materialsMap[item.template_video_id]\r\n            return material ? [material] : []\r\n          }\r\n        })\r\n\r\n        groupData.groupTextImageTexts = taskGenerateParams.material_group.map((item) => {\r\n          return item.template_image_text || ''\r\n        })\r\n\r\n        groupData.groupTextVideoTexts = taskGenerateParams.material_group.map((item) => {\r\n          return item.template_video_text || ''\r\n        })\r\n\r\n        // 初始化组合名称\r\n        groupData.groupNames = taskGenerateParams.material_group.map((item, index) => {\r\n          return item.group_name || `组合 ${index + 1}`\r\n        })\r\n\r\n        checkedData.checkedStickers = []\r\n        checkedData.checkedLastFrames = []\r\n        checkedData.checkedTextImages = []\r\n        checkedData.checkedTextVideos = []\r\n        mainSearchBoxText.value = ''\r\n        endSearchBoxText.value = ''\r\n      } else {\r\n        // 当 groupCount 为 0 时，初始化空的组合数据\r\n        groupData.groupStickers = []\r\n        groupData.groupLastFrames = []\r\n        groupData.groupTextImages = []\r\n        groupData.groupTextVideos = []\r\n        groupData.groupTextImageTexts = []\r\n        groupData.groupTextVideoTexts = []\r\n        groupData.groupNames = []\r\n      }\r\n\r\n      // 切换index回显\r\n      if (checkedData.checkedFirstFrames.length) {\r\n        currentFirstFrameIndex.value = 0\r\n      }\r\n      if (checkedData.checkedBackgroundList.length) {\r\n        currentBackgroundIndex.value = 0\r\n      }\r\n      if (checkedData.checkedLastFrames.length) {\r\n        currentLastFrameIndex.value = 0\r\n      }\r\n      if (checkedData.checkedTextVideos.length) {\r\n        currentTextVideoIndex.value = 0\r\n      }\r\n    } else if (taskGenerateParams.category === 'ShortFilm') {\r\n      // 初始化表单数据\r\n      readFormData.taskName = taskGenerateParams.name || ''\r\n      readFormData.count = taskGenerateParams.generate_count\r\n      // 素材\r\n      checkedData.checkedShortPlay = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '短剧视频'\r\n      )\r\n      checkedData.checkedShortPlayStickers = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '短剧贴图'\r\n      )\r\n      checkedData.checkedShortPlayLastFrames = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '短剧尾帧'\r\n      )\r\n      // 剧名\r\n      readFormData.firstFrameVideo = taskGenerateParams.main_titles.map((item) => {\r\n        return {\r\n          font_id: item.font_id,\r\n          text: item.text,\r\n          font_size: item.font_size,\r\n          stroke_width: item.stroke_width,\r\n          fill: arrayToRgba(item.fill),\r\n          background_color: arrayToRgba(item.background_color),\r\n          stroke_fill: arrayToRgba(item.stroke_fill),\r\n          y: item.y,\r\n          firstFrameColorMode: item.title_color_random\r\n        }\r\n      })\r\n\r\n      renderPreviewShortPlayUrl.value = checkedData.checkedShortPlay[0]?.key_frame_url || ''\r\n      renderPreviewShortPlayStickerUrl.value =\r\n        checkedData.checkedShortPlayStickers[0]?.file_url || ''\r\n      renderPreviewShortPlayLastFrameUrl.value =\r\n        checkedData.checkedShortPlayLastFrames[0]?.key_frame_url || ''\r\n\r\n      renderPreviewShortPlayId.value = checkedData.checkedShortPlay[0]?.id || 0\r\n      renderPreviewShortPlayStickerId.value = checkedData.checkedShortPlayStickers[0]?.id || 0\r\n      renderPreviewShortPlayLastFrameId.value = checkedData.checkedShortPlayLastFrames[0]?.id || 0\r\n      if (checkedData.checkedShortPlayStickers.length) {\r\n        currentShortPlayStickerIndex.value = 0\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    renderPreviewFirstFrameUrl,\r\n    renderPreviewBackgroundUrl,\r\n    renderPreviewLastFrameUrl,\r\n    renderPreviewStickerUrl,\r\n    renderPreviewTextImageUrl,\r\n    renderPreviewTextVideoUrl,\r\n    renderPreviewShortPlayUrl,\r\n    renderPreviewShortPlayStickerUrl,\r\n    renderPreviewShortPlayLastFrameUrl,\r\n    initializeTaskData,\r\n    renderPreviewBackgroundPosition,\r\n    renderPreviewBackgroundNeedMask,\r\n    renderPreviewBackgroundTextFill,\r\n    renderPreviewFirstFrameId,\r\n    renderPreviewBackgroundId,\r\n    renderPreviewLastFrameId,\r\n    renderPreviewStickerId,\r\n    renderPreviewTextImageId,\r\n    renderPreviewTextVideoId,\r\n    renderPreviewShortPlayId,\r\n    renderPreviewShortPlayStickerId,\r\n    renderPreviewShortPlayLastFrameId\r\n  }\r\n}\r\n","import request from '../utils/axios'\r\nimport bus from '@/utils/mitt.js'\r\n\r\n// 生成模拟阅读视频\r\nexport const generateShortFirmRequest = async (data) => {\r\n  return request({\r\n    url: `/short_film/task/create`,\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n","import { reactive, computed, ref } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { rgbaToArray } from '@/utils/utils.js'\r\nimport { generateSimulatedReadingRequest } from '@/service/novel'\r\nimport { taskSourceEnum } from '@/utils/enums.js'\r\nimport { generateShortFirmRequest } from '@/service/shortFirm'\r\n\r\n/**\r\n * 表单验证和提交逻辑\r\n * @param {Object} readFormData - 表单数据\r\n * @param {Object} checkedData - 已选择的素材数据\r\n * @param {Object} tagValue - 标签值\r\n * @param {Object} materialDates - 素材日期\r\n * @param {Object} groupData - 组合数据\r\n * @param {Object} isFromMaterialChecked - 是否从素材库选择\r\n * @param {Object} mainSearchBoxText - 主搜索框文本\r\n * @param {Object} endSearchBoxText - 尾部搜索框文本\r\n * @param {Object} bus - 事件总线\r\n * @param {Object} fontFamilyOptions - 字体选项\r\n * @param {Object} componentList - 组件列表\r\n * @param {Object} activeTab - 活动标签\r\n * @param {Function} loadTextConfig - 加载文本配置函数\r\n * @param {Function} loadMusicConfig - 加载音乐配置函数\r\n * @returns {Object} - 表单验证和提交相关的函数和变量\r\n */\r\nexport function useFormSubmit(\r\n  readFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  groupData,\r\n  isFromMaterialChecked,\r\n  mainSearchBoxText,\r\n  endSearchBoxText,\r\n  bus,\r\n  fontFamilyOptions,\r\n  componentList,\r\n  activeTab,\r\n  loadTextConfig,\r\n  loadMusicConfig,\r\n  source,\r\n  selectedVideoNameInfo\r\n) {\r\n  // 初始化为false，表示按钮不禁用\r\n  const createVideoDisabled = ref(false)\r\n\r\n  const isNovel = computed(() => {\r\n    return source === taskSourceEnum.NOVEL\r\n  })\r\n\r\n  let loadConfigFn = null\r\n\r\n  const setLoadConfigFn = (fn) => {\r\n    loadConfigFn = fn\r\n  }\r\n\r\n  // 验证背景图选择\r\n  const validateBackground = (rule, value, callback) => {\r\n    if (!checkedData.checkedBackgroundList.length) {\r\n      callback(new Error('请选择背景图'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n\r\n  // 表单验证规则\r\n  const rules = reactive({\r\n    taskName: [{ required: true, message: '任务名称必填', trigger: 'blur' }],\r\n    fontFamily: [{ required: true, message: '请选择字体', trigger: 'change' }],\r\n    novelFontSize: [{ required: true, trigger: 'change' }],\r\n    lineHeight: [{ required: true, trigger: 'change' }],\r\n    letterSpacing: [{ required: true, trigger: 'change' }],\r\n    paragraphSpacing: [{ required: true, trigger: 'change' }],\r\n    firstLineIndent: [{ required: true, trigger: 'change' }],\r\n    count: [{ required: true, trigger: 'change' }],\r\n    background: [{ validator: validateBackground, trigger: 'change' }]\r\n  })\r\n\r\n  // 判断是否处于组合模式（组合数为2或3）\r\n  const isGroupModeActive = computed(() => {\r\n    return readFormData.groupCount === 2 || readFormData.groupCount === 3\r\n  })\r\n\r\n  // 生成视频\r\n  const generateVideo = async (formEl) => {\r\n    if (!formEl) return\r\n\r\n    // 先进行全面验证\r\n    const validationErrors = validateAllRequiredFields()\r\n    if (validationErrors.length > 0) {\r\n      // 显示所有验证错误\r\n      ElMessage.error(validationErrors.join('、'))\r\n      return\r\n    }\r\n\r\n    if (isNovel.value) {\r\n      // 小说\r\n      await formEl.validate(async (valid, fields) => {\r\n        if (valid) {\r\n          createVideoDisabled.value = true\r\n\r\n          // 保存音乐的音量\r\n          const musicVolume = readFormData.volume\r\n          localStorage.setItem('readFormDataMusicVolume', JSON.stringify(musicVolume))\r\n\r\n          // 辅助函数：合并 shared 和 personal 标签ID\r\n          const mergeTagIds = (tags) => {\r\n            return [\r\n              ...(tags?.shared?.map((item) => parseInt(item.value)) || []),\r\n              ...(tags?.personal?.map((item) => parseInt(item.value)) || [])\r\n            ]\r\n          }\r\n\r\n          // 创建material_group数组\r\n          let materialGroup = []\r\n          // 如果是组合模式，将组合数据转换为material_group格式\r\n          if (isGroupModeActive.value) {\r\n            // 只使用当前组合数量的组合数据，即使数组中可能有更多数据\r\n            // 例如：从组合3切换到组合2时，只使用前两个组合的数据\r\n            materialGroup = Array.from({ length: readFormData.groupCount }, (_, i) => {\r\n              // 获取组合名称，如果存在的话\r\n              const group_name = groupData.groupNames?.[i] || `组合 ${i + 1}`\r\n\r\n              return {\r\n                sticker_id: groupData.groupStickers[i]?.[0]?.id || undefined,\r\n                post_video_id: groupData.groupLastFrames[i]?.[0]?.id || undefined,\r\n                template_image_id: groupData.groupTextImages[i]?.[0]?.id || undefined,\r\n                template_image_text: groupData.groupTextImageTexts[i] || '',\r\n                template_video_id: groupData.groupTextVideos[i]?.[0]?.id || undefined,\r\n                template_video_text: groupData.groupTextVideoTexts[i] || '',\r\n                group_name: group_name\r\n              }\r\n            })\r\n          }\r\n\r\n          const obj = {\r\n            name: readFormData.taskName,\r\n            novel: {\r\n              text_id: checkedData.checkedNovel[0]?.id,\r\n              audio_file_id: checkedData.checkedNovel[0]?.audio_id,\r\n              font_id: readFormData.fontFamily,\r\n              font_size: readFormData.novelFontSize,\r\n              line_height: readFormData.lineHeight,\r\n              character_spacing: readFormData.letterSpacing,\r\n              paragraph_spacing: readFormData.paragraphSpacing,\r\n              first_line_indent: readFormData.firstLineIndent,\r\n              scroll_start_position: readFormData.scrollStart,\r\n              scroll_delay: readFormData.scrollDelay,\r\n              scroll_speed: readFormData.scrollSpeed\r\n            },\r\n            generate_count: readFormData.count,\r\n            group_count: readFormData.groupCount,\r\n            background_image: {\r\n              id_list: checkedData.checkedBackgroundList.map((item) => item.id),\r\n              // 点选tag_id_list给空数组\r\n              tag_id_list: isFromMaterialChecked.background\r\n                ? []\r\n                : mergeTagIds(tagValue.backgroundTag),\r\n              start_date: materialDates.background.start_date || '',\r\n              end_date: materialDates.background.end_date || ''\r\n            },\r\n            background_music: {\r\n              id_list: checkedData.checkedMusic.map((item) => item.id),\r\n              start_position: readFormData.musicStartPosition,\r\n              volume: readFormData.volume,\r\n              tag_id_list: isFromMaterialChecked.music ? [] : mergeTagIds(tagValue.musicTag),\r\n              start_date: materialDates.music.start_date || '',\r\n              end_date: materialDates.music.end_date || ''\r\n            },\r\n            sticker: {\r\n              id_list: isGroupModeActive.value\r\n                ? []\r\n                : checkedData.checkedStickers.map((item) => item.id),\r\n              tag_id_list: isGroupModeActive.value\r\n                ? []\r\n                : isFromMaterialChecked.stickers\r\n                ? []\r\n                : mergeTagIds(tagValue.stickersTags),\r\n              start_date: isGroupModeActive.value ? '' : materialDates.stickers.start_date || '',\r\n              end_date: isGroupModeActive.value ? '' : materialDates.stickers.end_date || ''\r\n            },\r\n            pre_video: {\r\n              id_list: checkedData.checkedFirstFrames.map((item) => item.id),\r\n              tag_id_list: isFromMaterialChecked.firstFrames\r\n                ? []\r\n                : mergeTagIds(tagValue.firstFramesTags),\r\n              start_date: materialDates.firstFrames.start_date || '',\r\n              end_date: materialDates.firstFrames.end_date || '',\r\n              volume: readFormData.pre_video_volume\r\n            },\r\n            pre_video_titles: checkedData.checkedFirstFrames.length\r\n              ? readFormData.firstFrameVideo.map((item) => ({\r\n                  text: item.text || '',\r\n                  font_id: item.font_id,\r\n                  font_size: item.font_size,\r\n                  stroke_width: item.stroke_width,\r\n                  fill: rgbaToArray(item.fill),\r\n                  background_color: rgbaToArray(item.background_color),\r\n                  stroke_fill: rgbaToArray(item.stroke_fill),\r\n                  y: item.y,\r\n                  title_color_random: item.firstFrameColorMode\r\n                }))\r\n              : [],\r\n            post_video: {\r\n              id_list: isGroupModeActive.value\r\n                ? []\r\n                : checkedData.checkedLastFrames.map((item) => item.id),\r\n              tag_id_list: isGroupModeActive.value\r\n                ? []\r\n                : isFromMaterialChecked.lastFrames\r\n                ? []\r\n                : mergeTagIds(tagValue.lastFrameTag),\r\n              start_date: isGroupModeActive.value ? '' : materialDates.lastFrames.start_date || '',\r\n              end_date: isGroupModeActive.value ? '' : materialDates.lastFrames.end_date || ''\r\n            },\r\n            // 新的组合数据格式\r\n            material_group: materialGroup,\r\n            template_image: {\r\n              id_list: isGroupModeActive.value\r\n                ? []\r\n                : checkedData.checkedTextImages.map((item) => item.id),\r\n              tag_id_list: isGroupModeActive.value\r\n                ? []\r\n                : isFromMaterialChecked.textImage\r\n                ? []\r\n                : mergeTagIds(tagValue.textImageTags),\r\n              text: mainSearchBoxText.value,\r\n              start_date: isGroupModeActive.value ? '' : materialDates.textImage.start_date || '',\r\n              end_date: isGroupModeActive.value ? '' : materialDates.textImage.end_date || ''\r\n            },\r\n            template_video: {\r\n              id_list: isGroupModeActive.value\r\n                ? []\r\n                : checkedData.checkedTextVideos.map((item) => item.id),\r\n              tag_id_list: isGroupModeActive.value\r\n                ? []\r\n                : isFromMaterialChecked.textVideo\r\n                ? []\r\n                : mergeTagIds(tagValue.textVideoTags),\r\n              text: endSearchBoxText.value,\r\n              start_date: isGroupModeActive.value ? '' : materialDates.textVideo.start_date || '',\r\n              end_date: isGroupModeActive.value ? '' : materialDates.textVideo.end_date || ''\r\n            }\r\n          }\r\n          console.log(obj, 'obj')\r\n          try {\r\n            const response = await generateSimulatedReadingRequest(obj)\r\n            if (response.code === 0) {\r\n              ElMessage.success('已加入任务列表')\r\n              formEl.resetFields()\r\n              resetAll()\r\n              createVideoDisabled.value = false\r\n              // 跳转到历史任务\r\n              bus.emit('jumpToHistoryTask')\r\n              bus.emit('refreshHistoryList')\r\n            } else {\r\n              if (response.code === 10020) {\r\n                ElMessage.error(response.message)\r\n              } else {\r\n                ElMessage.error('视频生成失败，请重试')\r\n              }\r\n              createVideoDisabled.value = false\r\n              throw new Error(response.message)\r\n            }\r\n          } catch (error) {\r\n            ElMessage.error('视频生成失败，请重试')\r\n            createVideoDisabled.value = false\r\n          }\r\n        } else {\r\n          console.log('error submit!', fields)\r\n          ElMessage.error('表单信息不完整')\r\n        }\r\n      })\r\n    } else {\r\n      // 短剧\r\n      createVideoDisabled.value = true\r\n      const obj = {\r\n        name: readFormData.taskName,\r\n        generate_count: readFormData.count,\r\n        main_titles: readFormData.firstFrameVideo.map((item) => ({\r\n          text: item.text || '',\r\n          font_id: item.font_id,\r\n          font_size: item.font_size,\r\n          fill: rgbaToArray(item.fill),\r\n          stroke_fill: rgbaToArray(item.stroke_fill),\r\n          stroke_width: item.stroke_width,\r\n          background_color: rgbaToArray(item.background_color),\r\n          y: item.y\r\n        })),\r\n        main_video_id: checkedData.checkedShortPlay.map((item) => item.id)[0],\r\n        sticker_ids: checkedData.checkedShortPlayStickers.map((item) => item.id),\r\n        post_video_id: checkedData.checkedShortPlayLastFrames.map((item) => item.id)[0]\r\n      }\r\n      try {\r\n        const response = await generateShortFirmRequest(obj)\r\n        if (response.code === 0) {\r\n          ElMessage.success('已加入任务列表')\r\n          formEl.resetFields()\r\n          resetAll()\r\n          createVideoDisabled.value = false\r\n          // 跳转到历史任务\r\n          bus.emit('jumpToHistoryTask')\r\n          bus.emit('refreshHistoryList')\r\n        } else {\r\n          if (response.code === 10020) {\r\n            ElMessage.error(response.message)\r\n          } else {\r\n            ElMessage.error('视频生成失败，请重试')\r\n          }\r\n          createVideoDisabled.value = false\r\n        }\r\n      } catch (error) {\r\n        ElMessage.error('视频生成失败，请重试')\r\n        createVideoDisabled.value = false\r\n      }\r\n    }\r\n  }\r\n\r\n  // 获取组合中选择的贴图\r\n  const getGroupSelectedStickers = (groupIndex) => {\r\n    return groupData.groupStickers[groupIndex - 1] || []\r\n  }\r\n\r\n  // 获取组合中选择的尾帧\r\n  const getGroupSelectedLastFrames = (groupIndex) => {\r\n    return groupData.groupLastFrames[groupIndex - 1] || []\r\n  }\r\n\r\n  // 获取组合中选择的带文字图片\r\n  const getGroupSelectedTextImages = (groupIndex) => {\r\n    return groupData.groupTextImages[groupIndex - 1] || []\r\n  }\r\n\r\n  // 获取组合中选择的带文字视频\r\n  const getGroupSelectedTextVideos = (groupIndex) => {\r\n    return groupData.groupTextVideos[groupIndex - 1] || []\r\n  }\r\n\r\n  // 验证所有必填字段\r\n  const validateAllRequiredFields = () => {\r\n    const errors = []\r\n\r\n    // 验证任务名称\r\n    if (!readFormData.taskName.trim()) {\r\n      errors.push('请输入任务名称')\r\n    }\r\n\r\n    // 验证小说选择\r\n    if (!checkedData.checkedNovel.length && isNovel.value) {\r\n      errors.push('请选择小说')\r\n    }\r\n\r\n    // 验证背景图选择\r\n    if (!checkedData.checkedBackgroundList.length && isNovel.value) {\r\n      errors.push('请选择背景图')\r\n    }\r\n\r\n    // 验证短剧素材，尾帧和贴图选择\r\n    if (!isNovel.value) {\r\n      if (!checkedData.checkedShortPlay.length) {\r\n        errors.push('请选择短剧素材')\r\n      }\r\n      if (!checkedData.checkedShortPlayLastFrames.length) {\r\n        errors.push('请选择尾帧')\r\n      }\r\n      if (!checkedData.checkedShortPlayStickers.length) {\r\n        errors.push('请选择贴图')\r\n      }\r\n      if (!readFormData.firstFrameVideo.length) {\r\n        errors.push('请添加标题')\r\n      }\r\n    }\r\n\r\n    // 验证组合中的贴图和尾帧\r\n    if (readFormData.groupCount > 1) {\r\n      // 遍历每个组合\r\n      for (let i = 1; i <= readFormData.groupCount; i++) {\r\n        // 获取当前组的贴图和尾帧数据\r\n        const stickers = getGroupSelectedStickers(i)\r\n        const textImages = getGroupSelectedTextImages(i)\r\n        const lastFrames = getGroupSelectedLastFrames(i)\r\n        const textVideos = getGroupSelectedTextVideos(i)\r\n\r\n        // 检查贴图或带文字图片是否已选择\r\n        const hasStickersOrTextImages = stickers.length > 0 || textImages.length > 0\r\n        // 检查尾帧或带文字视频是否已选择\r\n        const hasLastFramesOrTextVideos = lastFrames.length > 0 || textVideos.length > 0\r\n\r\n        // 组合2需要4项必选（每组2项）\r\n        if (readFormData.groupCount === 2) {\r\n          if (!hasStickersOrTextImages) {\r\n            errors.push(`组合${i}请选择贴图`)\r\n          }\r\n          if (!hasLastFramesOrTextVideos) {\r\n            errors.push(`组合${i}请选择尾帧`)\r\n          }\r\n        }\r\n\r\n        // 组合3需要6项必选（每组2项）\r\n        if (readFormData.groupCount === 3) {\r\n          if (!hasStickersOrTextImages) {\r\n            errors.push(`组合${i}请选择贴图`)\r\n          }\r\n          if (!hasLastFramesOrTextVideos) {\r\n            errors.push(`组合${i}请选择尾帧`)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return errors\r\n  }\r\n\r\n  // 重置所有数据\r\n  const resetAll = () => {\r\n    // 清空勾选项目\r\n    bus.emit('resetNovelAllChecked')\r\n\r\n    Object.assign(readFormData, {\r\n      taskName: '',\r\n      // 选择小说部分\r\n      fontFamily:\r\n        fontFamilyOptions.value.find(\r\n          (item) => item.name.split('.').slice(0, -1).join('.') === '方正黑体简体'\r\n        )?.id || fontFamilyOptions.value[0].id,\r\n      novelFontSize: 35,\r\n      lineHeight: 1.5,\r\n      letterSpacing: 0,\r\n      paragraphSpacing: 56,\r\n      firstLineIndent: 2,\r\n      backgroundColor: 'rgba(255, 255, 255, 0)',\r\n      roundedCorners: true,\r\n      scrollStart: 0,\r\n      scrollDelay: 0,\r\n      scrollSpeed: 2.5,\r\n      volume: 1.0,\r\n      count: 1,\r\n      groupCount: 0,\r\n      firstFrameVideo: [],\r\n      firstFrameKeepAudio: true,\r\n      selectedAudio: '',\r\n      musicStartPosition: '首帧',\r\n      pre_video_volume: 1.0\r\n    })\r\n\r\n    // 清除勾选的素材\r\n    for (const key in checkedData) {\r\n      if (Object.prototype.hasOwnProperty.call(checkedData, key)) {\r\n        checkedData[key] = []\r\n      }\r\n    }\r\n\r\n    // 清除标签的选中\r\n    for (const key in tagValue) {\r\n      if (Object.prototype.hasOwnProperty.call(tagValue, key)) {\r\n        tagValue[key] = { shared: [], personal: [] }\r\n      }\r\n    }\r\n\r\n    for (const key in materialDates) {\r\n      materialDates[key].start_date = ''\r\n      materialDates[key].end_date = ''\r\n    }\r\n\r\n    // 清除组件列表\r\n    for (const key in componentList) {\r\n      componentList[key] = []\r\n    }\r\n\r\n    // 清除活动标签\r\n    for (const key in activeTab) {\r\n      activeTab[key] = ''\r\n    }\r\n\r\n    for (const key in isFromMaterialChecked) {\r\n      isFromMaterialChecked[key] = true\r\n    }\r\n\r\n    for (const key in groupData) {\r\n      groupData[key] = []\r\n    }\r\n\r\n    loadTextConfig()\r\n    loadMusicConfig()\r\n\r\n    if (loadConfigFn) {\r\n      loadConfigFn()\r\n    }\r\n\r\n    const novelContentDiv = document.getElementById('novelContent')\r\n    if (novelContentDiv) {\r\n      novelContentDiv.innerHTML = ''\r\n    }\r\n\r\n    // 清空短剧标题\r\n    selectedVideoNameInfo.value = {}\r\n  }\r\n\r\n  return {\r\n    rules,\r\n    validateBackground,\r\n    validateAllRequiredFields,\r\n    generateVideo,\r\n    createVideoDisabled,\r\n    isGroupModeActive,\r\n    getGroupSelectedStickers,\r\n    getGroupSelectedLastFrames,\r\n    getGroupSelectedTextImages,\r\n    getGroupSelectedTextVideos,\r\n    resetAll,\r\n    setLoadConfigFn\r\n  }\r\n}\r\n","import { ref, reactive, computed } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { addNovelRequest, addMaterialsRequest } from '@/service/novel'\r\nimport { taskSourceEnum } from '@/utils/enums.js'\r\n\r\n/**\r\n * 素材上传相关逻辑\r\n * @param {Object} readFormData - 表单数据\r\n * @param {Object} checkedData - 已选择的素材数据\r\n * @param {Object} tagValue - 标签值\r\n * @param {Object} materialDates - 素材日期\r\n * @param {Object} groupData - 组合数据\r\n * @param {Object} isFromMaterialChecked - 是否从素材库选择\r\n * @param {Object} currentUploadType - 当前上传类型\r\n * @param {Object} currentGroupIndex - 当前组合索引\r\n * @param {Object} isGroupModeActive - 是否为组合模式\r\n * @param {Object} createVideoRef - 创建视频组件引用\r\n * @param {Object} createNovelRef - 创建小说组件引用\r\n * @param {Object} ruleFormRef - 表单引用\r\n * @param {Object} renderPreviewFirstFrameUrl - 首帧预览URL\r\n * @param {Object} renderPreviewBackgroundUrl - 背景预览URL\r\n * @param {Object} renderPreviewLastFrameUrl - 尾帧预览URL\r\n * @param {Object} renderPreviewStickerUrl - 贴图预览URL\r\n * @param {Object} renderPreviewTextImageUrl - 文字图片预览URL\r\n * @param {Object} renderPreviewTextVideoUrl - 文字视频预览URL\r\n * @param {Object} renderPreviewFirstFrameId - 首帧预览ID\r\n * @param {Object} renderPreviewBackgroundId - 背景预览ID\r\n * @param {Object} renderPreviewLastFrameId - 尾帧预览ID\r\n * @param {Object} renderPreviewStickerId - 贴图预览ID\r\n * @param {Object} renderPreviewTextImageId - 文字图片预览ID\r\n * @param {Object} renderPreviewTextVideoId - 文字视频预览ID\r\n * @param {Object} currentFirstFrameIndex - 当前首帧索引\r\n * @param {Object} currentBackgroundIndex - 当前背景索引\r\n * @param {Object} currentLastFrameIndex - 当前尾帧索引\r\n * @param {Object} currentStickerIndex - 当前贴图索引\r\n * @param {Object} currentTextImageIndex - 当前文字图片索引\r\n * @param {Object} currentTextVideoIndex - 当前文字视频索引\r\n * @param {Object} renderPreviewBackgroundPosition - 背景位置\r\n * @param {Object} renderPreviewBackgroundNeedMask - 背景是否需要遮罩\r\n * @param {Object} renderPreviewBackgroundTextFill - 背景文字填充\r\n * @returns {Object} - 素材上传相关的函数和变量\r\n */\r\nexport function useMaterialUpload(\r\n  readFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  groupData,\r\n  isFromMaterialChecked,\r\n  currentUploadType,\r\n  currentGroupIndex,\r\n  isGroupModeActive,\r\n  createVideoRef,\r\n  createNovelRef,\r\n  ruleFormRef,\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewBackgroundUrl,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextVideoUrl,\r\n  renderPreviewShortPlayUrl,\r\n  renderPreviewShortPlayStickerUrl,\r\n  renderPreviewShortPlayLastFrameUrl,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewBackgroundId,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoId,\r\n  renderPreviewShortPlayId,\r\n  renderPreviewShortPlayStickerId,\r\n  renderPreviewShortPlayLastFrameId,\r\n  currentFirstFrameIndex,\r\n  currentBackgroundIndex,\r\n  currentLastFrameIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex,\r\n  currentShortPlayStickerIndex,\r\n  currentShortPlayIndex,\r\n  currentShortPlayLastFrameIndex,\r\n  renderPreviewBackgroundPosition,\r\n  renderPreviewBackgroundNeedMask,\r\n  renderPreviewBackgroundTextFill,\r\n  source\r\n) {\r\n  // 上传相关状态\r\n  const uploadLoading = ref(false)\r\n  const isGroupSelection = ref(false)\r\n\r\n  // 素材类型映射\r\n  const typeToCategoryMap = {\r\n    video: '解压视频',\r\n    background: '背景图片',\r\n    novel: '小说',\r\n    firstFrames: '首帧视频',\r\n    lastFrames: '尾帧视频',\r\n    stickers: '贴图',\r\n    music: '背景音乐',\r\n    textImage: '模板图片',\r\n    textVideo: '模板视频',\r\n    shortPlayVideo: '短剧视频',\r\n    shortPlayLastFrames: '短剧尾帧',\r\n    shortPlayStickers: '短剧贴图'\r\n  }\r\n\r\n  // 类型转换函数\r\n  const TypeToCategory = (type) => {\r\n    const category = typeToCategoryMap[type] || null\r\n\r\n    // 打印日志，帮助调试映射问题\r\n    console.log(`CreateTask类型映射: ${type} => ${category}`)\r\n\r\n    // 确保参数正确 - 将\"贴图\"映射为后端期望的\"贴片\"\r\n    if (category === '贴图') {\r\n      console.log('CreateTask: 贴图类型已映射为贴片，用于API请求')\r\n      return '贴片'\r\n    }\r\n\r\n    return category // 如果类型不存在，返回 null\r\n  }\r\n\r\n  // 创建一个反转的映射\r\n  const categoryToTypeMap = {}\r\n  for (const key in typeToCategoryMap) {\r\n    const value = typeToCategoryMap[key]\r\n    categoryToTypeMap[value] = key\r\n  }\r\n\r\n  const categoryToType = (category) => {\r\n    if (category === '贴片') {\r\n      return 'stickers'\r\n    } else {\r\n      return categoryToTypeMap[category] || null\r\n    }\r\n  }\r\n\r\n  // 计算上传限制\r\n  const uploadLimit = (tabType) => {\r\n    const mapping = {\r\n      firstFrames: 'checkedFirstFrames',\r\n      lastFrames: 'checkedLastFrames',\r\n      music: 'checkedMusic',\r\n      textImage: 'checkedTextImages',\r\n      textVideo: 'checkedTextVideos',\r\n      background: 'checkedBackgroundList',\r\n      stickers: 'checkedStickers',\r\n      shortPlayVideo: 'checkedShortPlay',\r\n      shortPlayLastFrames: 'checkedShortPlayLastFrames',\r\n      shortPlayStickers: 'checkedShortPlayStickers'\r\n    }\r\n    // 如果是组合内上传，限制上传一个\r\n    if (currentGroupIndex.value > 0) {\r\n      return 1\r\n    }\r\n    let limit\r\n    // 短剧素材和短剧的尾帧最多只能上传一个\r\n    if (tabType === 'shortPlayVideo' || tabType === 'shortPlayLastFrames') {\r\n      limit = 1\r\n    } else {\r\n      limit = readFormData.count - checkedData[mapping[tabType]].length\r\n    }\r\n    return limit\r\n  }\r\n\r\n  // 处理素材上传\r\n  const uploadMaterial = (param) => {\r\n    // 判断参数是对象还是字符串\r\n    let tabType, groupIndex\r\n\r\n    if (typeof param === 'object' && param !== null) {\r\n      // 来自GroupSection组件的调用，包含组合索引\r\n      tabType = param.type\r\n      groupIndex = param.groupIndex\r\n\r\n      // 在组合模式下的组内上传，允许继续\r\n      console.log(`组合${groupIndex}上传${tabType}素材`)\r\n    } else {\r\n      // 来自其他组件的调用，只有类型\r\n      tabType = param\r\n\r\n      // 在组合模式下，禁止上传贴图和尾帧\r\n      if (\r\n        isGroupModeActive.value &&\r\n        (tabType === 'stickers' ||\r\n          tabType === 'lastFrames' ||\r\n          tabType === 'textImage' ||\r\n          tabType === 'textVideo')\r\n      ) {\r\n        ElMessage.warning(\r\n          `组合模式下，请在各个组合中上传${\r\n            tabType === 'stickers' || tabType === 'textImage' ? '贴图' : '尾帧'\r\n          }`\r\n        )\r\n        return\r\n      }\r\n    }\r\n\r\n    // 根据不同类型添加限制条件\r\n    if (typeof groupIndex !== 'undefined') {\r\n      // 组合内上传的限制条件\r\n      const groupIdx = groupIndex - 1 // 转换为数组索引\r\n\r\n      // 检查组合内的贴图和尾帧是否已满\r\n      if (tabType === 'stickers' || tabType === 'textImage') {\r\n        // 如果该组已有贴图或文字图片，且数量达到上限(组合只能选一张)\r\n        if (\r\n          groupData.groupStickers[groupIdx]?.length ||\r\n          groupData.groupTextImages[groupIdx]?.length\r\n        ) {\r\n          ElMessage.warning(`组合${groupIndex}的贴图数量已达上限`)\r\n          return\r\n        }\r\n      } else if (tabType === 'lastFrames' || tabType === 'textVideo') {\r\n        // 如果该组已有尾帧或文字视频，且数量达到上限\r\n        if (\r\n          groupData.groupLastFrames[groupIdx]?.length ||\r\n          groupData.groupTextVideos[groupIdx]?.length\r\n        ) {\r\n          ElMessage.warning(`组合${groupIndex}的尾帧数量已达上限`)\r\n          return\r\n        }\r\n      }\r\n\r\n      // 设置当前组合索引，用于上传后的处理\r\n      currentGroupIndex.value = groupIndex\r\n    } else {\r\n      // 非组合内上传的限制条件\r\n      const uploadDisabledConditions = {\r\n        novel: checkedData.checkedNovel.length,\r\n        firstFrames: readFormData.count === checkedData.checkedFirstFrames?.length,\r\n        lastFrames: readFormData.count === checkedData.checkedLastFrames?.length,\r\n        music: readFormData.count === checkedData.checkedMusic?.length,\r\n        textImage: readFormData.count === checkedData.checkedTextImages?.length,\r\n        textVideo: readFormData.count === checkedData.checkedTextVideos?.length,\r\n        background: readFormData.count === checkedData.checkedBackgroundList?.length,\r\n        stickers: readFormData.count === checkedData.checkedStickers?.length,\r\n        // shortPlayVideo: checkedData.checkedShortPlay?.length,\r\n        shortPlayLastFrames: checkedData.checkedShortPlayLastFrames?.length,\r\n        shortPlayStickers: readFormData.count === checkedData.checkedShortPlayStickers?.length\r\n      }\r\n\r\n      // 检查当前类型是否满足禁用条件\r\n      if (uploadDisabledConditions[tabType]) {\r\n        return // 如果满足禁用条件，直接返回不执行后续操作\r\n      }\r\n      // 重置组合索引\r\n      currentGroupIndex.value = 0\r\n    }\r\n    currentUploadType.value = tabType\r\n    console.log(`上传${tabType}素材`)\r\n    // 这里可以实现上传逻辑 或者打开上传对话框\r\n    let initDate = {\r\n      type: tabType,\r\n      title: ''\r\n    }\r\n    if (tabType == 'novel') {\r\n      if (checkedData.checkedNovel.length) return\r\n      initDate.title = '添加小说'\r\n      createNovelRef.value.init(initDate, true, [], TypeToCategory(tabType))\r\n    } else {\r\n      initDate.title = `添加${typeToCategoryMap[tabType]}`\r\n      createVideoRef.value.init(\r\n        initDate,\r\n        true,\r\n        TypeToCategory(tabType),\r\n        uploadLimit(tabType),\r\n        false\r\n      )\r\n    }\r\n  }\r\n\r\n  // 处理上传后的素材添加\r\n  const addUploadCheckedList = (response, tabTypeRes) => {\r\n    // 1. 获取新上传的素材数据\r\n    let newMaterials\r\n    // 小说是response.data，其他是response.data.list\r\n    newMaterials = tabTypeRes ? response.data.list : [response.data]\r\n\r\n    // 2. 定义所有素材类型的配置\r\n    const targetConfig = {\r\n      background: {\r\n        dataKey: 'checkedBackgroundList',\r\n        indexRef: currentBackgroundIndex,\r\n        urlRef: renderPreviewBackgroundUrl,\r\n        idRef: renderPreviewBackgroundId,\r\n        extraUpdate: (item) => {\r\n          Object.assign(renderPreviewBackgroundPosition, item.border)\r\n          renderPreviewBackgroundNeedMask.value = item.need_mask\r\n          renderPreviewBackgroundTextFill.value = item.text_fill\r\n        }\r\n      },\r\n      firstFrames: {\r\n        dataKey: 'checkedFirstFrames',\r\n        indexRef: currentFirstFrameIndex,\r\n        urlRef: renderPreviewFirstFrameUrl,\r\n        idRef: renderPreviewFirstFrameId\r\n      },\r\n      music: {\r\n        dataKey: 'checkedMusic'\r\n        // 音乐不需要预览索引\r\n      },\r\n      lastFrames: {\r\n        dataKey: 'checkedLastFrames',\r\n        indexRef: currentLastFrameIndex,\r\n        urlRef: renderPreviewLastFrameUrl,\r\n        idRef: renderPreviewLastFrameId\r\n      },\r\n      stickers: {\r\n        dataKey: 'checkedStickers',\r\n        indexRef: currentStickerIndex,\r\n        urlRef: renderPreviewStickerUrl,\r\n        idRef: renderPreviewStickerId\r\n      },\r\n      novel: {\r\n        dataKey: 'checkedNovel'\r\n        // 小说不需要预览索引\r\n        // 不需要额外的更新操作，因为小说内容加载的逻辑已经移动到 PreviewSection 组件中\r\n      },\r\n      textImage: {\r\n        dataKey: 'checkedTextImages',\r\n        indexRef: currentTextImageIndex,\r\n        urlRef: renderPreviewTextImageUrl,\r\n        idRef: renderPreviewTextImageId\r\n      },\r\n      textVideo: {\r\n        dataKey: 'checkedTextVideos',\r\n        indexRef: currentTextVideoIndex,\r\n        urlRef: renderPreviewTextVideoUrl,\r\n        idRef: renderPreviewTextVideoId\r\n      },\r\n      shortPlayVideo: {\r\n        dataKey: 'checkedShortPlay',\r\n        indexRef: currentShortPlayIndex,\r\n        urlRef: renderPreviewShortPlayUrl,\r\n        idRef: renderPreviewShortPlayId\r\n      },\r\n      shortPlayStickers: {\r\n        dataKey: 'checkedShortPlayStickers',\r\n        indexRef: currentShortPlayStickerIndex,\r\n        urlRef: renderPreviewShortPlayStickerUrl,\r\n        idRef: renderPreviewShortPlayStickerId\r\n      },\r\n      shortPlayLastFrames: {\r\n        dataKey: 'checkedShortPlayLastFrames',\r\n        indexRef: currentShortPlayLastFrameIndex,\r\n        urlRef: renderPreviewShortPlayLastFrameUrl,\r\n        idRef: renderPreviewShortPlayLastFrameId\r\n      }\r\n    }\r\n\r\n    const type = categoryToType(tabTypeRes)\r\n\r\n    // 检查是否是组合内的上传\r\n    if (currentGroupIndex.value > 0) {\r\n      // 组合内上传，将新素材添加到对应组合的数组中\r\n      const groupIdx = currentGroupIndex.value - 1 // 转换为数组索引\r\n\r\n      // 根据素材类型将新素材添加到对应组合的数组中\r\n      if (type === 'stickers') {\r\n        // 如果该组合还没有贴图数组，创建一个空数组\r\n        if (!groupData.groupStickers[groupIdx]) {\r\n          groupData.groupStickers[groupIdx] = []\r\n        }\r\n        // 将新素材添加到该组合的贴图数组中\r\n        groupData.groupStickers[groupIdx] = [...groupData.groupStickers[groupIdx], ...newMaterials]\r\n        // ElMessage.success(`组合${currentGroupIndex.value}的贴图上传成功!`)\r\n      } else if (type === 'textImage') {\r\n        // 如果该组合还没有带文字图片数组，创建一个空数组\r\n        if (!groupData.groupTextImages[groupIdx]) {\r\n          groupData.groupTextImages[groupIdx] = []\r\n        }\r\n        // 将新素材添加到该组合的带文字图片数组中\r\n        groupData.groupTextImages[groupIdx] = [\r\n          ...groupData.groupTextImages[groupIdx],\r\n          ...newMaterials\r\n        ]\r\n        // 初始化文字图片文本\r\n        if (!groupData.groupTextImageTexts[groupIdx]) {\r\n          groupData.groupTextImageTexts[groupIdx] = ''\r\n        }\r\n        // ElMessage.success(`组合${currentGroupIndex.value}的带文字图片上传成功!`)\r\n      } else if (type === 'lastFrames') {\r\n        // 如果该组合还没有尾帧数组，创建一个空数组\r\n        if (!groupData.groupLastFrames[groupIdx]) {\r\n          groupData.groupLastFrames[groupIdx] = []\r\n        }\r\n        // 将新素材添加到该组合的尾帧数组中\r\n        groupData.groupLastFrames[groupIdx] = [\r\n          ...groupData.groupLastFrames[groupIdx],\r\n          ...newMaterials\r\n        ]\r\n        // ElMessage.success(`组合${currentGroupIndex.value}的尾帧上传成功!`)\r\n      } else if (type === 'textVideo') {\r\n        // 如果该组合还没有带文字视频数组，创建一个空数组\r\n        if (!groupData.groupTextVideos[groupIdx]) {\r\n          groupData.groupTextVideos[groupIdx] = []\r\n        }\r\n        // 将新素材添加到该组合的带文字视频数组中\r\n        groupData.groupTextVideos[groupIdx] = [\r\n          ...groupData.groupTextVideos[groupIdx],\r\n          ...newMaterials\r\n        ]\r\n        // 初始化文字视频文本\r\n        if (!groupData.groupTextVideoTexts[groupIdx]) {\r\n          groupData.groupTextVideoTexts[groupIdx] = ''\r\n        }\r\n        // ElMessage.success(`组合${currentGroupIndex.value}的带文字视频上传成功!`)\r\n      }\r\n    } else {\r\n      // 非组合内上传，处理方式不变\r\n      const config = targetConfig[type || 'novel']\r\n\r\n      if (config) {\r\n        // 3. 将新素材添加到已选列表\r\n        if (config.dataKey === 'checkedShortPlay') {\r\n          // 先清除之前的\r\n          checkedData[config.dataKey] = []\r\n        }\r\n        checkedData[config.dataKey] = [...checkedData[config.dataKey], ...newMaterials]\r\n\r\n        // 4. 更新当前索引到最新上传的素材（如果有索引）\r\n        if (config.indexRef !== undefined) {\r\n          config.indexRef.value = checkedData[config.dataKey].length - 1\r\n          const currentItem = checkedData[config.dataKey][config.indexRef.value]\r\n\r\n          // 更新预览URL和ID\r\n          if (config.urlRef && config.idRef) {\r\n            config.urlRef.value = currentItem.key_frame_url || currentItem.file_url\r\n            config.idRef.value = currentItem.id\r\n          }\r\n\r\n          // 执行额外更新（如果有）\r\n          if (config.extraUpdate) {\r\n            config.extraUpdate(currentItem)\r\n          }\r\n        } else if (config.extraUpdate) {\r\n          // 没有索引但有额外更新的情况（如小说）\r\n          config.extraUpdate()\r\n        }\r\n\r\n        // 5. 对需要验证的字段触发验证\r\n        if (['novel', 'background'].includes(currentUploadType.value)) {\r\n          const field = config.dataKey === 'checkedNovel' ? 'novel' : 'background'\r\n          ruleFormRef.value.validateField(field)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // 新增素材返回, tabTypeRes为当前上传的素材类型\r\n  const handleSubmitFormRes = async (data, callback) => {\r\n    const { uploadType } = data\r\n    let materialsFormInfo = new FormData()\r\n    if (data.fileData.length >= 1) {\r\n      data.fileData.forEach((file) => {\r\n        materialsFormInfo.append('file', file)\r\n      })\r\n    }\r\n    materialsFormInfo.append('category', uploadType)\r\n    materialsFormInfo.append('is_public', data.is_public)\r\n    if (data.tags.length >= 1) {\r\n      data.tags.forEach((tag) => {\r\n        materialsFormInfo.append('tag_ids', tag)\r\n      })\r\n    }\r\n    uploadLoading.value = true\r\n    // 判断是不是短剧\r\n    const isShortPlay =\r\n      uploadType === '短剧视频' || uploadType === '短剧贴图' || uploadType === '短剧尾帧'\r\n    const response = await addMaterialsRequest(isShortPlay, materialsFormInfo, callback)\r\n    if (response.code === 0) {\r\n      addUploadCheckedList(response, uploadType)\r\n      createVideoRef.value.init('', false, TypeToCategory(currentUploadType.value))\r\n      ElMessage.success('新增成功!')\r\n      uploadLoading.value = false\r\n      currentUploadType.value = ''\r\n    } else {\r\n      uploadLoading.value = false\r\n      currentUploadType.value = ''\r\n      throw new Error(response.message)\r\n    }\r\n  }\r\n\r\n  // 新增小说返回\r\n  const handleSubmitNovelRes = async (data) => {\r\n    uploadLoading.value = true\r\n    try {\r\n      const res = await addNovelRequest(data)\r\n      if (res.code === 0) {\r\n        addUploadCheckedList(res)\r\n        createNovelRef.value.init('', false, [], TypeToCategory(currentUploadType.value))\r\n        ElMessage.success('新增成功!')\r\n        uploadLoading.value = false\r\n        currentUploadType.value = ''\r\n      } else {\r\n        ElMessage.error('新增失败!')\r\n        uploadLoading.value = false\r\n        currentUploadType.value = ''\r\n        throw new Error(res.message)\r\n      }\r\n    } catch (error) {\r\n      ElMessage.error(error.message || '新增失败')\r\n      uploadLoading.value = false\r\n      currentUploadType.value = ''\r\n    }\r\n  }\r\n\r\n  // 计算上传类型变化\r\n  const propUploadTypeChange = computed(() => {\r\n    return (\r\n      currentUploadType.value === 'stickers' ||\r\n      currentUploadType.value === 'textImage' ||\r\n      currentUploadType.value === 'lastFrames' ||\r\n      currentUploadType.value === 'textVideo'\r\n    )\r\n  })\r\n\r\n  // 计算上传类型禁用状态\r\n  const propUploadTypeDisabled = computed(() => {\r\n    // 如果是通过组合卷轴进行选择，propUploadTypeDisabled一直返回false\r\n    if (isGroupModeActive.value) {\r\n      return false\r\n    }\r\n    if (currentUploadType.value === 'stickers' || currentUploadType.value === 'textImage') {\r\n      return checkedData.checkedStickers.length || checkedData.checkedTextImages.length\r\n    } else if (\r\n      currentUploadType.value === 'lastFrames' ||\r\n      currentUploadType.value === 'textVideo'\r\n    ) {\r\n      return checkedData.checkedLastFrames.length || checkedData.checkedTextVideos.length\r\n    }\r\n    return false\r\n  })\r\n\r\n  return {\r\n    uploadLoading,\r\n    isGroupSelection,\r\n    uploadMaterial,\r\n    handleSubmitFormRes,\r\n    handleSubmitNovelRes,\r\n    propUploadTypeDisabled,\r\n    TypeToCategory,\r\n    categoryToType,\r\n    addUploadCheckedList,\r\n    propUploadTypeChange\r\n  }\r\n}\r\n","import { ref, reactive } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport function useMaterialSelection(\r\n  readFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  componentList,\r\n  activeTab,\r\n  isFromMaterialChecked,\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewBackgroundUrl,\r\n  renderPreviewBackgroundId,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoUrl,\r\n  renderPreviewTextVideoId,\r\n  renderPreviewShortPlayUrl,\r\n  renderPreviewShortPlayId,\r\n  renderPreviewShortPlayStickerUrl,\r\n  renderPreviewShortPlayStickerId,\r\n  renderPreviewShortPlayLastFrameUrl,\r\n  renderPreviewShortPlayLastFrameId,\r\n  currentFirstFrameIndex,\r\n  currentBackgroundIndex,\r\n  currentLastFrameIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex,\r\n  currentShortPlayStickerIndex,\r\n  renderPreviewBackgroundPosition,\r\n  renderPreviewBackgroundNeedMask,\r\n  renderPreviewBackgroundTextFill,\r\n  isGroupModeActive,\r\n  groupData,\r\n  ruleFormRef\r\n) {\r\n  const selectDialogVisible = ref(false)\r\n  const dialogTitle = ref('')\r\n  const tabType = ref('')\r\n  const tagsObject = ref({})\r\n  const isGroupSelection = ref(false)\r\n  const currentGroupIndex = ref(0)\r\n\r\n  // 处理素材选择\r\n  const handleMaterialSelect = (type) => {\r\n    selectMaterial(type)\r\n  }\r\n\r\n  const selectMaterial = (type, isFromGroup = false) => {\r\n    // 在组合模式下，禁止选择贴图和尾帧（除非是从组合中选择）\r\n    if (\r\n      !isFromGroup &&\r\n      isGroupModeActive.value &&\r\n      (type === 'stickers' || type === 'lastFrames' || type === 'textImage' || type === 'textVideo')\r\n    ) {\r\n      ElMessage.warning(\r\n        `组合模式下，请在各个组合中选择${\r\n          type === 'stickers' || type === 'textImage' ? '贴图' : '尾帧'\r\n        }`\r\n      )\r\n      return\r\n    }\r\n\r\n    tabType.value = type\r\n    if (type === 'stickers' && checkedData.checkedTextImages.length) {\r\n      return\r\n    }\r\n    if (type === 'textImage' && checkedData.checkedStickers.length) {\r\n      return\r\n    }\r\n    if (type === 'lastFrames' && checkedData.checkedTextVideos.length) {\r\n      return\r\n    }\r\n    if (type === 'textVideo' && checkedData.checkedLastFrames.length) {\r\n      return\r\n    }\r\n\r\n    // 设置对话框标题\r\n    const titleMap = {\r\n      novel: '选择小说',\r\n      firstFrames: '选择首帧视频',\r\n      background: '选择背景图',\r\n      lastFrames: '选择尾帧',\r\n      music: '选择背景音乐',\r\n      stickers: '选择贴图',\r\n      textImage: '选择搜索框',\r\n      textVideo: '选择尾帧搜索框',\r\n      shortPlayVideo: '选择短剧素材',\r\n      shortPlayStickers: '选择短剧贴图',\r\n      shortPlayLastFrames: '选择短剧尾帧'\r\n    }\r\n    dialogTitle.value = titleMap[type] || '选择素材'\r\n\r\n    // 根据点击的素材类型设置对应的标签列表\r\n    const tagsMap = {\r\n      novel: tagValue.novelTags, // 小说标签\r\n      firstFrames: tagValue.firstFramesTags, // 首帧视频标签\r\n      background: tagValue.backgroundTag, // 背景图标签\r\n      music: tagValue.musicTag, // 背景音乐标签\r\n      stickers: tagValue.stickersTags, // 贴图标签\r\n      textImage: tagValue.textImageTags, // 文字图片标签\r\n      lastFrames: tagValue.lastFrameTag, // 尾帧视频标签\r\n      textVideo: tagValue.textVideoTags, // 文字视频标签\r\n      shortPlayVideo: tagValue.textVideoTags, //短剧标签\r\n      shortPlayStickers: tagValue.shortPlayStickersTag, // 短剧贴图标签\r\n      shortPlayLastFrames: tagValue.shortPlayLastFrameTag // 短剧尾帧标签\r\n    }\r\n\r\n    // 将对应类型的标签赋给tagsList\r\n    tagsObject.value = tagsMap[type] || {}\r\n\r\n    selectDialogVisible.value = true\r\n  }\r\n\r\n  // 选择组内素材\r\n  const selectGroupMaterial = (type, groupIndex) => {\r\n    currentGroupIndex.value = groupIndex\r\n    tabType.value = type\r\n    selectDialogVisible.value = true\r\n    isGroupSelection.value = true\r\n  }\r\n\r\n  // 处理组件选择组内素材\r\n  const handleSelectGroupMaterial = ({ type, groupIndex }) => {\r\n    selectGroupMaterial(type, groupIndex)\r\n  }\r\n\r\n  // 根据素材类型获取对应的已选中数据列表\r\n  const getCheckedListByType = (type) => {\r\n    if (isGroupSelection.value) {\r\n      // 通过组合来选\r\n      const TypeMap = {\r\n        stickers: 'Stickers',\r\n        lastFrames: 'LastFrames',\r\n        textImage: 'TextImages',\r\n        textVideo: 'TextVideos'\r\n      }\r\n      const groupIndex = currentGroupIndex.value - 1\r\n      if (groupData[`group${TypeMap[type]}`]?.length) {\r\n        return groupData[`group${TypeMap[type]}`][groupIndex] || []\r\n      }\r\n    } else {\r\n      const checkedListMap = {\r\n        novel: checkedData.checkedNovel,\r\n        firstFrames: checkedData.checkedFirstFrames,\r\n        background: checkedData.checkedBackgroundList,\r\n        music: checkedData.checkedMusic,\r\n        stickers: checkedData.checkedStickers,\r\n        textImage: checkedData.checkedTextImages,\r\n        lastFrames: checkedData.checkedLastFrames,\r\n        textVideo: checkedData.checkedTextVideos,\r\n        shortPlayVideo: checkedData.checkedShortPlayVideo,\r\n        shortPlayStickers: checkedData.checkedShortPlayStickers,\r\n        shortPlayLastFrames: checkedData.checkedShortPlayLastFrames\r\n      }\r\n      return checkedListMap[type] || []\r\n    }\r\n    return []\r\n  }\r\n\r\n  // 根据素材类型获取对应的组件列表\r\n  const getComponentListByType = (type) => {\r\n    const componentListMap = {\r\n      novel: componentList.novelComponentList,\r\n      firstFrames: componentList.firstFramesComponentList,\r\n      background: componentList.backgroundComponentList,\r\n      music: componentList.musicComponentList,\r\n      stickers: componentList.stickersComponentList,\r\n      textImage: componentList.textImagesComponentList,\r\n      lastFrames: componentList.lastFramesComponentList,\r\n      textVideo: componentList.textVideosComponentList,\r\n      shortPlayVideo: componentList.shortPlayVideoComponentList,\r\n      shortPlayStickers: componentList.shortPlayStickersComponentList,\r\n      shortPlayLastFrames: componentList.shortPlayLastFramesComponentList\r\n    }\r\n    return componentListMap[type] || []\r\n  }\r\n\r\n  // 根据素材类型获取对应的共享/个人列表\r\n  const getActiveTabByType = (type) => {\r\n    const activeTabMap = {\r\n      novel: activeTab.novelActiveTab,\r\n      firstFrames: activeTab.firstFramesActiveTab,\r\n      background: activeTab.backgroundActiveTab,\r\n      music: activeTab.musicActiveTab,\r\n      stickers: activeTab.stickersActiveTab,\r\n      textImage: activeTab.textImagesActiveTab,\r\n      lastFrames: activeTab.lastFramesActiveTab,\r\n      textVideo: activeTab.textVideosActiveTab,\r\n      shortPlayVideo: activeTab.shortPlayVideoActiveTab,\r\n      shortPlayStickers: activeTab.shortPlayStickersActiveTab,\r\n      shortPlayLastFrames: activeTab.shortPlayLastFramesActiveTab\r\n    }\r\n    return activeTabMap[type] || ''\r\n  }\r\n\r\n  const transferCheckedList = (\r\n    checkedListParams,\r\n    transferTagValue,\r\n    activeTabTypeData,\r\n    typeData,\r\n    componentListData,\r\n    start_date,\r\n    end_date,\r\n    _videoFrom, // 解压视频用判断是解压还是置顶，模拟阅读用来占位\r\n    isFromChecked // 是否是通过勾选，非标签选择\r\n  ) => {\r\n    selectDialogVisible.value = false\r\n    if (typeData) {\r\n      materialDates[typeData].start_date = start_date\r\n      materialDates[typeData].end_date = end_date\r\n    }\r\n\r\n    // 处理组合选择\r\n    if (isGroupSelection.value) {\r\n      const groupIndex = currentGroupIndex.value - 1\r\n      if (typeData === 'stickers') {\r\n        groupData.groupStickers[groupIndex] = checkedListParams\r\n        // 清空带文字图片\r\n        groupData.groupTextImages[groupIndex] = []\r\n      } else if (typeData === 'lastFrames') {\r\n        groupData.groupLastFrames[groupIndex] = checkedListParams\r\n        // 清空带文字视频\r\n        groupData.groupTextVideos[groupIndex] = []\r\n      } else if (typeData === 'textImage') {\r\n        groupData.groupTextImages[groupIndex] = checkedListParams\r\n        // 清空贴图\r\n        groupData.groupStickers[groupIndex] = []\r\n      } else if (typeData === 'textVideo') {\r\n        groupData.groupTextVideos[groupIndex] = checkedListParams\r\n        // 清空尾帧\r\n        groupData.groupLastFrames[groupIndex] = []\r\n      }\r\n      isGroupSelection.value = false\r\n      return\r\n    }\r\n\r\n    const actions = {\r\n      novel: () => {\r\n        checkedData.checkedNovel = checkedListParams\r\n        tagValue.novelTags = transferTagValue\r\n        componentList.novelComponentList = componentListData\r\n        activeTab.novelActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.novel = isFromChecked\r\n        // 手动触发novel表单项的验证\r\n        if (ruleFormRef.value) {\r\n          ruleFormRef.value.validateField('novel')\r\n        }\r\n      },\r\n      background: () => {\r\n        checkedData.checkedBackgroundList = checkedListParams\r\n        // 当前图片矩形框位置信息\r\n        Object.assign(renderPreviewBackgroundPosition, checkedData.checkedBackgroundList[0]?.border)\r\n        renderPreviewBackgroundNeedMask.value = checkedData.checkedBackgroundList[0]?.need_mask\r\n        renderPreviewBackgroundTextFill.value = checkedData.checkedBackgroundList[0]?.text_fill\r\n        renderPreviewBackgroundUrl.value = checkedData.checkedBackgroundList[0]?.file_url\r\n        renderPreviewBackgroundId.value = checkedData.checkedBackgroundList[0]?.id\r\n        currentBackgroundIndex.value = 0\r\n        tagValue.backgroundTag = transferTagValue\r\n        componentList.backgroundComponentList = componentListData\r\n        activeTab.backgroundActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.background = isFromChecked\r\n        // 手动触发background表单项的验证\r\n        if (ruleFormRef.value) {\r\n          ruleFormRef.value.validateField('background')\r\n        }\r\n      },\r\n      firstFrames: () => {\r\n        checkedData.checkedFirstFrames = checkedListParams\r\n        renderPreviewFirstFrameUrl.value = checkedData.checkedFirstFrames[0]?.key_frame_url\r\n        renderPreviewFirstFrameId.value = checkedData.checkedFirstFrames[0]?.id\r\n        currentFirstFrameIndex.value = 0\r\n        tagValue.firstFramesTags = transferTagValue\r\n        componentList.firstFramesComponentList = componentListData\r\n        activeTab.firstFramesActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.firstFrames = isFromChecked\r\n      },\r\n      lastFrames: () => {\r\n        // 先清除带文字视频选择，确保使用数组方法触发响应式更新\r\n        checkedData.checkedTextVideos.splice(0, checkedData.checkedTextVideos.length)\r\n        // 还有清除带文字视频的标签\r\n        tagValue.textVideoTags = { shared: [], personal: [] }\r\n        componentList.textVideosComponentList = []\r\n        activeTab.textVideosActiveTab = ''\r\n        // 还要清除带文字视频预览\r\n        renderPreviewTextVideoUrl.value = ''\r\n        renderPreviewTextVideoId.value = ''\r\n        currentTextVideoIndex.value = -1\r\n\r\n        // 设置尾帧\r\n        checkedData.checkedLastFrames = checkedListParams\r\n        renderPreviewLastFrameUrl.value = checkedData.checkedLastFrames[0]?.key_frame_url\r\n        renderPreviewLastFrameId.value = checkedData.checkedLastFrames[0]?.id\r\n        currentLastFrameIndex.value = 0\r\n        tagValue.lastFrameTag = transferTagValue\r\n        componentList.lastFramesComponentList = componentListData\r\n        activeTab.lastFramesActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.lastFrames = isFromChecked\r\n      },\r\n      stickers: () => {\r\n        // 先清除带文字图片选择，确保使用数组方法触发响应式更新\r\n        checkedData.checkedTextImages.splice(0, checkedData.checkedTextImages.length)\r\n        // 还有清除带文字图片的标签\r\n        tagValue.textImageTags = { shared: [], personal: [] }\r\n        componentList.textImagesComponentList = []\r\n        activeTab.textImagesActiveTab = ''\r\n        // 还要清除带文字图片预览\r\n        renderPreviewTextImageUrl.value = ''\r\n        renderPreviewTextImageId.value = ''\r\n        currentTextImageIndex.value = -1\r\n\r\n        // 设置贴图\r\n        checkedData.checkedStickers = checkedListParams\r\n        renderPreviewStickerUrl.value = checkedData.checkedStickers[0]?.file_url\r\n        renderPreviewStickerId.value = checkedData.checkedStickers[0]?.id\r\n        currentStickerIndex.value = 0\r\n        tagValue.stickersTags = transferTagValue\r\n        componentList.stickersComponentList = componentListData\r\n        activeTab.stickersActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.stickers = isFromChecked\r\n      },\r\n      music: () => {\r\n        readFormData.selectedAudio = ''\r\n        checkedData.checkedMusic = checkedListParams\r\n        tagValue.musicTag = transferTagValue\r\n        componentList.musicComponentList = componentListData\r\n        activeTab.musicActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.music = isFromChecked\r\n      },\r\n      textImage: () => {\r\n        // 先清除贴图选择，确保使用数组方法触发响应式更新\r\n        checkedData.checkedStickers.splice(0, checkedData.checkedStickers.length)\r\n        // 还有清除贴图的标签\r\n        tagValue.stickersTags = { shared: [], personal: [] }\r\n        componentList.stickersComponentList = []\r\n        activeTab.stickersActiveTab = ''\r\n        // 还要清除贴图预览\r\n        renderPreviewStickerUrl.value = ''\r\n        renderPreviewStickerId.value = ''\r\n        currentStickerIndex.value = -1\r\n\r\n        // 设置带文字图片\r\n        checkedData.checkedTextImages = checkedListParams\r\n        renderPreviewTextImageUrl.value = checkedData.checkedTextImages[0]?.file_url\r\n        renderPreviewTextImageId.value = checkedData.checkedTextImages[0]?.id\r\n        currentTextImageIndex.value = 0\r\n        tagValue.textImageTags = transferTagValue\r\n        componentList.textImagesComponentList = componentListData\r\n        activeTab.textImagesActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.textImage = isFromChecked\r\n      },\r\n      textVideo: () => {\r\n        // 先清除尾帧选择，确保使用数组方法触发响应式更新\r\n        checkedData.checkedLastFrames.splice(0, checkedData.checkedLastFrames.length)\r\n        // 还有清除尾帧的标签\r\n        tagValue.lastFrameTag = { shared: [], personal: [] }\r\n        componentList.lastFramesComponentList = []\r\n        activeTab.lastFramesActiveTab = ''\r\n        // 还要清除尾帧预览\r\n        renderPreviewLastFrameUrl.value = ''\r\n        renderPreviewLastFrameId.value = ''\r\n        currentLastFrameIndex.value = -1\r\n\r\n        // 设置带文字视频\r\n        checkedData.checkedTextVideos = checkedListParams\r\n        renderPreviewTextVideoUrl.value = checkedData.checkedTextVideos[0]?.key_frame_url\r\n        renderPreviewTextVideoId.value = checkedData.checkedTextVideos[0]?.id\r\n        currentTextVideoIndex.value = 0\r\n        tagValue.textVideoTags = transferTagValue\r\n        componentList.textVideosComponentList = componentListData\r\n        activeTab.textVideosActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.textVideo = isFromChecked\r\n      },\r\n      shortPlayVideo: () => {\r\n        // 设置带文字视频\r\n        checkedData.checkedShortPlayVideo = checkedListParams\r\n        renderPreviewShortPlayUrl.value = checkedData.checkedShortPlay[0]?.file_url\r\n        renderPreviewShortPlayId.value = checkedData.checkedShortPlay[0]?.id\r\n        tagValue.shortPlayTag = transferTagValue\r\n        componentList.shortPlayComponentList = componentListData\r\n        activeTab.shortPlayActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.shortPlay = isFromChecked\r\n      },\r\n      shortPlayStickers: () => {\r\n        // 设置短剧贴图\r\n        checkedData.checkedShortPlayStickers = checkedListParams\r\n        renderPreviewShortPlayStickerUrl.value = checkedData.checkedShortPlayStickers[0]?.file_url\r\n        renderPreviewShortPlayStickerId.value = checkedData.checkedShortPlayStickers[0]?.id\r\n        currentShortPlayStickerIndex.value = 0\r\n        tagValue.shortPlayStickersTag = transferTagValue\r\n        componentList.shortPlayStickersComponentList = componentListData\r\n        activeTab.shortPlayStickersActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.shortPlayStickers = isFromChecked\r\n      },\r\n      shortPlayLastFrames: () => {\r\n        // 设置短剧尾帧\r\n        checkedData.checkedShortPlayLastFrames = checkedListParams\r\n        renderPreviewShortPlayLastFrameUrl.value = checkedData.checkedShortPlayLastFrames[0]?.key_frame_url\r\n        renderPreviewShortPlayLastFrameId.value = checkedData.checkedShortPlayLastFrames[0]?.id\r\n        tagValue.shortPlayLastFrameTag = transferTagValue\r\n        componentList.shortPlayLastFramesComponentList = componentListData\r\n        activeTab.shortPlayLastFramesActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.shortPlayLastFrames = isFromChecked\r\n      }\r\n    }\r\n\r\n    const action = actions[typeData]\r\n    if (action) {\r\n      action()\r\n    }\r\n  }\r\n\r\n  const handleCloseDialog = () => {\r\n    selectDialogVisible.value = false\r\n    isGroupSelection.value = false\r\n  }\r\n\r\n  return {\r\n    selectDialogVisible,\r\n    dialogTitle,\r\n    tabType,\r\n    tagsObject,\r\n    isGroupSelection,\r\n    currentGroupIndex,\r\n    handleMaterialSelect,\r\n    selectMaterial,\r\n    selectGroupMaterial,\r\n    handleSelectGroupMaterial,\r\n    getCheckedListByType,\r\n    getComponentListByType,\r\n    getActiveTabByType,\r\n    transferCheckedList,\r\n    handleCloseDialog\r\n  }\r\n}\r\n","import { watch } from 'vue'\r\n\r\n/**\r\n * 监听选中数据变化的组合式函数\r\n * @param {Object} checkedData - 选中的数据对象\r\n * @param {Object} indices - 包含各种索引的对象\r\n * @param {Object} searchTexts - 包含搜索文本的对象\r\n * @returns {Object} - 返回空对象，仅用于组合式函数的标准格式\r\n */\r\nexport function useWatchers(checkedData, indices, searchTexts) {\r\n  // 监听checkedData各个数组的变化，当它们为空时重置对应的索引变量\r\n  watch(\r\n    () => checkedData.checkedFirstFrames,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        indices.currentFirstFrameIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  watch(\r\n    () => checkedData.checkedLastFrames,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        indices.currentLastFrameIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  watch(\r\n    () => checkedData.checkedBackgroundList,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        indices.currentBackgroundIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  watch(\r\n    () => checkedData.checkedStickers,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        indices.currentStickerIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  watch(\r\n    () => checkedData.checkedTextImages,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        indices.currentTextImageIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  watch(\r\n    () => checkedData.checkedTextVideos,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        indices.currentTextVideoIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  watch(\r\n    () => checkedData.checkedNovel,\r\n    (newVal) => {\r\n      if (\r\n        newVal.length > 0 &&\r\n        !searchTexts.mainSearchBoxText.value &&\r\n        !searchTexts.endSearchBoxText.value\r\n      ) {\r\n        const novelName = newVal[0].name\r\n        searchTexts.mainSearchBoxText.value = novelName\r\n        searchTexts.endSearchBoxText.value = novelName\r\n      }\r\n    },\r\n    { deep: true, immediate: true }\r\n  )\r\n\r\n  watch(\r\n    () => checkedData.checkedShortPlayStickers,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        indices.currentShortPlayStickerIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  return {}\r\n}\r\n","import { getNovelMaterialRequest } from '@/service/novel'\r\n\r\n/**\r\n * 获取字体列表并加载到页面\r\n * @param {Object} options - 配置选项\r\n * @param {string} options.baseUrl - 基础URL，通常为import.meta.env.VITE_API_BASE_URL\r\n * @param {Array} options.fontFamilyOptions - 存储字体选项的ref数组\r\n * @param {Object} [options.formData] - 可选，包含fontFamily字段的表单数据对象\r\n * @returns {Promise<Array>} 字体列表\r\n */\r\nexport const getFontFamily = async (options) => {\r\n  const { baseUrl, fontFamilyOptions, formData } = options\r\n\r\n  const response = await getNovelMaterialRequest(false, {\r\n    category: '字体',\r\n    is_public: true,\r\n    page: 1,\r\n    pagesize: 200\r\n  })\r\n\r\n  if (response.code === 0) {\r\n    // 更新字体选项列表\r\n    fontFamilyOptions.value = response.data.list\r\n\r\n    // 动态加载字体\r\n    response.data.list.forEach((item) => {\r\n      // 动态构建CSS规则\r\n      // font-family 要去掉后缀才能识别\r\n      const fontCSS = `\r\n          @font-face {\r\n            font-family:'${item.name.split('.').slice(0, -1).join('.')}';\r\n            src: url('${baseUrl}${item.file_url}') format('truetype');\r\n          }\r\n        `\r\n      // 将CSS规则插入到<style>标签中\r\n      const style = document.createElement('style')\r\n      style.type = 'text/css'\r\n      style.innerHTML = fontCSS\r\n      document.head.appendChild(style)\r\n    })\r\n\r\n    // 如果提供了formData，设置默认字体\r\n    if (formData && fontFamilyOptions.value.length && !formData.fontFamily) {\r\n      formData.fontFamily =\r\n        fontFamilyOptions.value.find(\r\n          (item) => item.name.split('.').slice(0, -1).join('.') === '方正黑体简体'\r\n        )?.id || fontFamilyOptions.value[0].id\r\n    }\r\n\r\n    return response.data.list\r\n  } else {\r\n    throw new Error(response.message)\r\n  }\r\n}\r\n","<template>\r\n  <el-dialog v-model=\"dialogVisible\" title=\"保存正文配置\" width=\"400\" :before-close=\"handleClose\">\r\n    <el-form :model=\"formModel\" label-width=\"auto\" :rules=\"rules\" ref=\"formRef\" @submit.prevent>\r\n      <el-form-item label=\"配置名称\" prop=\"configName\">\r\n        <el-input\r\n          v-model=\"formModel.configName\"\r\n          placeholder=\"请输入配置名称\"\r\n          @keyup.enter=\"handleConfirm\"\r\n        />\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <template #footer>\r\n      <div class=\"dialog-footer\">\r\n        <el-button @click=\"handleCancel\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleConfirm\">保存</el-button>\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nconst props = defineProps({\r\n  dialogVisible: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  formData: {\r\n    type: Object,\r\n    default: () => ({})\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:dialogVisible', 'confirm', 'load'])\r\n\r\n// 计算属性：双向绑定dialogVisible\r\nconst dialogVisible = computed({\r\n  get: () => props.dialogVisible,\r\n  set: (val) => emit('update:dialogVisible', val)\r\n})\r\n\r\nconst formRef = ref()\r\nconst formModel = reactive({\r\n  configName: ''\r\n})\r\n\r\n// 表单验证规则\r\nconst rules = {\r\n  configName: [\r\n    { required: true, message: '请输入配置名称', trigger: 'blur' },\r\n    { min: 1, max: 50, message: '长度在 1 到 50 个字符', trigger: 'blur' }\r\n  ]\r\n}\r\n\r\n// 关闭对话框\r\nconst handleClose = () => {\r\n  dialogVisible.value = false\r\n  formRef.value?.resetFields()\r\n}\r\n\r\n// 取消按钮\r\nconst handleCancel = () => {\r\n  dialogVisible.value = false\r\n  formRef.value?.resetFields()\r\n}\r\n\r\n// 确认保存配置\r\nconst handleConfirm = () => {\r\n  formRef.value?.validate((valid) => {\r\n    if (valid) {\r\n      // 获取已保存的配置列表\r\n      let savedConfigs = JSON.parse(localStorage.getItem('mainTextConfigs') || '[]')\r\n\r\n      // 生成唯一ID (使用时间戳)\r\n      const configId = Date.now().toString()\r\n\r\n      // 提取需要保存的配置\r\n      const configToSave = {\r\n        id: configId,\r\n        configName: formModel.configName,\r\n        fontFamily: props.formData.fontFamily,\r\n        novelFontSize: props.formData.novelFontSize,\r\n        lineHeight: props.formData.lineHeight,\r\n        letterSpacing: props.formData.letterSpacing,\r\n        paragraphSpacing: props.formData.paragraphSpacing,\r\n        firstLineIndent: props.formData.firstLineIndent,\r\n        scrollStart: props.formData.scrollStart,\r\n        scrollDelay: props.formData.scrollDelay,\r\n        scrollSpeed: props.formData.scrollSpeed\r\n      }\r\n\r\n      // 添加新配置\r\n      savedConfigs.push(configToSave)\r\n\r\n      // 保存回localStorage\r\n      localStorage.setItem('mainTextConfigs', JSON.stringify(savedConfigs))\r\n\r\n      // 触发confirm事件，将新配置的ID传递给父组件\r\n      emit('confirm', { config: configToSave, id: configId })\r\n      formRef.value?.resetFields()\r\n      dialogVisible.value = false\r\n    } else {\r\n      return false\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dialog-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n","<template>\r\n  <!-- 正文配置卡片 -->\r\n  <div class=\"main-section\" :class=\"{ 'main-section-active': showTextConfig }\">\r\n    <div class=\"main-header\" @click=\"toggleTextConfig\">\r\n      <h3>正文</h3>\r\n      <div class=\"main-collapse-icon\">\r\n        <span v-if=\"showTextConfig\">−</span>\r\n        <span v-else>+</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-content\" :class=\"{ hidden: !showTextConfig }\">\r\n      <div class=\"settings-container\">\r\n        <!-- 配置操作按钮 -->\r\n        <div class=\"config-actions\">\r\n          <button class=\"config-action-btn\" @click=\"handleOpenSaveMainTextConfig\">保存配置</button>\r\n          <div class=\"config-select-wrapper\">\r\n            <el-select\r\n              v-model=\"selectedConfigId\"\r\n              placeholder=\"请选择配置\"\r\n              @change=\"handleLoadMainTextConfig\"\r\n              style=\"width: 150px; height: 32px\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in savedConfigs\"\r\n                :key=\"item.id || item.configName\"\r\n                :label=\"item.configName\"\r\n                :value=\"item.id || item.configName\"\r\n              />\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 文字样式设置 -->\r\n        <div class=\"setting-block\">\r\n          <div class=\"setting-header\" @click=\"toggleFontSettings\">\r\n            <div class=\"setting-title\">文字样式</div>\r\n            <div class=\"setting-collapse-icon\" :class=\"{ collapsed: !showFontSettings }\">▼</div>\r\n          </div>\r\n          <div class=\"setting-content\" :class=\"{ hidden: !showFontSettings }\">\r\n            <div class=\"form-group\">\r\n              <label>字体</label>\r\n              <el-select\r\n                :model-value=\"formData.fontFamily\"\r\n                @update:model-value=\"updateFormData('fontFamily', $event)\"\r\n                placeholder=\"选择字体\"\r\n                filterable\r\n                class=\"full-width-select\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in fontFamilyOptions\"\r\n                  :key=\"item.id\"\r\n                  :label=\"fontNameFormatter(item.name)\"\r\n                  :value=\"item.id\"\r\n                />\r\n              </el-select>\r\n            </div>\r\n\r\n            <div class=\"form-row\">\r\n              <div class=\"form-column\">\r\n                <label>字号</label>\r\n                <el-input-number\r\n                  :model-value=\"formData.novelFontSize\"\r\n                  @update:model-value=\"updateFormData('novelFontSize', $event)\"\r\n                  :min=\"1\"\r\n                  :max=\"100\"\r\n                  label=\"字号\"\r\n                />\r\n              </div>\r\n              <div class=\"form-column\">\r\n                <label>行高</label>\r\n                <el-input-number\r\n                  :model-value=\"formData.lineHeight\"\r\n                  @update:model-value=\"updateFormData('lineHeight', $event)\"\r\n                  :min=\"1\"\r\n                  :max=\"3\"\r\n                  step=\"0.1\"\r\n                  label=\"行高\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-row\">\r\n              <div class=\"form-column\">\r\n                <label>字符间距</label>\r\n                <el-input-number\r\n                  :model-value=\"formData.letterSpacing\"\r\n                  @update:model-value=\"updateFormData('letterSpacing', $event)\"\r\n                  :min=\"-10\"\r\n                  :max=\"10\"\r\n                  step=\"1\"\r\n                  label=\"字符间距\"\r\n                />\r\n              </div>\r\n              <div class=\"form-column\">\r\n                <label>段落间距</label>\r\n                <el-input-number\r\n                  :model-value=\"formData.paragraphSpacing\"\r\n                  @update:model-value=\"updateFormData('paragraphSpacing', $event)\"\r\n                  :min=\"0\"\r\n                  :max=\"100\"\r\n                  label=\"段落间距\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <label>首行缩进</label>\r\n              <el-select\r\n                :model-value=\"formData.firstLineIndent\"\r\n                @update:model-value=\"updateFormData('firstLineIndent', $event)\"\r\n                placeholder=\"首行缩进\"\r\n                class=\"full-width-select\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in firstLineIndentOptions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                />\r\n              </el-select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 滚动设置 -->\r\n        <div class=\"setting-block\">\r\n          <div class=\"setting-header\" @click=\"toggleScrollSettings\">\r\n            <div class=\"setting-title\">滚动设置</div>\r\n            <div class=\"setting-collapse-icon\" :class=\"{ collapsed: !showScrollSettings }\">▼</div>\r\n          </div>\r\n          <div class=\"setting-content\" :class=\"{ hidden: !showScrollSettings }\">\r\n            <div class=\"form-group\">\r\n              <label>开始位置</label>\r\n              <el-select\r\n                :model-value=\"formData.scrollStart\"\r\n                @update:model-value=\"updateFormData('scrollStart', $event)\"\r\n                placeholder=\"请选择开始位置\"\r\n                class=\"full-width-select\"\r\n              >\r\n                <el-option\r\n                  v-for=\"item in scrollPositions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.value\"\r\n                />\r\n              </el-select>\r\n            </div>\r\n\r\n            <div class=\"form-row\">\r\n              <div class=\"form-column\">\r\n                <label>延迟</label>\r\n                <el-input-number\r\n                  :model-value=\"formData.scrollDelay\"\r\n                  @update:model-value=\"updateFormData('scrollDelay', $event)\"\r\n                  :min=\"0\"\r\n                  :max=\"5\"\r\n                  step=\"0.5\"\r\n                  placeholder=\"请选择延迟\"\r\n                />\r\n              </div>\r\n              <div class=\"form-column\">\r\n                <label>速度</label>\r\n                <el-input-number\r\n                  :model-value=\"formData.scrollSpeed\"\r\n                  @update:model-value=\"updateFormData('scrollSpeed', $event)\"\r\n                  :min=\"1\"\r\n                  :max=\"10\"\r\n                  placeholder=\"请选择速度\"\r\n                  :step=\"0.1\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- 保存正文配置对话框 -->\r\n  <SaveMainTextConfigDialog\r\n    v-model:dialogVisible=\"saveMainTextDialogVisible\"\r\n    :formData=\"formData\"\r\n    @confirm=\"handleSaveMainTextConfigConfirm\"\r\n  />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onUnmounted, nextTick } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport SaveMainTextConfigDialog from './SaveMainContentSectionDialog.vue'\r\nimport bus from '@/utils/mitt.js'\r\nimport { useNovelStore } from '@/store/novelStore'\r\nconst novelStore = useNovelStore()\r\n\r\nconst props = defineProps({\r\n  formData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  fontFamilyOptions: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  firstLineIndentOptions: {\r\n    type: Array,\r\n    default: () => [\r\n      { value: 0, label: '无' },\r\n      { value: 1, label: '一个字符' },\r\n      { value: 2, label: '两个字符' }\r\n    ]\r\n  },\r\n  scrollPositions: {\r\n    type: Array,\r\n    default: () => [\r\n      { label: '顶部', value: 0 },\r\n      { label: '1/4', value: 0.25 },\r\n      { label: '中间', value: 0.5 },\r\n      { label: '3/4', value: 0.75 },\r\n      { label: '底部', value: 1 }\r\n    ]\r\n  },\r\n  showTextConfig: {\r\n    type: Boolean,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:showTextConfig', 'update:formData'])\r\n\r\n// 折叠状态管理\r\nconst showFontSettings = ref(false)\r\nconst showScrollSettings = ref(false)\r\n\r\n// 保存配置相关状态\r\nconst saveMainTextDialogVisible = ref(false)\r\nconst savedConfigs = ref([])\r\nconst selectedConfigId = ref('')\r\n\r\n// 正文折叠卡片控制\r\nconst toggleTextConfig = () => {\r\n  emit('update:showTextConfig', !props.showTextConfig)\r\n}\r\n\r\n// 文字样式折叠控制\r\nconst toggleFontSettings = () => {\r\n  showFontSettings.value = !showFontSettings.value\r\n}\r\n\r\n// 滚动设置折叠控制\r\nconst toggleScrollSettings = () => {\r\n  showScrollSettings.value = !showScrollSettings.value\r\n}\r\n\r\n// 字体名称格式化\r\nconst fontNameFormatter = (name) => {\r\n  return name.split('.').slice(0, -1).join('.')\r\n}\r\n\r\n// 更新表单数据的通用方法\r\nconst updateFormData = (key, value) => {\r\n  const updatedFormData = { ...props.formData }\r\n  updatedFormData[key] = value\r\n  emit('update:formData', updatedFormData)\r\n\r\n  // 检查修改后的数据是否与当前选择的配置匹配\r\n  checkConfigMatch()\r\n}\r\n\r\n// 保存和加载配置\r\nconst handleOpenSaveMainTextConfig = () => {\r\n  saveMainTextDialogVisible.value = true\r\n}\r\n\r\n// 处理保存配置对话框的确认事件\r\nconst handleSaveMainTextConfigConfirm = (data) => {\r\n  // 重新加载配置列表\r\n  loadSavedConfigs()\r\n  // 设置选中的配置ID\r\n  if (data && data.id) {\r\n    selectedConfigId.value = data.id\r\n  }\r\n  ElMessage.success('正文配置已保存')\r\n}\r\n\r\n// 加载已保存的配置列表\r\nconst loadSavedConfigs = () => {\r\n  try {\r\n    const configs = JSON.parse(localStorage.getItem('mainTextConfigs') || '[]')\r\n    savedConfigs.value = configs\r\n\r\n    // 如果有配置，选择最后一个配置\r\n    if (configs.length > 0) {\r\n      const lastConfig = configs[configs.length - 1]\r\n      selectedConfigId.value = lastConfig.id || lastConfig.configName\r\n      handleLoadMainTextConfig()\r\n    }\r\n  } catch (error) {\r\n    console.error('加载配置失败', error)\r\n    savedConfigs.value = []\r\n  }\r\n}\r\n\r\n// 从选择的配置中加载\r\nconst handleLoadMainTextConfig = () => {\r\n  // 如果没有选择配置，则加载默认配置\r\n  if (!selectedConfigId.value) {\r\n    const savedConfig = localStorage.getItem('mainTextConfigs')\r\n    if (savedConfig) {\r\n      const config = JSON.parse(savedConfig)\r\n      emit('update:formData', { ...props.formData, ...config })\r\n    }\r\n    return\r\n  }\r\n\r\n  // 从已保存的配置中查找选中的配置\r\n  const selectedConfig = savedConfigs.value.find((config) => config.id === selectedConfigId.value)\r\n\r\n  if (selectedConfig) {\r\n    // 将选中的配置应用到当前表单\r\n    const updatedFormData = {\r\n      ...props.formData,\r\n      fontFamily: selectedConfig.fontFamily,\r\n      novelFontSize: selectedConfig.novelFontSize,\r\n      lineHeight: selectedConfig.lineHeight,\r\n      letterSpacing: selectedConfig.letterSpacing,\r\n      paragraphSpacing: selectedConfig.paragraphSpacing,\r\n      firstLineIndent: selectedConfig.firstLineIndent,\r\n      scrollStart: selectedConfig.scrollStart,\r\n      scrollDelay: selectedConfig.scrollDelay,\r\n      scrollSpeed: selectedConfig.scrollSpeed\r\n    }\r\n    emit('update:formData', updatedFormData)\r\n  } else {\r\n    ElMessage.warning('未找到所选配置')\r\n  }\r\n}\r\n\r\n// 检查当前表单数据是否与选中的配置匹配\r\nconst checkConfigMatch = () => {\r\n  // 如果没有选中的配置，则不需要检查\r\n  if (!selectedConfigId.value) return\r\n  selectedConfigId.value = ''\r\n}\r\n\r\n// 在组件挂载时加载配置列表\r\nonMounted(() => {\r\n  loadSavedConfigs()\r\n  if (novelStore.isFromHistoryTask) {\r\n    selectedConfigId.value = ''\r\n  }\r\n  novelStore.setIsFromHistoryTask(false)\r\n})\r\n\r\n// 在组件卸载时移除事件监听器\r\nonUnmounted(() => {\r\n  bus.off('jumpToNovelTask')\r\n})\r\n\r\ndefineExpose({\r\n  loadSavedConfigs\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/* 主要内容区域样式 */\r\n.main-section {\r\n  margin-bottom: 20px;\r\n  border-radius: 8px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\r\n  overflow: hidden;\r\n  transition: all 0.3s;\r\n\r\n  &.main-section-active {\r\n    border-color: #409eff;\r\n    box-shadow: 0 2px 12px rgba(64, 158, 255, 0.1);\r\n  }\r\n}\r\n\r\n.main-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 12px 15px;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  border-bottom: 1px solid #f0f0f0;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n\r\n  h3 {\r\n    margin: 0;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: #333;\r\n  }\r\n\r\n  .main-collapse-icon {\r\n    font-size: 18px;\r\n    width: 24px;\r\n    height: 24px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border-radius: 50%;\r\n    background: rgba(255, 255, 255, 0.4);\r\n    transition: transform 0.3s;\r\n\r\n    span {\r\n      font-size: 16px;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      line-height: 18px;\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n\r\n.main-content {\r\n  padding: 20px;\r\n  transition: all 0.3s;\r\n\r\n  &.hidden {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.settings-container {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n}\r\n\r\n/* 配置操作按钮样式 */\r\n.config-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  margin-bottom: 15px;\r\n  gap: 10px;\r\n}\r\n\r\n.config-action-btn {\r\n  background: linear-gradient(135deg, rgba(128, 135, 255, 0.9), rgba(116, 189, 255, 0.9));\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 6px 12px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  height: 32px;\r\n  line-height: 20px;\r\n  transition: all 0.3s;\r\n\r\n  &:hover {\r\n    background: linear-gradient(135deg, rgba(128, 135, 255, 1), rgba(116, 189, 255, 1));\r\n  }\r\n}\r\n\r\n.config-select-wrapper {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  margin-left: 10px;\r\n}\r\n\r\n/* 设置块样式 */\r\n.setting-block {\r\n  margin-bottom: 15px;\r\n  border: 1px solid #e4e7ed;\r\n  border-radius: 4px;\r\n  background-color: #f8f9fa;\r\n  overflow: hidden;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.setting-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 15px;\r\n  background-color: #f0f2f5;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid #e4e7ed;\r\n  transition: all 0.3s;\r\n\r\n  &:hover {\r\n    background-color: #eef1f6;\r\n  }\r\n\r\n  .setting-title {\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #303133;\r\n  }\r\n\r\n  .setting-collapse-icon {\r\n    font-size: 12px;\r\n    color: #909399;\r\n    transition: transform 0.3s;\r\n\r\n    &.collapsed {\r\n      transform: rotate(-90deg);\r\n    }\r\n  }\r\n}\r\n\r\n.setting-content {\r\n  padding: 15px;\r\n  background-color: #fff;\r\n  transition: all 0.3s;\r\n\r\n  &.hidden {\r\n    display: none;\r\n  }\r\n}\r\n\r\n/* 表单样式 */\r\n.form-group {\r\n  margin-bottom: 15px;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  label {\r\n    display: block;\r\n    margin-bottom: 8px;\r\n    font-size: 14px;\r\n    color: #606266;\r\n  }\r\n}\r\n\r\n.form-row {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 15px;\r\n\r\n  label {\r\n    display: block;\r\n    margin-bottom: 8px;\r\n    font-size: 14px;\r\n    color: #606266;\r\n  }\r\n}\r\n\r\n.form-column {\r\n  flex: 1;\r\n}\r\n\r\n:deep(.el-form-item__label) {\r\n  color: #606266;\r\n  font-size: 14px;\r\n}\r\n\r\n:deep(.el-slider__runway) {\r\n  margin: 8px 0;\r\n}\r\n\r\n:deep(.el-input-number) {\r\n  width: 100%;\r\n}\r\n\r\n:deep(.config-select-wrapper .el-input__wrapper) {\r\n  height: 32px;\r\n}\r\n\r\n.full-width-select {\r\n  width: 100%;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n/* 全局样式 */\r\n.main-section {\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n\r\n  &.main-section-active {\r\n    margin-bottom: 20px;\r\n    flex: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .main-header {\r\n    padding: 14px 16px;\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.15),\r\n      rgba(116, 189, 255, 0.15),\r\n      rgba(124, 239, 203, 0.15)\r\n    );\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    transition: all 0.3s;\r\n    color: var(--text-dark);\r\n\r\n    &:hover {\r\n      background: linear-gradient(\r\n        135deg,\r\n        rgba(128, 135, 255, 0.2),\r\n        rgba(116, 189, 255, 0.2),\r\n        rgba(124, 239, 203, 0.2)\r\n      );\r\n    }\r\n\r\n    h3 {\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      color: var(--text-dark);\r\n      margin: 0;\r\n    }\r\n\r\n    .main-collapse-icon {\r\n      font-size: 18px;\r\n      width: 24px;\r\n      height: 24px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-radius: 50%;\r\n      background: rgba(255, 255, 255, 0.4);\r\n      transition: transform 0.3s;\r\n\r\n      &.collapsed {\r\n        transform: rotate(-90deg);\r\n      }\r\n    }\r\n  }\r\n\r\n  .main-content {\r\n    padding: 12px;\r\n    border: 1px solid var(--border-color);\r\n    border-top: none;\r\n    border-radius: 0 0 8px 8px;\r\n    background: white;\r\n    transition: all 0.3s ease;\r\n    overflow: hidden;\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    &.hidden {\r\n      max-height: 0;\r\n      padding: 0;\r\n      border: none;\r\n      flex: 0;\r\n    }\r\n\r\n    .settings-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 100%;\r\n      padding: 15px;\r\n      overflow-y: auto;\r\n      max-height: 100%;\r\n      flex: 1;\r\n      gap: 15px;\r\n\r\n      &::-webkit-scrollbar {\r\n        width: 6px;\r\n      }\r\n\r\n      &::-webkit-scrollbar-track {\r\n        background: #f1f1f1;\r\n        border-radius: 3px;\r\n      }\r\n\r\n      &::-webkit-scrollbar-thumb {\r\n        background: #cccccc;\r\n        border-radius: 3px;\r\n      }\r\n\r\n      &::-webkit-scrollbar-thumb:hover {\r\n        background: #aaaaaa;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { getCurrentInstance, inject, ref, computed, unref, isRef, warn, provide, defineComponent, createElementBlock, openBlock, mergeProps, renderSlot, createElementVNode, onMounted, watch, toRef, onUnmounted, shallowRef, nextTick, useAttrs as useAttrs$1, useSlots, normalizeStyle, normalizeClass, createCommentVNode, Fragment, createBlock, withCtx, resolveDynamicComponent, withModifiers, createVNode, toDisplayString, onBeforeUnmount, withDirectives, cloneVNode, Text, Comment, Teleport as Teleport$1, onBeforeMount, Transition, vShow, readonly, onDeactivated, createTextVNode, reactive, toRaw, vModelCheckbox, toRefs, h, watchEffect, onScopeDispose, createSlots, onUpdated, TransitionGroup, markRaw, effectScope, renderList, normalizeProps, guardReactiveProps, withKeys, createApp, shallowReactive, isVNode, render, resolveComponent } from \"vue\";\nimport { i as isString, a as isClient, b as isObject, h as hasOwn, c as isFunction, d as camelize, N as NOOP, e as computedEager, u as useEventListener, f as useResizeObserver, g as unrefElement, t as tryOnScopeDispose, j as isArray, o as onClickOutside, k as useTimeoutFn, r as refDebounced, l as useThrottleFn, m as isPlainObject, n as useVModel, p as hyphenate } from \"./vue.efm2TqnC.js\";\nimport { E as Ee, y as yn, T as TinyColor, S as Schema } from \"./vendor.BQ03k1rc.js\";\nimport { i as isNil, g as get, f as fromPairs, s as set, p as pick, a as isUndefined$1, b as isEqual, c as castArray, d as clone, t as throttle, e as cloneDeep } from \"./lodash-es.CBG3u1Fs.js\";\nconst configProviderContextKey = Symbol();\nconst defaultNamespace = \"el\";\nconst statePrefix = \"is-\";\nconst _bem = (namespace, block, blockSuffix, element, modifier) => {\n  let cls = `${namespace}-${block}`;\n  if (blockSuffix) {\n    cls += `-${blockSuffix}`;\n  }\n  if (element) {\n    cls += `__${element}`;\n  }\n  if (modifier) {\n    cls += `--${modifier}`;\n  }\n  return cls;\n};\nconst namespaceContextKey = Symbol(\"namespaceContextKey\");\nconst useGetDerivedNamespace = (namespaceOverrides) => {\n  const derivedNamespace = namespaceOverrides || (getCurrentInstance() ? inject(namespaceContextKey, ref(defaultNamespace)) : ref(defaultNamespace));\n  const namespace = computed(() => {\n    return unref(derivedNamespace) || defaultNamespace;\n  });\n  return namespace;\n};\nconst useNamespace = (block, namespaceOverrides) => {\n  const namespace = useGetDerivedNamespace(namespaceOverrides);\n  const b = (blockSuffix = \"\") => _bem(namespace.value, block, blockSuffix, \"\", \"\");\n  const e = (element) => element ? _bem(namespace.value, block, \"\", element, \"\") : \"\";\n  const m = (modifier) => modifier ? _bem(namespace.value, block, \"\", \"\", modifier) : \"\";\n  const be = (blockSuffix, element) => blockSuffix && element ? _bem(namespace.value, block, blockSuffix, element, \"\") : \"\";\n  const em = (element, modifier) => element && modifier ? _bem(namespace.value, block, \"\", element, modifier) : \"\";\n  const bm = (blockSuffix, modifier) => blockSuffix && modifier ? _bem(namespace.value, block, blockSuffix, \"\", modifier) : \"\";\n  const bem = (blockSuffix, element, modifier) => blockSuffix && element && modifier ? _bem(namespace.value, block, blockSuffix, element, modifier) : \"\";\n  const is = (name, ...args) => {\n    const state = args.length >= 1 ? args[0] : true;\n    return name && state ? `${statePrefix}${name}` : \"\";\n  };\n  const cssVar = (object) => {\n    const styles = {};\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${key}`] = object[key];\n      }\n    }\n    return styles;\n  };\n  const cssVarBlock = (object) => {\n    const styles = {};\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${block}-${key}`] = object[key];\n      }\n    }\n    return styles;\n  };\n  const cssVarName = (name) => `--${namespace.value}-${name}`;\n  const cssVarBlockName = (name) => `--${namespace.value}-${block}-${name}`;\n  return {\n    namespace,\n    b,\n    e,\n    m,\n    be,\n    em,\n    bm,\n    bem,\n    is,\n    cssVar,\n    cssVarName,\n    cssVarBlock,\n    cssVarBlockName\n  };\n};\nconst isUndefined = (val) => val === void 0;\nconst isBoolean = (val) => typeof val === \"boolean\";\nconst isNumber = (val) => typeof val === \"number\";\nconst isElement = (e) => {\n  if (typeof Element === \"undefined\")\n    return false;\n  return e instanceof Element;\n};\nconst isPropAbsent = (prop) => isNil(prop);\nconst isStringNumber = (val) => {\n  if (!isString(val)) {\n    return false;\n  }\n  return !Number.isNaN(Number(val));\n};\nclass ElementPlusError extends Error {\n  constructor(m) {\n    super(m);\n    this.name = \"ElementPlusError\";\n  }\n}\nfunction throwError(scope, m) {\n  throw new ElementPlusError(`[${scope}] ${m}`);\n}\nfunction debugWarn(scope, message2) {\n  if (process.env.NODE_ENV !== \"production\") {\n    const error = isString(scope) ? new ElementPlusError(`[${scope}] ${message2}`) : scope;\n    console.warn(error);\n  }\n}\nconst initial = {\n  current: 0\n};\nconst zIndex = ref(0);\nconst defaultInitialZIndex = 2e3;\nconst ZINDEX_INJECTION_KEY = Symbol(\"elZIndexContextKey\");\nconst zIndexContextKey = Symbol(\"zIndexContextKey\");\nconst useZIndex = (zIndexOverrides) => {\n  const increasingInjection = getCurrentInstance() ? inject(ZINDEX_INJECTION_KEY, initial) : initial;\n  const zIndexInjection = zIndexOverrides || (getCurrentInstance() ? inject(zIndexContextKey, void 0) : void 0);\n  const initialZIndex = computed(() => {\n    const zIndexFromInjection = unref(zIndexInjection);\n    return isNumber(zIndexFromInjection) ? zIndexFromInjection : defaultInitialZIndex;\n  });\n  const currentZIndex = computed(() => initialZIndex.value + zIndex.value);\n  const nextZIndex = () => {\n    increasingInjection.current++;\n    zIndex.value = increasingInjection.current;\n    return currentZIndex.value;\n  };\n  if (!isClient && !inject(ZINDEX_INJECTION_KEY)) {\n    debugWarn(\"ZIndexInjection\", `Looks like you are using server rendering, you must provide a z-index provider to ensure the hydration process to be succeed\nusage: app.provide(ZINDEX_INJECTION_KEY, { current: 0 })`);\n  }\n  return {\n    initialZIndex,\n    currentZIndex,\n    nextZIndex\n  };\n};\nvar English = {\n  name: \"en\",\n  el: {\n    breadcrumb: {\n      label: \"Breadcrumb\"\n    },\n    colorpicker: {\n      confirm: \"OK\",\n      clear: \"Clear\",\n      defaultLabel: \"color picker\",\n      description: \"current color is {color}. press enter to select a new color.\",\n      alphaLabel: \"pick alpha value\"\n    },\n    datepicker: {\n      now: \"Now\",\n      today: \"Today\",\n      cancel: \"Cancel\",\n      clear: \"Clear\",\n      confirm: \"OK\",\n      dateTablePrompt: \"Use the arrow keys and enter to select the day of the month\",\n      monthTablePrompt: \"Use the arrow keys and enter to select the month\",\n      yearTablePrompt: \"Use the arrow keys and enter to select the year\",\n      selectedDate: \"Selected date\",\n      selectDate: \"Select date\",\n      selectTime: \"Select time\",\n      startDate: \"Start Date\",\n      startTime: \"Start Time\",\n      endDate: \"End Date\",\n      endTime: \"End Time\",\n      prevYear: \"Previous Year\",\n      nextYear: \"Next Year\",\n      prevMonth: \"Previous Month\",\n      nextMonth: \"Next Month\",\n      year: \"\",\n      month1: \"January\",\n      month2: \"February\",\n      month3: \"March\",\n      month4: \"April\",\n      month5: \"May\",\n      month6: \"June\",\n      month7: \"July\",\n      month8: \"August\",\n      month9: \"September\",\n      month10: \"October\",\n      month11: \"November\",\n      month12: \"December\",\n      week: \"week\",\n      weeks: {\n        sun: \"Sun\",\n        mon: \"Mon\",\n        tue: \"Tue\",\n        wed: \"Wed\",\n        thu: \"Thu\",\n        fri: \"Fri\",\n        sat: \"Sat\"\n      },\n      weeksFull: {\n        sun: \"Sunday\",\n        mon: \"Monday\",\n        tue: \"Tuesday\",\n        wed: \"Wednesday\",\n        thu: \"Thursday\",\n        fri: \"Friday\",\n        sat: \"Saturday\"\n      },\n      months: {\n        jan: \"Jan\",\n        feb: \"Feb\",\n        mar: \"Mar\",\n        apr: \"Apr\",\n        may: \"May\",\n        jun: \"Jun\",\n        jul: \"Jul\",\n        aug: \"Aug\",\n        sep: \"Sep\",\n        oct: \"Oct\",\n        nov: \"Nov\",\n        dec: \"Dec\"\n      }\n    },\n    inputNumber: {\n      decrease: \"decrease number\",\n      increase: \"increase number\"\n    },\n    select: {\n      loading: \"Loading\",\n      noMatch: \"No matching data\",\n      noData: \"No data\",\n      placeholder: \"Select\"\n    },\n    mention: {\n      loading: \"Loading\"\n    },\n    dropdown: {\n      toggleDropdown: \"Toggle Dropdown\"\n    },\n    cascader: {\n      noMatch: \"No matching data\",\n      loading: \"Loading\",\n      placeholder: \"Select\",\n      noData: \"No data\"\n    },\n    pagination: {\n      goto: \"Go to\",\n      pagesize: \"/page\",\n      total: \"Total {total}\",\n      pageClassifier: \"\",\n      page: \"Page\",\n      prev: \"Go to previous page\",\n      next: \"Go to next page\",\n      currentPage: \"page {pager}\",\n      prevPages: \"Previous {pager} pages\",\n      nextPages: \"Next {pager} pages\",\n      deprecationWarning: \"Deprecated usages detected, please refer to the el-pagination documentation for more details\"\n    },\n    dialog: {\n      close: \"Close this dialog\"\n    },\n    drawer: {\n      close: \"Close this dialog\"\n    },\n    messagebox: {\n      title: \"Message\",\n      confirm: \"OK\",\n      cancel: \"Cancel\",\n      error: \"Illegal input\",\n      close: \"Close this dialog\"\n    },\n    upload: {\n      deleteTip: \"press delete to remove\",\n      delete: \"Delete\",\n      preview: \"Preview\",\n      continue: \"Continue\"\n    },\n    slider: {\n      defaultLabel: \"slider between {min} and {max}\",\n      defaultRangeStartLabel: \"pick start value\",\n      defaultRangeEndLabel: \"pick end value\"\n    },\n    table: {\n      emptyText: \"No Data\",\n      confirmFilter: \"Confirm\",\n      resetFilter: \"Reset\",\n      clearFilter: \"All\",\n      sumText: \"Sum\"\n    },\n    tour: {\n      next: \"Next\",\n      previous: \"Previous\",\n      finish: \"Finish\"\n    },\n    tree: {\n      emptyText: \"No Data\"\n    },\n    transfer: {\n      noMatch: \"No matching data\",\n      noData: \"No data\",\n      titles: [\"List 1\", \"List 2\"],\n      filterPlaceholder: \"Enter keyword\",\n      noCheckedFormat: \"{total} items\",\n      hasCheckedFormat: \"{checked}/{total} checked\"\n    },\n    image: {\n      error: \"FAILED\"\n    },\n    pageHeader: {\n      title: \"Back\"\n    },\n    popconfirm: {\n      confirmButtonText: \"Yes\",\n      cancelButtonText: \"No\"\n    },\n    carousel: {\n      leftArrow: \"Carousel arrow left\",\n      rightArrow: \"Carousel arrow right\",\n      indicator: \"Carousel switch to index {index}\"\n    }\n  }\n};\nconst buildTranslator = (locale) => (path, option) => translate(path, option, unref(locale));\nconst translate = (path, option, locale) => get(locale, path, path).replace(/\\{(\\w+)\\}/g, (_, key) => {\n  var _a;\n  return `${(_a = option == null ? void 0 : option[key]) != null ? _a : `{${key}}`}`;\n});\nconst buildLocaleContext = (locale) => {\n  const lang = computed(() => unref(locale).name);\n  const localeRef = isRef(locale) ? locale : ref(locale);\n  return {\n    lang,\n    locale: localeRef,\n    t: buildTranslator(locale)\n  };\n};\nconst localeContextKey = Symbol(\"localeContextKey\");\nconst useLocale = (localeOverrides) => {\n  const locale = localeOverrides || inject(localeContextKey, ref());\n  return buildLocaleContext(computed(() => locale.value || English));\n};\nconst epPropKey = \"__epPropKey\";\nconst definePropType = (val) => val;\nconst isEpProp = (val) => isObject(val) && !!val[epPropKey];\nconst buildProp = (prop, key) => {\n  if (!isObject(prop) || isEpProp(prop))\n    return prop;\n  const { values, required, default: defaultValue, type, validator } = prop;\n  const _validator = values || validator ? (val) => {\n    let valid = false;\n    let allowedValues = [];\n    if (values) {\n      allowedValues = Array.from(values);\n      if (hasOwn(prop, \"default\")) {\n        allowedValues.push(defaultValue);\n      }\n      valid || (valid = allowedValues.includes(val));\n    }\n    if (validator)\n      valid || (valid = validator(val));\n    if (!valid && allowedValues.length > 0) {\n      const allowValuesText = [...new Set(allowedValues)].map((value) => JSON.stringify(value)).join(\", \");\n      warn(`Invalid prop: validation failed${key ? ` for prop \"${key}\"` : \"\"}. Expected one of [${allowValuesText}], got value ${JSON.stringify(val)}.`);\n    }\n    return valid;\n  } : void 0;\n  const epProp = {\n    type,\n    required: !!required,\n    validator: _validator,\n    [epPropKey]: true\n  };\n  if (hasOwn(prop, \"default\"))\n    epProp.default = defaultValue;\n  return epProp;\n};\nconst buildProps = (props) => fromPairs(Object.entries(props).map(([key, option]) => [\n  key,\n  buildProp(option, key)\n]));\nconst componentSizes = [\"\", \"default\", \"small\", \"large\"];\nconst useSizeProp = buildProp({\n  type: String,\n  values: componentSizes,\n  required: false\n});\nconst SIZE_INJECTION_KEY = Symbol(\"size\");\nconst useGlobalSize = () => {\n  const injectedSize = inject(SIZE_INJECTION_KEY, {});\n  return computed(() => {\n    return unref(injectedSize.size) || \"\";\n  });\n};\nconst emptyValuesContextKey = Symbol(\"emptyValuesContextKey\");\nconst useEmptyValuesProps = buildProps({\n  emptyValues: Array,\n  valueOnClear: {\n    type: [String, Number, Boolean, Function],\n    default: void 0,\n    validator: (val) => isFunction(val) ? !val() : !val\n  }\n});\nconst keysOf = (arr) => Object.keys(arr);\nconst entriesOf = (arr) => Object.entries(arr);\nconst getProp = (obj, path, defaultValue) => {\n  return {\n    get value() {\n      return get(obj, path, defaultValue);\n    },\n    set value(val) {\n      set(obj, path, val);\n    }\n  };\n};\nconst globalConfig = ref();\nfunction useGlobalConfig(key, defaultValue = void 0) {\n  const config = getCurrentInstance() ? inject(configProviderContextKey, globalConfig) : globalConfig;\n  if (key) {\n    return computed(() => {\n      var _a, _b;\n      return (_b = (_a = config.value) == null ? void 0 : _a[key]) != null ? _b : defaultValue;\n    });\n  } else {\n    return config;\n  }\n}\nfunction useGlobalComponentSettings(block, sizeFallback) {\n  const config = useGlobalConfig();\n  const ns = useNamespace(block, computed(() => {\n    var _a;\n    return ((_a = config.value) == null ? void 0 : _a.namespace) || defaultNamespace;\n  }));\n  const locale = useLocale(computed(() => {\n    var _a;\n    return (_a = config.value) == null ? void 0 : _a.locale;\n  }));\n  const zIndex2 = useZIndex(computed(() => {\n    var _a;\n    return ((_a = config.value) == null ? void 0 : _a.zIndex) || defaultInitialZIndex;\n  }));\n  const size = computed(() => {\n    var _a;\n    return unref(sizeFallback) || ((_a = config.value) == null ? void 0 : _a.size) || \"\";\n  });\n  provideGlobalConfig(computed(() => unref(config) || {}));\n  return {\n    ns,\n    locale,\n    zIndex: zIndex2,\n    size\n  };\n}\nconst provideGlobalConfig = (config, app, global = false) => {\n  var _a;\n  const inSetup = !!getCurrentInstance();\n  const oldConfig = inSetup ? useGlobalConfig() : void 0;\n  const provideFn = (_a = void 0) != null ? _a : inSetup ? provide : void 0;\n  if (!provideFn) {\n    debugWarn(\"provideGlobalConfig\", \"provideGlobalConfig() can only be used inside setup().\");\n    return;\n  }\n  const context = computed(() => {\n    const cfg = unref(config);\n    if (!(oldConfig == null ? void 0 : oldConfig.value))\n      return cfg;\n    return mergeConfig(oldConfig.value, cfg);\n  });\n  provideFn(configProviderContextKey, context);\n  provideFn(localeContextKey, computed(() => context.value.locale));\n  provideFn(namespaceContextKey, computed(() => context.value.namespace));\n  provideFn(zIndexContextKey, computed(() => context.value.zIndex));\n  provideFn(SIZE_INJECTION_KEY, {\n    size: computed(() => context.value.size || \"\")\n  });\n  provideFn(emptyValuesContextKey, computed(() => ({\n    emptyValues: context.value.emptyValues,\n    valueOnClear: context.value.valueOnClear\n  })));\n  if (global || !globalConfig.value) {\n    globalConfig.value = context.value;\n  }\n  return context;\n};\nconst mergeConfig = (a, b) => {\n  const keys = [.../* @__PURE__ */ new Set([...keysOf(a), ...keysOf(b)])];\n  const obj = {};\n  for (const key of keys) {\n    obj[key] = b[key] !== void 0 ? b[key] : a[key];\n  }\n  return obj;\n};\nconst UPDATE_MODEL_EVENT = \"update:modelValue\";\nconst CHANGE_EVENT = \"change\";\nconst INPUT_EVENT = \"input\";\nvar _export_sfc = (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n};\nconst SCOPE$3 = \"utils/dom/style\";\nconst classNameToArray = (cls = \"\") => cls.split(\" \").filter((item) => !!item.trim());\nconst hasClass = (el, cls) => {\n  if (!el || !cls)\n    return false;\n  if (cls.includes(\" \"))\n    throw new Error(\"className should not contain space.\");\n  return el.classList.contains(cls);\n};\nconst addClass = (el, cls) => {\n  if (!el || !cls.trim())\n    return;\n  el.classList.add(...classNameToArray(cls));\n};\nconst removeClass = (el, cls) => {\n  if (!el || !cls.trim())\n    return;\n  el.classList.remove(...classNameToArray(cls));\n};\nconst getStyle = (element, styleName) => {\n  var _a;\n  if (!isClient || !element || !styleName)\n    return \"\";\n  let key = camelize(styleName);\n  if (key === \"float\")\n    key = \"cssFloat\";\n  try {\n    const style = element.style[key];\n    if (style)\n      return style;\n    const computed2 = (_a = document.defaultView) == null ? void 0 : _a.getComputedStyle(element, \"\");\n    return computed2 ? computed2[key] : \"\";\n  } catch (e) {\n    return element.style[key];\n  }\n};\nfunction addUnit(value, defaultUnit = \"px\") {\n  if (!value)\n    return \"\";\n  if (isNumber(value) || isStringNumber(value)) {\n    return `${value}${defaultUnit}`;\n  } else if (isString(value)) {\n    return value;\n  }\n  debugWarn(SCOPE$3, \"binding value must be a string or number\");\n}\nconst isScroll = (el, isVertical) => {\n  if (!isClient)\n    return false;\n  const key = {\n    undefined: \"overflow\",\n    true: \"overflow-y\",\n    false: \"overflow-x\"\n  }[String(isVertical)];\n  const overflow = getStyle(el, key);\n  return [\"scroll\", \"auto\", \"overlay\"].some((s) => overflow.includes(s));\n};\nconst getScrollContainer = (el, isVertical) => {\n  if (!isClient)\n    return;\n  let parent = el;\n  while (parent) {\n    if ([window, document, document.documentElement].includes(parent))\n      return window;\n    if (isScroll(parent, isVertical))\n      return parent;\n    parent = parent.parentNode;\n  }\n  return parent;\n};\nlet scrollBarWidth;\nconst getScrollBarWidth = (namespace) => {\n  var _a;\n  if (!isClient)\n    return 0;\n  if (scrollBarWidth !== void 0)\n    return scrollBarWidth;\n  const outer = document.createElement(\"div\");\n  outer.className = `${namespace}-scrollbar__wrap`;\n  outer.style.visibility = \"hidden\";\n  outer.style.width = \"100px\";\n  outer.style.position = \"absolute\";\n  outer.style.top = \"-9999px\";\n  document.body.appendChild(outer);\n  const widthNoScroll = outer.offsetWidth;\n  outer.style.overflow = \"scroll\";\n  const inner = document.createElement(\"div\");\n  inner.style.width = \"100%\";\n  outer.appendChild(inner);\n  const widthWithScroll = inner.offsetWidth;\n  (_a = outer.parentNode) == null ? void 0 : _a.removeChild(outer);\n  scrollBarWidth = widthNoScroll - widthWithScroll;\n  return scrollBarWidth;\n};\nconst withInstall = (main, extra) => {\n  main.install = (app) => {\n    for (const comp of [main, ...Object.values(extra != null ? extra : {})]) {\n      app.component(comp.name, comp);\n    }\n  };\n  if (extra) {\n    for (const [key, comp] of Object.entries(extra)) {\n      main[key] = comp;\n    }\n  }\n  return main;\n};\nconst withInstallFunction = (fn, name) => {\n  fn.install = (app) => {\n    fn._context = app._context;\n    app.config.globalProperties[name] = fn;\n  };\n  return fn;\n};\nconst withNoopInstall = (component) => {\n  component.install = NOOP;\n  return component;\n};\nconst iconProps = buildProps({\n  size: {\n    type: definePropType([Number, String])\n  },\n  color: {\n    type: String\n  }\n});\nconst __default__$r = defineComponent({\n  name: \"ElIcon\",\n  inheritAttrs: false\n});\nconst _sfc_main$u = /* @__PURE__ */ defineComponent({\n  ...__default__$r,\n  props: iconProps,\n  setup(__props) {\n    const props = __props;\n    const ns = useNamespace(\"icon\");\n    const style = computed(() => {\n      const { size, color } = props;\n      if (!size && !color)\n        return {};\n      return {\n        fontSize: isUndefined(size) ? void 0 : addUnit(size),\n        \"--color\": color\n      };\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"i\", mergeProps({\n        class: unref(ns).b(),\n        style: unref(style)\n      }, _ctx.$attrs), [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 16);\n    };\n  }\n});\nvar Icon = /* @__PURE__ */ _export_sfc(_sfc_main$u, [[\"__file\", \"icon.vue\"]]);\nconst ElIcon = withInstall(Icon);\n/*! Element Plus Icons Vue v2.3.1 */\nvar arrow_left_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"ArrowLeft\",\n  __name: \"arrow-left\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z\"\n      })\n    ]));\n  }\n});\nvar arrow_left_default = arrow_left_vue_vue_type_script_setup_true_lang_default;\nvar arrow_right_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"ArrowRight\",\n  __name: \"arrow-right\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z\"\n      })\n    ]));\n  }\n});\nvar arrow_right_default = arrow_right_vue_vue_type_script_setup_true_lang_default;\nvar check_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"Check\",\n  __name: \"check\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z\"\n      })\n    ]));\n  }\n});\nvar check_default = check_vue_vue_type_script_setup_true_lang_default;\nvar circle_check_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"CircleCheck\",\n  __name: \"circle-check\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896\"\n      }),\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z\"\n      })\n    ]));\n  }\n});\nvar circle_check_default = circle_check_vue_vue_type_script_setup_true_lang_default;\nvar circle_close_filled_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"CircleCloseFilled\",\n  __name: \"circle-close-filled\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z\"\n      })\n    ]));\n  }\n});\nvar circle_close_filled_default = circle_close_filled_vue_vue_type_script_setup_true_lang_default;\nvar circle_close_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"CircleClose\",\n  __name: \"circle-close\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z\"\n      }),\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896\"\n      })\n    ]));\n  }\n});\nvar circle_close_default = circle_close_vue_vue_type_script_setup_true_lang_default;\nvar close_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"Close\",\n  __name: \"close\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z\"\n      })\n    ]));\n  }\n});\nvar close_default = close_vue_vue_type_script_setup_true_lang_default;\nvar delete_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"Delete\",\n  __name: \"delete\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32\"\n      })\n    ]));\n  }\n});\nvar delete_default = delete_vue_vue_type_script_setup_true_lang_default;\nvar document_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"Document\",\n  __name: \"document\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z\"\n      })\n    ]));\n  }\n});\nvar document_default = document_vue_vue_type_script_setup_true_lang_default;\nvar full_screen_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"FullScreen\",\n  __name: \"full-screen\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z\"\n      })\n    ]));\n  }\n});\nvar full_screen_default = full_screen_vue_vue_type_script_setup_true_lang_default;\nvar hide_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"Hide\",\n  __name: \"hide\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z\"\n      }),\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z\"\n      })\n    ]));\n  }\n});\nvar hide_default = hide_vue_vue_type_script_setup_true_lang_default;\nvar info_filled_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"InfoFilled\",\n  __name: \"info-filled\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z\"\n      })\n    ]));\n  }\n});\nvar info_filled_default = info_filled_vue_vue_type_script_setup_true_lang_default;\nvar loading_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"Loading\",\n  __name: \"loading\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z\"\n      })\n    ]));\n  }\n});\nvar loading_default = loading_vue_vue_type_script_setup_true_lang_default;\nvar plus_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"Plus\",\n  __name: \"plus\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z\"\n      })\n    ]));\n  }\n});\nvar plus_default = plus_vue_vue_type_script_setup_true_lang_default;\nvar refresh_left_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"RefreshLeft\",\n  __name: \"refresh-left\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z\"\n      })\n    ]));\n  }\n});\nvar refresh_left_default = refresh_left_vue_vue_type_script_setup_true_lang_default;\nvar refresh_right_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"RefreshRight\",\n  __name: \"refresh-right\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z\"\n      })\n    ]));\n  }\n});\nvar refresh_right_default = refresh_right_vue_vue_type_script_setup_true_lang_default;\nvar scale_to_original_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"ScaleToOriginal\",\n  __name: \"scale-to-original\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512\"\n      })\n    ]));\n  }\n});\nvar scale_to_original_default = scale_to_original_vue_vue_type_script_setup_true_lang_default;\nvar search_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"Search\",\n  __name: \"search\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704\"\n      })\n    ]));\n  }\n});\nvar search_default = search_vue_vue_type_script_setup_true_lang_default;\nvar success_filled_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"SuccessFilled\",\n  __name: \"success-filled\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z\"\n      })\n    ]));\n  }\n});\nvar success_filled_default = success_filled_vue_vue_type_script_setup_true_lang_default;\nvar view_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"View\",\n  __name: \"view\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160\"\n      })\n    ]));\n  }\n});\nvar view_default = view_vue_vue_type_script_setup_true_lang_default;\nvar warning_filled_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"WarningFilled\",\n  __name: \"warning-filled\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4\"\n      })\n    ]));\n  }\n});\nvar warning_filled_default = warning_filled_vue_vue_type_script_setup_true_lang_default;\nvar zoom_in_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"ZoomIn\",\n  __name: \"zoom-in\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z\"\n      })\n    ]));\n  }\n});\nvar zoom_in_default = zoom_in_vue_vue_type_script_setup_true_lang_default;\nvar zoom_out_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n  name: \"ZoomOut\",\n  __name: \"zoom-out\",\n  setup(__props) {\n    return (_ctx, _cache) => (openBlock(), createElementBlock(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 1024 1024\"\n    }, [\n      createElementVNode(\"path\", {\n        fill: \"currentColor\",\n        d: \"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64\"\n      })\n    ]));\n  }\n});\nvar zoom_out_default = zoom_out_vue_vue_type_script_setup_true_lang_default;\nconst iconPropType = definePropType([\n  String,\n  Object,\n  Function\n]);\nconst CloseComponents = {\n  Close: close_default\n};\nconst TypeComponents = {\n  Close: close_default,\n  SuccessFilled: success_filled_default,\n  InfoFilled: info_filled_default,\n  WarningFilled: warning_filled_default,\n  CircleCloseFilled: circle_close_filled_default\n};\nconst TypeComponentsMap = {\n  success: success_filled_default,\n  warning: warning_filled_default,\n  error: circle_close_filled_default,\n  info: info_filled_default\n};\nconst ValidateComponentsMap = {\n  validating: loading_default,\n  success: circle_check_default,\n  error: circle_close_default\n};\nconst isFirefox = () => isClient && /firefox/i.test(window.navigator.userAgent);\nlet hiddenTextarea = void 0;\nconst HIDDEN_STYLE = {\n  height: \"0\",\n  visibility: \"hidden\",\n  overflow: isFirefox() ? \"\" : \"hidden\",\n  position: \"absolute\",\n  \"z-index\": \"-1000\",\n  top: \"0\",\n  right: \"0\"\n};\nconst CONTEXT_STYLE = [\n  \"letter-spacing\",\n  \"line-height\",\n  \"padding-top\",\n  \"padding-bottom\",\n  \"font-family\",\n  \"font-weight\",\n  \"font-size\",\n  \"text-rendering\",\n  \"text-transform\",\n  \"width\",\n  \"text-indent\",\n  \"padding-left\",\n  \"padding-right\",\n  \"border-width\",\n  \"box-sizing\"\n];\nfunction calculateNodeStyling(targetElement) {\n  const style = window.getComputedStyle(targetElement);\n  const boxSizing = style.getPropertyValue(\"box-sizing\");\n  const paddingSize = Number.parseFloat(style.getPropertyValue(\"padding-bottom\")) + Number.parseFloat(style.getPropertyValue(\"padding-top\"));\n  const borderSize = Number.parseFloat(style.getPropertyValue(\"border-bottom-width\")) + Number.parseFloat(style.getPropertyValue(\"border-top-width\"));\n  const contextStyle = CONTEXT_STYLE.map((name) => [\n    name,\n    style.getPropertyValue(name)\n  ]);\n  return { contextStyle, paddingSize, borderSize, boxSizing };\n}\nfunction calcTextareaHeight(targetElement, minRows = 1, maxRows) {\n  var _a;\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement(\"textarea\");\n    document.body.appendChild(hiddenTextarea);\n  }\n  const { paddingSize, borderSize, boxSizing, contextStyle } = calculateNodeStyling(targetElement);\n  contextStyle.forEach(([key, value]) => hiddenTextarea == null ? void 0 : hiddenTextarea.style.setProperty(key, value));\n  Object.entries(HIDDEN_STYLE).forEach(([key, value]) => hiddenTextarea == null ? void 0 : hiddenTextarea.style.setProperty(key, value, \"important\"));\n  hiddenTextarea.value = targetElement.value || targetElement.placeholder || \"\";\n  let height = hiddenTextarea.scrollHeight;\n  const result = {};\n  if (boxSizing === \"border-box\") {\n    height = height + borderSize;\n  } else if (boxSizing === \"content-box\") {\n    height = height - paddingSize;\n  }\n  hiddenTextarea.value = \"\";\n  const singleRowHeight = hiddenTextarea.scrollHeight - paddingSize;\n  if (isNumber(minRows)) {\n    let minHeight = singleRowHeight * minRows;\n    if (boxSizing === \"border-box\") {\n      minHeight = minHeight + paddingSize + borderSize;\n    }\n    height = Math.max(minHeight, height);\n    result.minHeight = `${minHeight}px`;\n  }\n  if (isNumber(maxRows)) {\n    let maxHeight = singleRowHeight * maxRows;\n    if (boxSizing === \"border-box\") {\n      maxHeight = maxHeight + paddingSize + borderSize;\n    }\n    height = Math.min(maxHeight, height);\n  }\n  result.height = `${height}px`;\n  (_a = hiddenTextarea.parentNode) == null ? void 0 : _a.removeChild(hiddenTextarea);\n  hiddenTextarea = void 0;\n  return result;\n}\nconst mutable = (val) => val;\nconst ariaProps = buildProps({\n  ariaLabel: String,\n  ariaOrientation: {\n    type: String,\n    values: [\"horizontal\", \"vertical\", \"undefined\"]\n  },\n  ariaControls: String\n});\nconst useAriaProps = (arias) => {\n  return pick(ariaProps, arias);\n};\nconst inputProps = buildProps({\n  id: {\n    type: String,\n    default: void 0\n  },\n  size: useSizeProp,\n  disabled: Boolean,\n  modelValue: {\n    type: definePropType([\n      String,\n      Number,\n      Object\n    ]),\n    default: \"\"\n  },\n  maxlength: {\n    type: [String, Number]\n  },\n  minlength: {\n    type: [String, Number]\n  },\n  type: {\n    type: String,\n    default: \"text\"\n  },\n  resize: {\n    type: String,\n    values: [\"none\", \"both\", \"horizontal\", \"vertical\"]\n  },\n  autosize: {\n    type: definePropType([Boolean, Object]),\n    default: false\n  },\n  autocomplete: {\n    type: String,\n    default: \"off\"\n  },\n  formatter: {\n    type: Function\n  },\n  parser: {\n    type: Function\n  },\n  placeholder: {\n    type: String\n  },\n  form: {\n    type: String\n  },\n  readonly: Boolean,\n  clearable: Boolean,\n  showPassword: Boolean,\n  showWordLimit: Boolean,\n  suffixIcon: {\n    type: iconPropType\n  },\n  prefixIcon: {\n    type: iconPropType\n  },\n  containerRole: {\n    type: String,\n    default: void 0\n  },\n  tabindex: {\n    type: [String, Number],\n    default: 0\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  inputStyle: {\n    type: definePropType([Object, Array, String]),\n    default: () => mutable({})\n  },\n  autofocus: Boolean,\n  rows: {\n    type: Number,\n    default: 2\n  },\n  ...useAriaProps([\"ariaLabel\"])\n});\nconst inputEmits = {\n  [UPDATE_MODEL_EVENT]: (value) => isString(value),\n  input: (value) => isString(value),\n  change: (value) => isString(value),\n  focus: (evt) => evt instanceof FocusEvent,\n  blur: (evt) => evt instanceof FocusEvent,\n  clear: () => true,\n  mouseleave: (evt) => evt instanceof MouseEvent,\n  mouseenter: (evt) => evt instanceof MouseEvent,\n  keydown: (evt) => evt instanceof Event,\n  compositionstart: (evt) => evt instanceof CompositionEvent,\n  compositionupdate: (evt) => evt instanceof CompositionEvent,\n  compositionend: (evt) => evt instanceof CompositionEvent\n};\nconst DEFAULT_EXCLUDE_KEYS = [\"class\", \"style\"];\nconst LISTENER_PREFIX = /^on[A-Z]/;\nconst useAttrs = (params = {}) => {\n  const { excludeListeners = false, excludeKeys } = params;\n  const allExcludeKeys = computed(() => {\n    return ((excludeKeys == null ? void 0 : excludeKeys.value) || []).concat(DEFAULT_EXCLUDE_KEYS);\n  });\n  const instance = getCurrentInstance();\n  if (!instance) {\n    debugWarn(\"use-attrs\", \"getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function\");\n    return computed(() => ({}));\n  }\n  return computed(() => {\n    var _a;\n    return fromPairs(Object.entries((_a = instance.proxy) == null ? void 0 : _a.$attrs).filter(([key]) => !allExcludeKeys.value.includes(key) && !(excludeListeners && LISTENER_PREFIX.test(key))));\n  });\n};\nconst formContextKey = Symbol(\"formContextKey\");\nconst formItemContextKey = Symbol(\"formItemContextKey\");\nconst defaultIdInjection = {\n  prefix: Math.floor(Math.random() * 1e4),\n  current: 0\n};\nconst ID_INJECTION_KEY = Symbol(\"elIdInjection\");\nconst useIdInjection = () => {\n  return getCurrentInstance() ? inject(ID_INJECTION_KEY, defaultIdInjection) : defaultIdInjection;\n};\nconst useId = (deterministicId) => {\n  const idInjection = useIdInjection();\n  if (!isClient && idInjection === defaultIdInjection) {\n    debugWarn(\"IdInjection\", `Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed\nusage: app.provide(ID_INJECTION_KEY, {\n  prefix: number,\n  current: number,\n})`);\n  }\n  const namespace = useGetDerivedNamespace();\n  const idRef = computedEager(() => unref(deterministicId) || `${namespace.value}-id-${idInjection.prefix}-${idInjection.current++}`);\n  return idRef;\n};\nconst useFormItem = () => {\n  const form = inject(formContextKey, void 0);\n  const formItem = inject(formItemContextKey, void 0);\n  return {\n    form,\n    formItem\n  };\n};\nconst useFormItemInputId = (props, {\n  formItemContext,\n  disableIdGeneration,\n  disableIdManagement\n}) => {\n  if (!disableIdGeneration) {\n    disableIdGeneration = ref(false);\n  }\n  if (!disableIdManagement) {\n    disableIdManagement = ref(false);\n  }\n  const inputId = ref();\n  let idUnwatch = void 0;\n  const isLabeledByFormItem = computed(() => {\n    var _a;\n    return !!(!(props.label || props.ariaLabel) && formItemContext && formItemContext.inputIds && ((_a = formItemContext.inputIds) == null ? void 0 : _a.length) <= 1);\n  });\n  onMounted(() => {\n    idUnwatch = watch([toRef(props, \"id\"), disableIdGeneration], ([id, disableIdGeneration2]) => {\n      const newId = id != null ? id : !disableIdGeneration2 ? useId().value : void 0;\n      if (newId !== inputId.value) {\n        if (formItemContext == null ? void 0 : formItemContext.removeInputId) {\n          inputId.value && formItemContext.removeInputId(inputId.value);\n          if (!(disableIdManagement == null ? void 0 : disableIdManagement.value) && !disableIdGeneration2 && newId) {\n            formItemContext.addInputId(newId);\n          }\n        }\n        inputId.value = newId;\n      }\n    }, { immediate: true });\n  });\n  onUnmounted(() => {\n    idUnwatch && idUnwatch();\n    if (formItemContext == null ? void 0 : formItemContext.removeInputId) {\n      inputId.value && formItemContext.removeInputId(inputId.value);\n    }\n  });\n  return {\n    isLabeledByFormItem,\n    inputId\n  };\n};\nconst useProp = (name) => {\n  const vm = getCurrentInstance();\n  return computed(() => {\n    var _a, _b;\n    return (_b = (_a = vm == null ? void 0 : vm.proxy) == null ? void 0 : _a.$props) == null ? void 0 : _b[name];\n  });\n};\nconst useFormSize = (fallback, ignore = {}) => {\n  const emptyRef = ref(void 0);\n  const size = ignore.prop ? emptyRef : useProp(\"size\");\n  const globalConfig2 = ignore.global ? emptyRef : useGlobalSize();\n  const form = ignore.form ? { size: void 0 } : inject(formContextKey, void 0);\n  const formItem = ignore.formItem ? { size: void 0 } : inject(formItemContextKey, void 0);\n  return computed(() => size.value || unref(fallback) || (formItem == null ? void 0 : formItem.size) || (form == null ? void 0 : form.size) || globalConfig2.value || \"\");\n};\nconst useFormDisabled = (fallback) => {\n  const disabled = useProp(\"disabled\");\n  const form = inject(formContextKey, void 0);\n  return computed(() => disabled.value || unref(fallback) || (form == null ? void 0 : form.disabled) || false);\n};\nfunction useFocusController(target, {\n  beforeFocus,\n  afterFocus,\n  beforeBlur,\n  afterBlur\n} = {}) {\n  const instance = getCurrentInstance();\n  const { emit } = instance;\n  const wrapperRef = shallowRef();\n  const disabled = useProp(\"disabled\");\n  const isFocused = ref(false);\n  const handleFocus = (event) => {\n    const cancelFocus = isFunction(beforeFocus) ? beforeFocus(event) : false;\n    if (cancelFocus || isFocused.value)\n      return;\n    isFocused.value = true;\n    emit(\"focus\", event);\n    afterFocus == null ? void 0 : afterFocus();\n  };\n  const handleBlur = (event) => {\n    var _a;\n    const cancelBlur = isFunction(beforeBlur) ? beforeBlur(event) : false;\n    if (cancelBlur || event.relatedTarget && ((_a = wrapperRef.value) == null ? void 0 : _a.contains(event.relatedTarget)))\n      return;\n    isFocused.value = false;\n    emit(\"blur\", event);\n    afterBlur == null ? void 0 : afterBlur();\n  };\n  const handleClick = () => {\n    var _a, _b;\n    if (((_a = wrapperRef.value) == null ? void 0 : _a.contains(document.activeElement)) && wrapperRef.value !== document.activeElement || disabled.value)\n      return;\n    (_b = target.value) == null ? void 0 : _b.focus();\n  };\n  watch([wrapperRef, disabled], ([el, disabled2]) => {\n    if (!el)\n      return;\n    if (disabled2) {\n      el.removeAttribute(\"tabindex\");\n    } else {\n      el.setAttribute(\"tabindex\", \"-1\");\n    }\n  });\n  useEventListener(wrapperRef, \"focus\", handleFocus, true);\n  useEventListener(wrapperRef, \"blur\", handleBlur, true);\n  useEventListener(wrapperRef, \"click\", handleClick, true);\n  if (process.env.NODE_ENV === \"test\") {\n    onMounted(() => {\n      const targetEl = isElement(target.value) ? target.value : document.querySelector(\"input,textarea\");\n      if (targetEl) {\n        useEventListener(targetEl, \"focus\", handleFocus, true);\n        useEventListener(targetEl, \"blur\", handleBlur, true);\n      }\n    });\n  }\n  return {\n    isFocused,\n    wrapperRef,\n    handleFocus,\n    handleBlur\n  };\n}\nconst isKorean = (text) => /([\\uAC00-\\uD7AF\\u3130-\\u318F])+/gi.test(text);\nfunction useComposition({\n  afterComposition,\n  emit\n}) {\n  const isComposing = ref(false);\n  const handleCompositionStart = (event) => {\n    emit == null ? void 0 : emit(\"compositionstart\", event);\n    isComposing.value = true;\n  };\n  const handleCompositionUpdate = (event) => {\n    var _a;\n    emit == null ? void 0 : emit(\"compositionupdate\", event);\n    const text = (_a = event.target) == null ? void 0 : _a.value;\n    const lastCharacter = text[text.length - 1] || \"\";\n    isComposing.value = !isKorean(lastCharacter);\n  };\n  const handleCompositionEnd = (event) => {\n    emit == null ? void 0 : emit(\"compositionend\", event);\n    if (isComposing.value) {\n      isComposing.value = false;\n      nextTick(() => afterComposition(event));\n    }\n  };\n  const handleComposition = (event) => {\n    event.type === \"compositionend\" ? handleCompositionEnd(event) : handleCompositionUpdate(event);\n  };\n  return {\n    isComposing,\n    handleComposition,\n    handleCompositionStart,\n    handleCompositionUpdate,\n    handleCompositionEnd\n  };\n}\nfunction useCursor(input) {\n  let selectionInfo;\n  function recordCursor() {\n    if (input.value == void 0)\n      return;\n    const { selectionStart, selectionEnd, value } = input.value;\n    if (selectionStart == null || selectionEnd == null)\n      return;\n    const beforeTxt = value.slice(0, Math.max(0, selectionStart));\n    const afterTxt = value.slice(Math.max(0, selectionEnd));\n    selectionInfo = {\n      selectionStart,\n      selectionEnd,\n      value,\n      beforeTxt,\n      afterTxt\n    };\n  }\n  function setCursor() {\n    if (input.value == void 0 || selectionInfo == void 0)\n      return;\n    const { value } = input.value;\n    const { beforeTxt, afterTxt, selectionStart } = selectionInfo;\n    if (beforeTxt == void 0 || afterTxt == void 0 || selectionStart == void 0)\n      return;\n    let startPos = value.length;\n    if (value.endsWith(afterTxt)) {\n      startPos = value.length - afterTxt.length;\n    } else if (value.startsWith(beforeTxt)) {\n      startPos = beforeTxt.length;\n    } else {\n      const beforeLastChar = beforeTxt[selectionStart - 1];\n      const newIndex = value.indexOf(beforeLastChar, selectionStart - 1);\n      if (newIndex !== -1) {\n        startPos = newIndex + 1;\n      }\n    }\n    input.value.setSelectionRange(startPos, startPos);\n  }\n  return [recordCursor, setCursor];\n}\nconst COMPONENT_NAME$3 = \"ElInput\";\nconst __default__$q = defineComponent({\n  name: COMPONENT_NAME$3,\n  inheritAttrs: false\n});\nconst _sfc_main$t = /* @__PURE__ */ defineComponent({\n  ...__default__$q,\n  props: inputProps,\n  emits: inputEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const rawAttrs = useAttrs$1();\n    const attrs = useAttrs();\n    const slots = useSlots();\n    const containerKls = computed(() => [\n      props.type === \"textarea\" ? nsTextarea.b() : nsInput.b(),\n      nsInput.m(inputSize.value),\n      nsInput.is(\"disabled\", inputDisabled.value),\n      nsInput.is(\"exceed\", inputExceed.value),\n      {\n        [nsInput.b(\"group\")]: slots.prepend || slots.append,\n        [nsInput.m(\"prefix\")]: slots.prefix || props.prefixIcon,\n        [nsInput.m(\"suffix\")]: slots.suffix || props.suffixIcon || props.clearable || props.showPassword,\n        [nsInput.bm(\"suffix\", \"password-clear\")]: showClear.value && showPwdVisible.value,\n        [nsInput.b(\"hidden\")]: props.type === \"hidden\"\n      },\n      rawAttrs.class\n    ]);\n    const wrapperKls = computed(() => [\n      nsInput.e(\"wrapper\"),\n      nsInput.is(\"focus\", isFocused.value)\n    ]);\n    const { form: elForm, formItem: elFormItem } = useFormItem();\n    const { inputId } = useFormItemInputId(props, {\n      formItemContext: elFormItem\n    });\n    const inputSize = useFormSize();\n    const inputDisabled = useFormDisabled();\n    const nsInput = useNamespace(\"input\");\n    const nsTextarea = useNamespace(\"textarea\");\n    const input = shallowRef();\n    const textarea = shallowRef();\n    const hovering = ref(false);\n    const passwordVisible = ref(false);\n    const countStyle = ref();\n    const textareaCalcStyle = shallowRef(props.inputStyle);\n    const _ref = computed(() => input.value || textarea.value);\n    const { wrapperRef, isFocused, handleFocus, handleBlur } = useFocusController(_ref, {\n      beforeFocus() {\n        return inputDisabled.value;\n      },\n      afterBlur() {\n        var _a;\n        if (props.validateEvent) {\n          (_a = elFormItem == null ? void 0 : elFormItem.validate) == null ? void 0 : _a.call(elFormItem, \"blur\").catch((err) => debugWarn(err));\n        }\n      }\n    });\n    const needStatusIcon = computed(() => {\n      var _a;\n      return (_a = elForm == null ? void 0 : elForm.statusIcon) != null ? _a : false;\n    });\n    const validateState = computed(() => (elFormItem == null ? void 0 : elFormItem.validateState) || \"\");\n    const validateIcon = computed(() => validateState.value && ValidateComponentsMap[validateState.value]);\n    const passwordIcon = computed(() => passwordVisible.value ? view_default : hide_default);\n    const containerStyle = computed(() => [\n      rawAttrs.style\n    ]);\n    const textareaStyle = computed(() => [\n      props.inputStyle,\n      textareaCalcStyle.value,\n      { resize: props.resize }\n    ]);\n    const nativeInputValue = computed(() => isNil(props.modelValue) ? \"\" : String(props.modelValue));\n    const showClear = computed(() => props.clearable && !inputDisabled.value && !props.readonly && !!nativeInputValue.value && (isFocused.value || hovering.value));\n    const showPwdVisible = computed(() => props.showPassword && !inputDisabled.value && !!nativeInputValue.value && (!!nativeInputValue.value || isFocused.value));\n    const isWordLimitVisible = computed(() => props.showWordLimit && !!props.maxlength && (props.type === \"text\" || props.type === \"textarea\") && !inputDisabled.value && !props.readonly && !props.showPassword);\n    const textLength = computed(() => nativeInputValue.value.length);\n    const inputExceed = computed(() => !!isWordLimitVisible.value && textLength.value > Number(props.maxlength));\n    const suffixVisible = computed(() => !!slots.suffix || !!props.suffixIcon || showClear.value || props.showPassword || isWordLimitVisible.value || !!validateState.value && needStatusIcon.value);\n    const [recordCursor, setCursor] = useCursor(input);\n    useResizeObserver(textarea, (entries) => {\n      onceInitSizeTextarea();\n      if (!isWordLimitVisible.value || props.resize !== \"both\")\n        return;\n      const entry = entries[0];\n      const { width } = entry.contentRect;\n      countStyle.value = {\n        right: `calc(100% - ${width + 15 + 6}px)`\n      };\n    });\n    const resizeTextarea = () => {\n      const { type, autosize } = props;\n      if (!isClient || type !== \"textarea\" || !textarea.value)\n        return;\n      if (autosize) {\n        const minRows = isObject(autosize) ? autosize.minRows : void 0;\n        const maxRows = isObject(autosize) ? autosize.maxRows : void 0;\n        const textareaStyle2 = calcTextareaHeight(textarea.value, minRows, maxRows);\n        textareaCalcStyle.value = {\n          overflowY: \"hidden\",\n          ...textareaStyle2\n        };\n        nextTick(() => {\n          textarea.value.offsetHeight;\n          textareaCalcStyle.value = textareaStyle2;\n        });\n      } else {\n        textareaCalcStyle.value = {\n          minHeight: calcTextareaHeight(textarea.value).minHeight\n        };\n      }\n    };\n    const createOnceInitResize = (resizeTextarea2) => {\n      let isInit = false;\n      return () => {\n        var _a;\n        if (isInit || !props.autosize)\n          return;\n        const isElHidden = ((_a = textarea.value) == null ? void 0 : _a.offsetParent) === null;\n        if (!isElHidden) {\n          resizeTextarea2();\n          isInit = true;\n        }\n      };\n    };\n    const onceInitSizeTextarea = createOnceInitResize(resizeTextarea);\n    const setNativeInputValue = () => {\n      const input2 = _ref.value;\n      const formatterValue = props.formatter ? props.formatter(nativeInputValue.value) : nativeInputValue.value;\n      if (!input2 || input2.value === formatterValue)\n        return;\n      input2.value = formatterValue;\n    };\n    const handleInput = async (event) => {\n      recordCursor();\n      let { value } = event.target;\n      if (props.formatter && props.parser) {\n        value = props.parser(value);\n      }\n      if (isComposing.value)\n        return;\n      if (value === nativeInputValue.value) {\n        setNativeInputValue();\n        return;\n      }\n      emit(UPDATE_MODEL_EVENT, value);\n      emit(INPUT_EVENT, value);\n      await nextTick();\n      setNativeInputValue();\n      setCursor();\n    };\n    const handleChange = (event) => {\n      let { value } = event.target;\n      if (props.formatter && props.parser) {\n        value = props.parser(value);\n      }\n      emit(CHANGE_EVENT, value);\n    };\n    const {\n      isComposing,\n      handleCompositionStart,\n      handleCompositionUpdate,\n      handleCompositionEnd\n    } = useComposition({ emit, afterComposition: handleInput });\n    const handlePasswordVisible = () => {\n      recordCursor();\n      passwordVisible.value = !passwordVisible.value;\n      setTimeout(setCursor);\n    };\n    const focus = () => {\n      var _a;\n      return (_a = _ref.value) == null ? void 0 : _a.focus();\n    };\n    const blur = () => {\n      var _a;\n      return (_a = _ref.value) == null ? void 0 : _a.blur();\n    };\n    const handleMouseLeave = (evt) => {\n      hovering.value = false;\n      emit(\"mouseleave\", evt);\n    };\n    const handleMouseEnter = (evt) => {\n      hovering.value = true;\n      emit(\"mouseenter\", evt);\n    };\n    const handleKeydown = (evt) => {\n      emit(\"keydown\", evt);\n    };\n    const select = () => {\n      var _a;\n      (_a = _ref.value) == null ? void 0 : _a.select();\n    };\n    const clear = () => {\n      emit(UPDATE_MODEL_EVENT, \"\");\n      emit(CHANGE_EVENT, \"\");\n      emit(\"clear\");\n      emit(INPUT_EVENT, \"\");\n    };\n    watch(() => props.modelValue, () => {\n      var _a;\n      nextTick(() => resizeTextarea());\n      if (props.validateEvent) {\n        (_a = elFormItem == null ? void 0 : elFormItem.validate) == null ? void 0 : _a.call(elFormItem, \"change\").catch((err) => debugWarn(err));\n      }\n    });\n    watch(nativeInputValue, () => setNativeInputValue());\n    watch(() => props.type, async () => {\n      await nextTick();\n      setNativeInputValue();\n      resizeTextarea();\n    });\n    onMounted(() => {\n      if (!props.formatter && props.parser) {\n        debugWarn(COMPONENT_NAME$3, \"If you set the parser, you also need to set the formatter.\");\n      }\n      setNativeInputValue();\n      nextTick(resizeTextarea);\n    });\n    expose({\n      input,\n      textarea,\n      ref: _ref,\n      textareaStyle,\n      autosize: toRef(props, \"autosize\"),\n      isComposing,\n      focus,\n      blur,\n      select,\n      clear,\n      resizeTextarea\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\n          unref(containerKls),\n          {\n            [unref(nsInput).bm(\"group\", \"append\")]: _ctx.$slots.append,\n            [unref(nsInput).bm(\"group\", \"prepend\")]: _ctx.$slots.prepend\n          }\n        ]),\n        style: normalizeStyle(unref(containerStyle)),\n        onMouseenter: handleMouseEnter,\n        onMouseleave: handleMouseLeave\n      }, [\n        createCommentVNode(\" input \"),\n        _ctx.type !== \"textarea\" ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          createCommentVNode(\" prepend slot \"),\n          _ctx.$slots.prepend ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: normalizeClass(unref(nsInput).be(\"group\", \"prepend\"))\n          }, [\n            renderSlot(_ctx.$slots, \"prepend\")\n          ], 2)) : createCommentVNode(\"v-if\", true),\n          createElementVNode(\"div\", {\n            ref_key: \"wrapperRef\",\n            ref: wrapperRef,\n            class: normalizeClass(unref(wrapperKls))\n          }, [\n            createCommentVNode(\" prefix slot \"),\n            _ctx.$slots.prefix || _ctx.prefixIcon ? (openBlock(), createElementBlock(\"span\", {\n              key: 0,\n              class: normalizeClass(unref(nsInput).e(\"prefix\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(nsInput).e(\"prefix-inner\"))\n              }, [\n                renderSlot(_ctx.$slots, \"prefix\"),\n                _ctx.prefixIcon ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 0,\n                  class: normalizeClass(unref(nsInput).e(\"icon\"))\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(_ctx.prefixIcon)))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n              ], 2)\n            ], 2)) : createCommentVNode(\"v-if\", true),\n            createElementVNode(\"input\", mergeProps({\n              id: unref(inputId),\n              ref_key: \"input\",\n              ref: input,\n              class: unref(nsInput).e(\"inner\")\n            }, unref(attrs), {\n              minlength: _ctx.minlength,\n              maxlength: _ctx.maxlength,\n              type: _ctx.showPassword ? passwordVisible.value ? \"text\" : \"password\" : _ctx.type,\n              disabled: unref(inputDisabled),\n              readonly: _ctx.readonly,\n              autocomplete: _ctx.autocomplete,\n              tabindex: _ctx.tabindex,\n              \"aria-label\": _ctx.ariaLabel,\n              placeholder: _ctx.placeholder,\n              style: _ctx.inputStyle,\n              form: _ctx.form,\n              autofocus: _ctx.autofocus,\n              role: _ctx.containerRole,\n              onCompositionstart: unref(handleCompositionStart),\n              onCompositionupdate: unref(handleCompositionUpdate),\n              onCompositionend: unref(handleCompositionEnd),\n              onInput: handleInput,\n              onChange: handleChange,\n              onKeydown: handleKeydown\n            }), null, 16, [\"id\", \"minlength\", \"maxlength\", \"type\", \"disabled\", \"readonly\", \"autocomplete\", \"tabindex\", \"aria-label\", \"placeholder\", \"form\", \"autofocus\", \"role\", \"onCompositionstart\", \"onCompositionupdate\", \"onCompositionend\"]),\n            createCommentVNode(\" suffix slot \"),\n            unref(suffixVisible) ? (openBlock(), createElementBlock(\"span\", {\n              key: 1,\n              class: normalizeClass(unref(nsInput).e(\"suffix\"))\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(nsInput).e(\"suffix-inner\"))\n              }, [\n                !unref(showClear) || !unref(showPwdVisible) || !unref(isWordLimitVisible) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                  renderSlot(_ctx.$slots, \"suffix\"),\n                  _ctx.suffixIcon ? (openBlock(), createBlock(unref(ElIcon), {\n                    key: 0,\n                    class: normalizeClass(unref(nsInput).e(\"icon\"))\n                  }, {\n                    default: withCtx(() => [\n                      (openBlock(), createBlock(resolveDynamicComponent(_ctx.suffixIcon)))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n                ], 64)) : createCommentVNode(\"v-if\", true),\n                unref(showClear) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 1,\n                  class: normalizeClass([unref(nsInput).e(\"icon\"), unref(nsInput).e(\"clear\")]),\n                  onMousedown: withModifiers(unref(NOOP), [\"prevent\"]),\n                  onClick: clear\n                }, {\n                  default: withCtx(() => [\n                    createVNode(unref(circle_close_default))\n                  ]),\n                  _: 1\n                }, 8, [\"class\", \"onMousedown\"])) : createCommentVNode(\"v-if\", true),\n                unref(showPwdVisible) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 2,\n                  class: normalizeClass([unref(nsInput).e(\"icon\"), unref(nsInput).e(\"password\")]),\n                  onClick: handlePasswordVisible\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(passwordIcon))))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n                unref(isWordLimitVisible) ? (openBlock(), createElementBlock(\"span\", {\n                  key: 3,\n                  class: normalizeClass(unref(nsInput).e(\"count\"))\n                }, [\n                  createElementVNode(\"span\", {\n                    class: normalizeClass(unref(nsInput).e(\"count-inner\"))\n                  }, toDisplayString(unref(textLength)) + \" / \" + toDisplayString(_ctx.maxlength), 3)\n                ], 2)) : createCommentVNode(\"v-if\", true),\n                unref(validateState) && unref(validateIcon) && unref(needStatusIcon) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 4,\n                  class: normalizeClass([\n                    unref(nsInput).e(\"icon\"),\n                    unref(nsInput).e(\"validateIcon\"),\n                    unref(nsInput).is(\"loading\", unref(validateState) === \"validating\")\n                  ])\n                }, {\n                  default: withCtx(() => [\n                    (openBlock(), createBlock(resolveDynamicComponent(unref(validateIcon))))\n                  ]),\n                  _: 1\n                }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n              ], 2)\n            ], 2)) : createCommentVNode(\"v-if\", true)\n          ], 2),\n          createCommentVNode(\" append slot \"),\n          _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", {\n            key: 1,\n            class: normalizeClass(unref(nsInput).be(\"group\", \"append\"))\n          }, [\n            renderSlot(_ctx.$slots, \"append\")\n          ], 2)) : createCommentVNode(\"v-if\", true)\n        ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n          createCommentVNode(\" textarea \"),\n          createElementVNode(\"textarea\", mergeProps({\n            id: unref(inputId),\n            ref_key: \"textarea\",\n            ref: textarea,\n            class: [unref(nsTextarea).e(\"inner\"), unref(nsInput).is(\"focus\", unref(isFocused))]\n          }, unref(attrs), {\n            minlength: _ctx.minlength,\n            maxlength: _ctx.maxlength,\n            tabindex: _ctx.tabindex,\n            disabled: unref(inputDisabled),\n            readonly: _ctx.readonly,\n            autocomplete: _ctx.autocomplete,\n            style: unref(textareaStyle),\n            \"aria-label\": _ctx.ariaLabel,\n            placeholder: _ctx.placeholder,\n            form: _ctx.form,\n            autofocus: _ctx.autofocus,\n            rows: _ctx.rows,\n            role: _ctx.containerRole,\n            onCompositionstart: unref(handleCompositionStart),\n            onCompositionupdate: unref(handleCompositionUpdate),\n            onCompositionend: unref(handleCompositionEnd),\n            onInput: handleInput,\n            onFocus: unref(handleFocus),\n            onBlur: unref(handleBlur),\n            onChange: handleChange,\n            onKeydown: handleKeydown\n          }), null, 16, [\"id\", \"minlength\", \"maxlength\", \"tabindex\", \"disabled\", \"readonly\", \"autocomplete\", \"aria-label\", \"placeholder\", \"form\", \"autofocus\", \"rows\", \"role\", \"onCompositionstart\", \"onCompositionupdate\", \"onCompositionend\", \"onFocus\", \"onBlur\"]),\n          unref(isWordLimitVisible) ? (openBlock(), createElementBlock(\"span\", {\n            key: 0,\n            style: normalizeStyle(countStyle.value),\n            class: normalizeClass(unref(nsInput).e(\"count\"))\n          }, toDisplayString(unref(textLength)) + \" / \" + toDisplayString(_ctx.maxlength), 7)) : createCommentVNode(\"v-if\", true)\n        ], 64))\n      ], 38);\n    };\n  }\n});\nvar Input = /* @__PURE__ */ _export_sfc(_sfc_main$t, [[\"__file\", \"input.vue\"]]);\nconst ElInput = withInstall(Input);\nconst POPPER_INJECTION_KEY = Symbol(\"popper\");\nconst POPPER_CONTENT_INJECTION_KEY = Symbol(\"popperContent\");\nconst roleTypes = [\n  \"dialog\",\n  \"grid\",\n  \"group\",\n  \"listbox\",\n  \"menu\",\n  \"navigation\",\n  \"tooltip\",\n  \"tree\"\n];\nconst popperProps = buildProps({\n  role: {\n    type: String,\n    values: roleTypes,\n    default: \"tooltip\"\n  }\n});\nconst __default__$p = defineComponent({\n  name: \"ElPopper\",\n  inheritAttrs: false\n});\nconst _sfc_main$s = /* @__PURE__ */ defineComponent({\n  ...__default__$p,\n  props: popperProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const triggerRef = ref();\n    const popperInstanceRef = ref();\n    const contentRef = ref();\n    const referenceRef = ref();\n    const role = computed(() => props.role);\n    const popperProvides = {\n      triggerRef,\n      popperInstanceRef,\n      contentRef,\n      referenceRef,\n      role\n    };\n    expose(popperProvides);\n    provide(POPPER_INJECTION_KEY, popperProvides);\n    return (_ctx, _cache) => {\n      return renderSlot(_ctx.$slots, \"default\");\n    };\n  }\n});\nvar Popper = /* @__PURE__ */ _export_sfc(_sfc_main$s, [[\"__file\", \"popper.vue\"]]);\nconst __default__$o = defineComponent({\n  name: \"ElPopperArrow\",\n  inheritAttrs: false\n});\nconst _sfc_main$r = /* @__PURE__ */ defineComponent({\n  ...__default__$o,\n  setup(__props, { expose }) {\n    const ns = useNamespace(\"popper\");\n    const { arrowRef, arrowStyle } = inject(POPPER_CONTENT_INJECTION_KEY, void 0);\n    onBeforeUnmount(() => {\n      arrowRef.value = void 0;\n    });\n    expose({\n      arrowRef\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"span\", {\n        ref_key: \"arrowRef\",\n        ref: arrowRef,\n        class: normalizeClass(unref(ns).e(\"arrow\")),\n        style: normalizeStyle(unref(arrowStyle)),\n        \"data-popper-arrow\": \"\"\n      }, null, 6);\n    };\n  }\n});\nvar ElPopperArrow = /* @__PURE__ */ _export_sfc(_sfc_main$r, [[\"__file\", \"arrow.vue\"]]);\nconst popperTriggerProps = buildProps({\n  virtualRef: {\n    type: definePropType(Object)\n  },\n  virtualTriggering: Boolean,\n  onMouseenter: {\n    type: definePropType(Function)\n  },\n  onMouseleave: {\n    type: definePropType(Function)\n  },\n  onClick: {\n    type: definePropType(Function)\n  },\n  onKeydown: {\n    type: definePropType(Function)\n  },\n  onFocus: {\n    type: definePropType(Function)\n  },\n  onBlur: {\n    type: definePropType(Function)\n  },\n  onContextmenu: {\n    type: definePropType(Function)\n  },\n  id: String,\n  open: Boolean\n});\nconst FORWARD_REF_INJECTION_KEY = Symbol(\"elForwardRef\");\nconst useForwardRef = (forwardRef) => {\n  const setForwardRef = (el) => {\n    forwardRef.value = el;\n  };\n  provide(FORWARD_REF_INJECTION_KEY, {\n    setForwardRef\n  });\n};\nconst useForwardRefDirective = (setForwardRef) => {\n  return {\n    mounted(el) {\n      setForwardRef(el);\n    },\n    updated(el) {\n      setForwardRef(el);\n    },\n    unmounted() {\n      setForwardRef(null);\n    }\n  };\n};\nconst FOCUSABLE_ELEMENT_SELECTORS = `a[href],button:not([disabled]),button:not([hidden]),:not([tabindex=\"-1\"]),input:not([disabled]),input:not([type=\"hidden\"]),select:not([disabled]),textarea:not([disabled])`;\nconst isVisible = (element) => {\n  if (process.env.NODE_ENV === \"test\")\n    return true;\n  const computed2 = getComputedStyle(element);\n  return computed2.position === \"fixed\" ? false : element.offsetParent !== null;\n};\nconst obtainAllFocusableElements$1 = (element) => {\n  return Array.from(element.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter((item) => isFocusable(item) && isVisible(item));\n};\nconst isFocusable = (element) => {\n  if (element.tabIndex > 0 || element.tabIndex === 0 && element.getAttribute(\"tabIndex\") !== null) {\n    return true;\n  }\n  if (element.tabIndex < 0 || element.hasAttribute(\"disabled\") || element.getAttribute(\"aria-disabled\") === \"true\") {\n    return false;\n  }\n  switch (element.nodeName) {\n    case \"A\": {\n      return !!element.href && element.rel !== \"ignore\";\n    }\n    case \"INPUT\": {\n      return !(element.type === \"hidden\" || element.type === \"file\");\n    }\n    case \"BUTTON\":\n    case \"SELECT\":\n    case \"TEXTAREA\": {\n      return true;\n    }\n    default: {\n      return false;\n    }\n  }\n};\nconst NAME = \"ElOnlyChild\";\nconst OnlyChild = defineComponent({\n  name: NAME,\n  setup(_, {\n    slots,\n    attrs\n  }) {\n    var _a;\n    const forwardRefInjection = inject(FORWARD_REF_INJECTION_KEY);\n    const forwardRefDirective = useForwardRefDirective((_a = forwardRefInjection == null ? void 0 : forwardRefInjection.setForwardRef) != null ? _a : NOOP);\n    return () => {\n      var _a2;\n      const defaultSlot = (_a2 = slots.default) == null ? void 0 : _a2.call(slots, attrs);\n      if (!defaultSlot)\n        return null;\n      if (defaultSlot.length > 1) {\n        debugWarn(NAME, \"requires exact only one valid child.\");\n        return null;\n      }\n      const firstLegitNode = findFirstLegitChild(defaultSlot);\n      if (!firstLegitNode) {\n        debugWarn(NAME, \"no valid child node found\");\n        return null;\n      }\n      return withDirectives(cloneVNode(firstLegitNode, attrs), [[forwardRefDirective]]);\n    };\n  }\n});\nfunction findFirstLegitChild(node) {\n  if (!node)\n    return null;\n  const children = node;\n  for (const child of children) {\n    if (isObject(child)) {\n      switch (child.type) {\n        case Comment:\n          continue;\n        case Text:\n        case \"svg\":\n          return wrapTextContent(child);\n        case Fragment:\n          return findFirstLegitChild(child.children);\n        default:\n          return child;\n      }\n    }\n    return wrapTextContent(child);\n  }\n  return null;\n}\nfunction wrapTextContent(s) {\n  const ns = useNamespace(\"only-child\");\n  return createVNode(\"span\", {\n    \"class\": ns.e(\"content\")\n  }, [s]);\n}\nconst __default__$n = defineComponent({\n  name: \"ElPopperTrigger\",\n  inheritAttrs: false\n});\nconst _sfc_main$q = /* @__PURE__ */ defineComponent({\n  ...__default__$n,\n  props: popperTriggerProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const { role, triggerRef } = inject(POPPER_INJECTION_KEY, void 0);\n    useForwardRef(triggerRef);\n    const ariaControls = computed(() => {\n      return ariaHaspopup.value ? props.id : void 0;\n    });\n    const ariaDescribedby = computed(() => {\n      if (role && role.value === \"tooltip\") {\n        return props.open && props.id ? props.id : void 0;\n      }\n      return void 0;\n    });\n    const ariaHaspopup = computed(() => {\n      if (role && role.value !== \"tooltip\") {\n        return role.value;\n      }\n      return void 0;\n    });\n    const ariaExpanded = computed(() => {\n      return ariaHaspopup.value ? `${props.open}` : void 0;\n    });\n    let virtualTriggerAriaStopWatch = void 0;\n    const TRIGGER_ELE_EVENTS = [\n      \"onMouseenter\",\n      \"onMouseleave\",\n      \"onClick\",\n      \"onKeydown\",\n      \"onFocus\",\n      \"onBlur\",\n      \"onContextmenu\"\n    ];\n    onMounted(() => {\n      watch(() => props.virtualRef, (virtualEl) => {\n        if (virtualEl) {\n          triggerRef.value = unrefElement(virtualEl);\n        }\n      }, {\n        immediate: true\n      });\n      watch(triggerRef, (el, prevEl) => {\n        virtualTriggerAriaStopWatch == null ? void 0 : virtualTriggerAriaStopWatch();\n        virtualTriggerAriaStopWatch = void 0;\n        if (isElement(el)) {\n          TRIGGER_ELE_EVENTS.forEach((eventName) => {\n            var _a;\n            const handler = props[eventName];\n            if (handler) {\n              el.addEventListener(eventName.slice(2).toLowerCase(), handler);\n              (_a = prevEl == null ? void 0 : prevEl.removeEventListener) == null ? void 0 : _a.call(prevEl, eventName.slice(2).toLowerCase(), handler);\n            }\n          });\n          if (isFocusable(el)) {\n            virtualTriggerAriaStopWatch = watch([ariaControls, ariaDescribedby, ariaHaspopup, ariaExpanded], (watches) => {\n              [\n                \"aria-controls\",\n                \"aria-describedby\",\n                \"aria-haspopup\",\n                \"aria-expanded\"\n              ].forEach((key, idx) => {\n                isNil(watches[idx]) ? el.removeAttribute(key) : el.setAttribute(key, watches[idx]);\n              });\n            }, { immediate: true });\n          }\n        }\n        if (isElement(prevEl) && isFocusable(prevEl)) {\n          [\n            \"aria-controls\",\n            \"aria-describedby\",\n            \"aria-haspopup\",\n            \"aria-expanded\"\n          ].forEach((key) => prevEl.removeAttribute(key));\n        }\n      }, {\n        immediate: true\n      });\n    });\n    onBeforeUnmount(() => {\n      virtualTriggerAriaStopWatch == null ? void 0 : virtualTriggerAriaStopWatch();\n      virtualTriggerAriaStopWatch = void 0;\n      if (triggerRef.value && isElement(triggerRef.value)) {\n        const el = triggerRef.value;\n        TRIGGER_ELE_EVENTS.forEach((eventName) => {\n          const handler = props[eventName];\n          if (handler) {\n            el.removeEventListener(eventName.slice(2).toLowerCase(), handler);\n          }\n        });\n        triggerRef.value = void 0;\n      }\n    });\n    expose({\n      triggerRef\n    });\n    return (_ctx, _cache) => {\n      return !_ctx.virtualTriggering ? (openBlock(), createBlock(unref(OnlyChild), mergeProps({ key: 0 }, _ctx.$attrs, {\n        \"aria-controls\": unref(ariaControls),\n        \"aria-describedby\": unref(ariaDescribedby),\n        \"aria-expanded\": unref(ariaExpanded),\n        \"aria-haspopup\": unref(ariaHaspopup)\n      }), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16, [\"aria-controls\", \"aria-describedby\", \"aria-expanded\", \"aria-haspopup\"])) : createCommentVNode(\"v-if\", true);\n    };\n  }\n});\nvar ElPopperTrigger = /* @__PURE__ */ _export_sfc(_sfc_main$q, [[\"__file\", \"trigger.vue\"]]);\nconst FOCUS_AFTER_TRAPPED = \"focus-trap.focus-after-trapped\";\nconst FOCUS_AFTER_RELEASED = \"focus-trap.focus-after-released\";\nconst FOCUSOUT_PREVENTED = \"focus-trap.focusout-prevented\";\nconst FOCUS_AFTER_TRAPPED_OPTS = {\n  cancelable: true,\n  bubbles: false\n};\nconst FOCUSOUT_PREVENTED_OPTS = {\n  cancelable: true,\n  bubbles: false\n};\nconst ON_TRAP_FOCUS_EVT = \"focusAfterTrapped\";\nconst ON_RELEASE_FOCUS_EVT = \"focusAfterReleased\";\nconst FOCUS_TRAP_INJECTION_KEY = Symbol(\"elFocusTrap\");\nconst focusReason = ref();\nconst lastUserFocusTimestamp = ref(0);\nconst lastAutomatedFocusTimestamp = ref(0);\nlet focusReasonUserCount = 0;\nconst obtainAllFocusableElements = (element) => {\n  const nodes = [];\n  const walker = document.createTreeWalker(element, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node) => {\n      const isHiddenInput = node.tagName === \"INPUT\" && node.type === \"hidden\";\n      if (node.disabled || node.hidden || isHiddenInput)\n        return NodeFilter.FILTER_SKIP;\n      return node.tabIndex >= 0 || node === document.activeElement ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    }\n  });\n  while (walker.nextNode())\n    nodes.push(walker.currentNode);\n  return nodes;\n};\nconst getVisibleElement = (elements, container) => {\n  for (const element of elements) {\n    if (!isHidden(element, container))\n      return element;\n  }\n};\nconst isHidden = (element, container) => {\n  if (process.env.NODE_ENV === \"test\")\n    return false;\n  if (getComputedStyle(element).visibility === \"hidden\")\n    return true;\n  while (element) {\n    if (container && element === container)\n      return false;\n    if (getComputedStyle(element).display === \"none\")\n      return true;\n    element = element.parentElement;\n  }\n  return false;\n};\nconst getEdges = (container) => {\n  const focusable = obtainAllFocusableElements(container);\n  const first = getVisibleElement(focusable, container);\n  const last = getVisibleElement(focusable.reverse(), container);\n  return [first, last];\n};\nconst isSelectable = (element) => {\n  return element instanceof HTMLInputElement && \"select\" in element;\n};\nconst tryFocus = (element, shouldSelect) => {\n  if (element && element.focus) {\n    const prevFocusedElement = document.activeElement;\n    let cleanup = false;\n    if (isElement(element) && !isFocusable(element) && !element.getAttribute(\"tabindex\")) {\n      element.setAttribute(\"tabindex\", \"-1\");\n      cleanup = true;\n    }\n    element.focus({ preventScroll: true });\n    lastAutomatedFocusTimestamp.value = window.performance.now();\n    if (element !== prevFocusedElement && isSelectable(element) && shouldSelect) {\n      element.select();\n    }\n    if (isElement(element) && cleanup) {\n      element.removeAttribute(\"tabindex\");\n    }\n  }\n};\nfunction removeFromStack(list, item) {\n  const copy = [...list];\n  const idx = list.indexOf(item);\n  if (idx !== -1) {\n    copy.splice(idx, 1);\n  }\n  return copy;\n}\nconst createFocusableStack = () => {\n  let stack = [];\n  const push = (layer) => {\n    const currentLayer = stack[0];\n    if (currentLayer && layer !== currentLayer) {\n      currentLayer.pause();\n    }\n    stack = removeFromStack(stack, layer);\n    stack.unshift(layer);\n  };\n  const remove = (layer) => {\n    var _a, _b;\n    stack = removeFromStack(stack, layer);\n    (_b = (_a = stack[0]) == null ? void 0 : _a.resume) == null ? void 0 : _b.call(_a);\n  };\n  return {\n    push,\n    remove\n  };\n};\nconst focusFirstDescendant = (elements, shouldSelect = false) => {\n  const prevFocusedElement = document.activeElement;\n  for (const element of elements) {\n    tryFocus(element, shouldSelect);\n    if (document.activeElement !== prevFocusedElement)\n      return;\n  }\n};\nconst focusableStack = createFocusableStack();\nconst isFocusCausedByUserEvent = () => {\n  return lastUserFocusTimestamp.value > lastAutomatedFocusTimestamp.value;\n};\nconst notifyFocusReasonPointer = () => {\n  focusReason.value = \"pointer\";\n  lastUserFocusTimestamp.value = window.performance.now();\n};\nconst notifyFocusReasonKeydown = () => {\n  focusReason.value = \"keyboard\";\n  lastUserFocusTimestamp.value = window.performance.now();\n};\nconst useFocusReason = () => {\n  onMounted(() => {\n    if (focusReasonUserCount === 0) {\n      document.addEventListener(\"mousedown\", notifyFocusReasonPointer);\n      document.addEventListener(\"touchstart\", notifyFocusReasonPointer);\n      document.addEventListener(\"keydown\", notifyFocusReasonKeydown);\n    }\n    focusReasonUserCount++;\n  });\n  onBeforeUnmount(() => {\n    focusReasonUserCount--;\n    if (focusReasonUserCount <= 0) {\n      document.removeEventListener(\"mousedown\", notifyFocusReasonPointer);\n      document.removeEventListener(\"touchstart\", notifyFocusReasonPointer);\n      document.removeEventListener(\"keydown\", notifyFocusReasonKeydown);\n    }\n  });\n  return {\n    focusReason,\n    lastUserFocusTimestamp,\n    lastAutomatedFocusTimestamp\n  };\n};\nconst createFocusOutPreventedEvent = (detail) => {\n  return new CustomEvent(FOCUSOUT_PREVENTED, {\n    ...FOCUSOUT_PREVENTED_OPTS,\n    detail\n  });\n};\nconst EVENT_CODE = {\n  tab: \"Tab\",\n  enter: \"Enter\",\n  space: \"Space\",\n  left: \"ArrowLeft\",\n  up: \"ArrowUp\",\n  right: \"ArrowRight\",\n  down: \"ArrowDown\",\n  esc: \"Escape\",\n  numpadEnter: \"NumpadEnter\"\n};\nlet registeredEscapeHandlers = [];\nconst cachedHandler = (event) => {\n  if (event.code === EVENT_CODE.esc) {\n    registeredEscapeHandlers.forEach((registeredHandler) => registeredHandler(event));\n  }\n};\nconst useEscapeKeydown = (handler) => {\n  onMounted(() => {\n    if (registeredEscapeHandlers.length === 0) {\n      document.addEventListener(\"keydown\", cachedHandler);\n    }\n    if (isClient)\n      registeredEscapeHandlers.push(handler);\n  });\n  onBeforeUnmount(() => {\n    registeredEscapeHandlers = registeredEscapeHandlers.filter((registeredHandler) => registeredHandler !== handler);\n    if (registeredEscapeHandlers.length === 0) {\n      if (isClient)\n        document.removeEventListener(\"keydown\", cachedHandler);\n    }\n  });\n};\nconst _sfc_main$p = defineComponent({\n  name: \"ElFocusTrap\",\n  inheritAttrs: false,\n  props: {\n    loop: Boolean,\n    trapped: Boolean,\n    focusTrapEl: Object,\n    focusStartEl: {\n      type: [Object, String],\n      default: \"first\"\n    }\n  },\n  emits: [\n    ON_TRAP_FOCUS_EVT,\n    ON_RELEASE_FOCUS_EVT,\n    \"focusin\",\n    \"focusout\",\n    \"focusout-prevented\",\n    \"release-requested\"\n  ],\n  setup(props, { emit }) {\n    const forwardRef = ref();\n    let lastFocusBeforeTrapped;\n    let lastFocusAfterTrapped;\n    const { focusReason: focusReason2 } = useFocusReason();\n    useEscapeKeydown((event) => {\n      if (props.trapped && !focusLayer.paused) {\n        emit(\"release-requested\", event);\n      }\n    });\n    const focusLayer = {\n      paused: false,\n      pause() {\n        this.paused = true;\n      },\n      resume() {\n        this.paused = false;\n      }\n    };\n    const onKeydown = (e) => {\n      if (!props.loop && !props.trapped)\n        return;\n      if (focusLayer.paused)\n        return;\n      const { code, altKey, ctrlKey, metaKey, currentTarget, shiftKey } = e;\n      const { loop } = props;\n      const isTabbing = code === EVENT_CODE.tab && !altKey && !ctrlKey && !metaKey;\n      const currentFocusingEl = document.activeElement;\n      if (isTabbing && currentFocusingEl) {\n        const container = currentTarget;\n        const [first, last] = getEdges(container);\n        const isTabbable = first && last;\n        if (!isTabbable) {\n          if (currentFocusingEl === container) {\n            const focusoutPreventedEvent = createFocusOutPreventedEvent({\n              focusReason: focusReason2.value\n            });\n            emit(\"focusout-prevented\", focusoutPreventedEvent);\n            if (!focusoutPreventedEvent.defaultPrevented) {\n              e.preventDefault();\n            }\n          }\n        } else {\n          if (!shiftKey && currentFocusingEl === last) {\n            const focusoutPreventedEvent = createFocusOutPreventedEvent({\n              focusReason: focusReason2.value\n            });\n            emit(\"focusout-prevented\", focusoutPreventedEvent);\n            if (!focusoutPreventedEvent.defaultPrevented) {\n              e.preventDefault();\n              if (loop)\n                tryFocus(first, true);\n            }\n          } else if (shiftKey && [first, container].includes(currentFocusingEl)) {\n            const focusoutPreventedEvent = createFocusOutPreventedEvent({\n              focusReason: focusReason2.value\n            });\n            emit(\"focusout-prevented\", focusoutPreventedEvent);\n            if (!focusoutPreventedEvent.defaultPrevented) {\n              e.preventDefault();\n              if (loop)\n                tryFocus(last, true);\n            }\n          }\n        }\n      }\n    };\n    provide(FOCUS_TRAP_INJECTION_KEY, {\n      focusTrapRef: forwardRef,\n      onKeydown\n    });\n    watch(() => props.focusTrapEl, (focusTrapEl) => {\n      if (focusTrapEl) {\n        forwardRef.value = focusTrapEl;\n      }\n    }, { immediate: true });\n    watch([forwardRef], ([forwardRef2], [oldForwardRef]) => {\n      if (forwardRef2) {\n        forwardRef2.addEventListener(\"keydown\", onKeydown);\n        forwardRef2.addEventListener(\"focusin\", onFocusIn);\n        forwardRef2.addEventListener(\"focusout\", onFocusOut);\n      }\n      if (oldForwardRef) {\n        oldForwardRef.removeEventListener(\"keydown\", onKeydown);\n        oldForwardRef.removeEventListener(\"focusin\", onFocusIn);\n        oldForwardRef.removeEventListener(\"focusout\", onFocusOut);\n      }\n    });\n    const trapOnFocus = (e) => {\n      emit(ON_TRAP_FOCUS_EVT, e);\n    };\n    const releaseOnFocus = (e) => emit(ON_RELEASE_FOCUS_EVT, e);\n    const onFocusIn = (e) => {\n      const trapContainer = unref(forwardRef);\n      if (!trapContainer)\n        return;\n      const target = e.target;\n      const relatedTarget = e.relatedTarget;\n      const isFocusedInTrap = target && trapContainer.contains(target);\n      if (!props.trapped) {\n        const isPrevFocusedInTrap = relatedTarget && trapContainer.contains(relatedTarget);\n        if (!isPrevFocusedInTrap) {\n          lastFocusBeforeTrapped = relatedTarget;\n        }\n      }\n      if (isFocusedInTrap)\n        emit(\"focusin\", e);\n      if (focusLayer.paused)\n        return;\n      if (props.trapped) {\n        if (isFocusedInTrap) {\n          lastFocusAfterTrapped = target;\n        } else {\n          tryFocus(lastFocusAfterTrapped, true);\n        }\n      }\n    };\n    const onFocusOut = (e) => {\n      const trapContainer = unref(forwardRef);\n      if (focusLayer.paused || !trapContainer)\n        return;\n      if (props.trapped) {\n        const relatedTarget = e.relatedTarget;\n        if (!isNil(relatedTarget) && !trapContainer.contains(relatedTarget)) {\n          setTimeout(() => {\n            if (!focusLayer.paused && props.trapped) {\n              const focusoutPreventedEvent = createFocusOutPreventedEvent({\n                focusReason: focusReason2.value\n              });\n              emit(\"focusout-prevented\", focusoutPreventedEvent);\n              if (!focusoutPreventedEvent.defaultPrevented) {\n                tryFocus(lastFocusAfterTrapped, true);\n              }\n            }\n          }, 0);\n        }\n      } else {\n        const target = e.target;\n        const isFocusedInTrap = target && trapContainer.contains(target);\n        if (!isFocusedInTrap)\n          emit(\"focusout\", e);\n      }\n    };\n    async function startTrap() {\n      await nextTick();\n      const trapContainer = unref(forwardRef);\n      if (trapContainer) {\n        focusableStack.push(focusLayer);\n        const prevFocusedElement = trapContainer.contains(document.activeElement) ? lastFocusBeforeTrapped : document.activeElement;\n        lastFocusBeforeTrapped = prevFocusedElement;\n        const isPrevFocusContained = trapContainer.contains(prevFocusedElement);\n        if (!isPrevFocusContained) {\n          const focusEvent = new Event(FOCUS_AFTER_TRAPPED, FOCUS_AFTER_TRAPPED_OPTS);\n          trapContainer.addEventListener(FOCUS_AFTER_TRAPPED, trapOnFocus);\n          trapContainer.dispatchEvent(focusEvent);\n          if (!focusEvent.defaultPrevented) {\n            nextTick(() => {\n              let focusStartEl = props.focusStartEl;\n              if (!isString(focusStartEl)) {\n                tryFocus(focusStartEl);\n                if (document.activeElement !== focusStartEl) {\n                  focusStartEl = \"first\";\n                }\n              }\n              if (focusStartEl === \"first\") {\n                focusFirstDescendant(obtainAllFocusableElements(trapContainer), true);\n              }\n              if (document.activeElement === prevFocusedElement || focusStartEl === \"container\") {\n                tryFocus(trapContainer);\n              }\n            });\n          }\n        }\n      }\n    }\n    function stopTrap() {\n      const trapContainer = unref(forwardRef);\n      if (trapContainer) {\n        trapContainer.removeEventListener(FOCUS_AFTER_TRAPPED, trapOnFocus);\n        const releasedEvent = new CustomEvent(FOCUS_AFTER_RELEASED, {\n          ...FOCUS_AFTER_TRAPPED_OPTS,\n          detail: {\n            focusReason: focusReason2.value\n          }\n        });\n        trapContainer.addEventListener(FOCUS_AFTER_RELEASED, releaseOnFocus);\n        trapContainer.dispatchEvent(releasedEvent);\n        if (!releasedEvent.defaultPrevented && (focusReason2.value == \"keyboard\" || !isFocusCausedByUserEvent() || trapContainer.contains(document.activeElement))) {\n          tryFocus(lastFocusBeforeTrapped != null ? lastFocusBeforeTrapped : document.body);\n        }\n        trapContainer.removeEventListener(FOCUS_AFTER_RELEASED, releaseOnFocus);\n        focusableStack.remove(focusLayer);\n      }\n    }\n    onMounted(() => {\n      if (props.trapped) {\n        startTrap();\n      }\n      watch(() => props.trapped, (trapped) => {\n        if (trapped) {\n          startTrap();\n        } else {\n          stopTrap();\n        }\n      });\n    });\n    onBeforeUnmount(() => {\n      if (props.trapped) {\n        stopTrap();\n      }\n      if (forwardRef.value) {\n        forwardRef.value.removeEventListener(\"keydown\", onKeydown);\n        forwardRef.value.removeEventListener(\"focusin\", onFocusIn);\n        forwardRef.value.removeEventListener(\"focusout\", onFocusOut);\n        forwardRef.value = void 0;\n      }\n    });\n    return {\n      onKeydown\n    };\n  }\n});\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return renderSlot(_ctx.$slots, \"default\", { handleKeydown: _ctx.onKeydown });\n}\nvar ElFocusTrap = /* @__PURE__ */ _export_sfc(_sfc_main$p, [[\"render\", _sfc_render$1], [\"__file\", \"focus-trap.vue\"]]);\nconst popperArrowProps = buildProps({\n  arrowOffset: {\n    type: Number,\n    default: 5\n  }\n});\nconst POSITIONING_STRATEGIES = [\"fixed\", \"absolute\"];\nconst popperCoreConfigProps = buildProps({\n  boundariesPadding: {\n    type: Number,\n    default: 0\n  },\n  fallbackPlacements: {\n    type: definePropType(Array),\n    default: void 0\n  },\n  gpuAcceleration: {\n    type: Boolean,\n    default: true\n  },\n  offset: {\n    type: Number,\n    default: 12\n  },\n  placement: {\n    type: String,\n    values: Ee,\n    default: \"bottom\"\n  },\n  popperOptions: {\n    type: definePropType(Object),\n    default: () => ({})\n  },\n  strategy: {\n    type: String,\n    values: POSITIONING_STRATEGIES,\n    default: \"absolute\"\n  }\n});\nconst popperContentProps = buildProps({\n  ...popperCoreConfigProps,\n  ...popperArrowProps,\n  id: String,\n  style: {\n    type: definePropType([String, Array, Object])\n  },\n  className: {\n    type: definePropType([String, Array, Object])\n  },\n  effect: {\n    type: definePropType(String),\n    default: \"dark\"\n  },\n  visible: Boolean,\n  enterable: {\n    type: Boolean,\n    default: true\n  },\n  pure: Boolean,\n  focusOnShow: {\n    type: Boolean,\n    default: false\n  },\n  trapping: {\n    type: Boolean,\n    default: false\n  },\n  popperClass: {\n    type: definePropType([String, Array, Object])\n  },\n  popperStyle: {\n    type: definePropType([String, Array, Object])\n  },\n  referenceEl: {\n    type: definePropType(Object)\n  },\n  triggerTargetEl: {\n    type: definePropType(Object)\n  },\n  stopPopperMouseEvent: {\n    type: Boolean,\n    default: true\n  },\n  virtualTriggering: Boolean,\n  zIndex: Number,\n  ...useAriaProps([\"ariaLabel\"])\n});\nconst popperContentEmits = {\n  mouseenter: (evt) => evt instanceof MouseEvent,\n  mouseleave: (evt) => evt instanceof MouseEvent,\n  focus: () => true,\n  blur: () => true,\n  close: () => true\n};\nconst usePopperContentFocusTrap = (props, emit) => {\n  const trapped = ref(false);\n  const focusStartRef = ref();\n  const onFocusAfterTrapped = () => {\n    emit(\"focus\");\n  };\n  const onFocusAfterReleased = (event) => {\n    var _a;\n    if (((_a = event.detail) == null ? void 0 : _a.focusReason) !== \"pointer\") {\n      focusStartRef.value = \"first\";\n      emit(\"blur\");\n    }\n  };\n  const onFocusInTrap = (event) => {\n    if (props.visible && !trapped.value) {\n      if (event.target) {\n        focusStartRef.value = event.target;\n      }\n      trapped.value = true;\n    }\n  };\n  const onFocusoutPrevented = (event) => {\n    if (!props.trapping) {\n      if (event.detail.focusReason === \"pointer\") {\n        event.preventDefault();\n      }\n      trapped.value = false;\n    }\n  };\n  const onReleaseRequested = () => {\n    trapped.value = false;\n    emit(\"close\");\n  };\n  return {\n    focusStartRef,\n    trapped,\n    onFocusAfterReleased,\n    onFocusAfterTrapped,\n    onFocusInTrap,\n    onFocusoutPrevented,\n    onReleaseRequested\n  };\n};\nconst buildPopperOptions = (props, modifiers = []) => {\n  const { placement, strategy, popperOptions } = props;\n  const options = {\n    placement,\n    strategy,\n    ...popperOptions,\n    modifiers: [...genModifiers(props), ...modifiers]\n  };\n  deriveExtraModifiers(options, popperOptions == null ? void 0 : popperOptions.modifiers);\n  return options;\n};\nconst unwrapMeasurableEl = ($el) => {\n  if (!isClient)\n    return;\n  return unrefElement($el);\n};\nfunction genModifiers(options) {\n  const { offset, gpuAcceleration, fallbackPlacements } = options;\n  return [\n    {\n      name: \"offset\",\n      options: {\n        offset: [0, offset != null ? offset : 12]\n      }\n    },\n    {\n      name: \"preventOverflow\",\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5\n        }\n      }\n    },\n    {\n      name: \"flip\",\n      options: {\n        padding: 5,\n        fallbackPlacements\n      }\n    },\n    {\n      name: \"computeStyles\",\n      options: {\n        gpuAcceleration\n      }\n    }\n  ];\n}\nfunction deriveExtraModifiers(options, modifiers) {\n  if (modifiers) {\n    options.modifiers = [...options.modifiers, ...modifiers != null ? modifiers : []];\n  }\n}\nconst usePopper = (referenceElementRef, popperElementRef, opts = {}) => {\n  const stateUpdater = {\n    name: \"updateState\",\n    enabled: true,\n    phase: \"write\",\n    fn: ({ state }) => {\n      const derivedState = deriveState(state);\n      Object.assign(states.value, derivedState);\n    },\n    requires: [\"computeStyles\"]\n  };\n  const options = computed(() => {\n    const { onFirstUpdate, placement, strategy, modifiers } = unref(opts);\n    return {\n      onFirstUpdate,\n      placement: placement || \"bottom\",\n      strategy: strategy || \"absolute\",\n      modifiers: [\n        ...modifiers || [],\n        stateUpdater,\n        { name: \"applyStyles\", enabled: false }\n      ]\n    };\n  });\n  const instanceRef = shallowRef();\n  const states = ref({\n    styles: {\n      popper: {\n        position: unref(options).strategy,\n        left: \"0\",\n        top: \"0\"\n      },\n      arrow: {\n        position: \"absolute\"\n      }\n    },\n    attributes: {}\n  });\n  const destroy = () => {\n    if (!instanceRef.value)\n      return;\n    instanceRef.value.destroy();\n    instanceRef.value = void 0;\n  };\n  watch(options, (newOptions) => {\n    const instance = unref(instanceRef);\n    if (instance) {\n      instance.setOptions(newOptions);\n    }\n  }, {\n    deep: true\n  });\n  watch([referenceElementRef, popperElementRef], ([referenceElement, popperElement]) => {\n    destroy();\n    if (!referenceElement || !popperElement)\n      return;\n    instanceRef.value = yn(referenceElement, popperElement, unref(options));\n  });\n  onBeforeUnmount(() => {\n    destroy();\n  });\n  return {\n    state: computed(() => {\n      var _a;\n      return { ...((_a = unref(instanceRef)) == null ? void 0 : _a.state) || {} };\n    }),\n    styles: computed(() => unref(states).styles),\n    attributes: computed(() => unref(states).attributes),\n    update: () => {\n      var _a;\n      return (_a = unref(instanceRef)) == null ? void 0 : _a.update();\n    },\n    forceUpdate: () => {\n      var _a;\n      return (_a = unref(instanceRef)) == null ? void 0 : _a.forceUpdate();\n    },\n    instanceRef: computed(() => unref(instanceRef))\n  };\n};\nfunction deriveState(state) {\n  const elements = Object.keys(state.elements);\n  const styles = fromPairs(elements.map((element) => [element, state.styles[element] || {}]));\n  const attributes = fromPairs(elements.map((element) => [element, state.attributes[element]]));\n  return {\n    styles,\n    attributes\n  };\n}\nconst DEFAULT_ARROW_OFFSET = 0;\nconst usePopperContent = (props) => {\n  const { popperInstanceRef, contentRef, triggerRef, role } = inject(POPPER_INJECTION_KEY, void 0);\n  const arrowRef = ref();\n  const arrowOffset = computed(() => props.arrowOffset);\n  const eventListenerModifier = computed(() => {\n    return {\n      name: \"eventListeners\",\n      enabled: !!props.visible\n    };\n  });\n  const arrowModifier = computed(() => {\n    var _a;\n    const arrowEl = unref(arrowRef);\n    const offset = (_a = unref(arrowOffset)) != null ? _a : DEFAULT_ARROW_OFFSET;\n    return {\n      name: \"arrow\",\n      enabled: !isUndefined$1(arrowEl),\n      options: {\n        element: arrowEl,\n        padding: offset\n      }\n    };\n  });\n  const options = computed(() => {\n    return {\n      onFirstUpdate: () => {\n        update();\n      },\n      ...buildPopperOptions(props, [\n        unref(arrowModifier),\n        unref(eventListenerModifier)\n      ])\n    };\n  });\n  const computedReference = computed(() => unwrapMeasurableEl(props.referenceEl) || unref(triggerRef));\n  const { attributes, state, styles, update, forceUpdate, instanceRef } = usePopper(computedReference, contentRef, options);\n  watch(instanceRef, (instance) => popperInstanceRef.value = instance, {\n    flush: \"sync\"\n  });\n  onMounted(() => {\n    watch(() => {\n      var _a;\n      return (_a = unref(computedReference)) == null ? void 0 : _a.getBoundingClientRect();\n    }, () => {\n      update();\n    });\n  });\n  return {\n    attributes,\n    arrowRef,\n    contentRef,\n    instanceRef,\n    state,\n    styles,\n    role,\n    forceUpdate,\n    update\n  };\n};\nconst usePopperContentDOM = (props, {\n  attributes,\n  styles,\n  role\n}) => {\n  const { nextZIndex } = useZIndex();\n  const ns = useNamespace(\"popper\");\n  const contentAttrs = computed(() => unref(attributes).popper);\n  const contentZIndex = ref(isNumber(props.zIndex) ? props.zIndex : nextZIndex());\n  const contentClass = computed(() => [\n    ns.b(),\n    ns.is(\"pure\", props.pure),\n    ns.is(props.effect),\n    props.popperClass\n  ]);\n  const contentStyle = computed(() => {\n    return [\n      { zIndex: unref(contentZIndex) },\n      unref(styles).popper,\n      props.popperStyle || {}\n    ];\n  });\n  const ariaModal = computed(() => role.value === \"dialog\" ? \"false\" : void 0);\n  const arrowStyle = computed(() => unref(styles).arrow || {});\n  const updateZIndex = () => {\n    contentZIndex.value = isNumber(props.zIndex) ? props.zIndex : nextZIndex();\n  };\n  return {\n    ariaModal,\n    arrowStyle,\n    contentAttrs,\n    contentClass,\n    contentStyle,\n    contentZIndex,\n    updateZIndex\n  };\n};\nconst __default__$m = defineComponent({\n  name: \"ElPopperContent\"\n});\nconst _sfc_main$o = /* @__PURE__ */ defineComponent({\n  ...__default__$m,\n  props: popperContentProps,\n  emits: popperContentEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const {\n      focusStartRef,\n      trapped,\n      onFocusAfterReleased,\n      onFocusAfterTrapped,\n      onFocusInTrap,\n      onFocusoutPrevented,\n      onReleaseRequested\n    } = usePopperContentFocusTrap(props, emit);\n    const { attributes, arrowRef, contentRef, styles, instanceRef, role, update } = usePopperContent(props);\n    const {\n      ariaModal,\n      arrowStyle,\n      contentAttrs,\n      contentClass,\n      contentStyle,\n      updateZIndex\n    } = usePopperContentDOM(props, {\n      styles,\n      attributes,\n      role\n    });\n    const formItemContext = inject(formItemContextKey, void 0);\n    provide(POPPER_CONTENT_INJECTION_KEY, {\n      arrowStyle,\n      arrowRef\n    });\n    if (formItemContext) {\n      provide(formItemContextKey, {\n        ...formItemContext,\n        addInputId: NOOP,\n        removeInputId: NOOP\n      });\n    }\n    let triggerTargetAriaStopWatch = void 0;\n    const updatePopper = (shouldUpdateZIndex = true) => {\n      update();\n      shouldUpdateZIndex && updateZIndex();\n    };\n    const togglePopperAlive = () => {\n      updatePopper(false);\n      if (props.visible && props.focusOnShow) {\n        trapped.value = true;\n      } else if (props.visible === false) {\n        trapped.value = false;\n      }\n    };\n    onMounted(() => {\n      watch(() => props.triggerTargetEl, (triggerTargetEl, prevTriggerTargetEl) => {\n        triggerTargetAriaStopWatch == null ? void 0 : triggerTargetAriaStopWatch();\n        triggerTargetAriaStopWatch = void 0;\n        const el = unref(triggerTargetEl || contentRef.value);\n        const prevEl = unref(prevTriggerTargetEl || contentRef.value);\n        if (isElement(el)) {\n          triggerTargetAriaStopWatch = watch([role, () => props.ariaLabel, ariaModal, () => props.id], (watches) => {\n            [\"role\", \"aria-label\", \"aria-modal\", \"id\"].forEach((key, idx) => {\n              isNil(watches[idx]) ? el.removeAttribute(key) : el.setAttribute(key, watches[idx]);\n            });\n          }, { immediate: true });\n        }\n        if (prevEl !== el && isElement(prevEl)) {\n          [\"role\", \"aria-label\", \"aria-modal\", \"id\"].forEach((key) => {\n            prevEl.removeAttribute(key);\n          });\n        }\n      }, { immediate: true });\n      watch(() => props.visible, togglePopperAlive, { immediate: true });\n    });\n    onBeforeUnmount(() => {\n      triggerTargetAriaStopWatch == null ? void 0 : triggerTargetAriaStopWatch();\n      triggerTargetAriaStopWatch = void 0;\n    });\n    expose({\n      popperContentRef: contentRef,\n      popperInstanceRef: instanceRef,\n      updatePopper,\n      contentStyle\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", mergeProps({\n        ref_key: \"contentRef\",\n        ref: contentRef\n      }, unref(contentAttrs), {\n        style: unref(contentStyle),\n        class: unref(contentClass),\n        tabindex: \"-1\",\n        onMouseenter: (e) => _ctx.$emit(\"mouseenter\", e),\n        onMouseleave: (e) => _ctx.$emit(\"mouseleave\", e)\n      }), [\n        createVNode(unref(ElFocusTrap), {\n          trapped: unref(trapped),\n          \"trap-on-focus-in\": true,\n          \"focus-trap-el\": unref(contentRef),\n          \"focus-start-el\": unref(focusStartRef),\n          onFocusAfterTrapped: unref(onFocusAfterTrapped),\n          onFocusAfterReleased: unref(onFocusAfterReleased),\n          onFocusin: unref(onFocusInTrap),\n          onFocusoutPrevented: unref(onFocusoutPrevented),\n          onReleaseRequested: unref(onReleaseRequested)\n        }, {\n          default: withCtx(() => [\n            renderSlot(_ctx.$slots, \"default\")\n          ]),\n          _: 3\n        }, 8, [\"trapped\", \"focus-trap-el\", \"focus-start-el\", \"onFocusAfterTrapped\", \"onFocusAfterReleased\", \"onFocusin\", \"onFocusoutPrevented\", \"onReleaseRequested\"])\n      ], 16, [\"onMouseenter\", \"onMouseleave\"]);\n    };\n  }\n});\nvar ElPopperContent = /* @__PURE__ */ _export_sfc(_sfc_main$o, [[\"__file\", \"content.vue\"]]);\nconst ElPopper = withInstall(Popper);\nconst TOOLTIP_INJECTION_KEY = Symbol(\"elTooltip\");\nfunction useTimeout() {\n  let timeoutHandle;\n  const registerTimeout = (fn, delay) => {\n    cancelTimeout();\n    timeoutHandle = window.setTimeout(fn, delay);\n  };\n  const cancelTimeout = () => window.clearTimeout(timeoutHandle);\n  tryOnScopeDispose(() => cancelTimeout());\n  return {\n    registerTimeout,\n    cancelTimeout\n  };\n}\nconst useDelayedToggleProps = buildProps({\n  showAfter: {\n    type: Number,\n    default: 0\n  },\n  hideAfter: {\n    type: Number,\n    default: 200\n  },\n  autoClose: {\n    type: Number,\n    default: 0\n  }\n});\nconst useDelayedToggle = ({\n  showAfter,\n  hideAfter,\n  autoClose,\n  open,\n  close\n}) => {\n  const { registerTimeout } = useTimeout();\n  const {\n    registerTimeout: registerTimeoutForAutoClose,\n    cancelTimeout: cancelTimeoutForAutoClose\n  } = useTimeout();\n  const onOpen = (event) => {\n    registerTimeout(() => {\n      open(event);\n      const _autoClose = unref(autoClose);\n      if (isNumber(_autoClose) && _autoClose > 0) {\n        registerTimeoutForAutoClose(() => {\n          close(event);\n        }, _autoClose);\n      }\n    }, unref(showAfter));\n  };\n  const onClose = (event) => {\n    cancelTimeoutForAutoClose();\n    registerTimeout(() => {\n      close(event);\n    }, unref(hideAfter));\n  };\n  return {\n    onOpen,\n    onClose\n  };\n};\nconst teleportProps = buildProps({\n  to: {\n    type: definePropType([String, Object]),\n    required: true\n  },\n  disabled: Boolean\n});\nconst useTooltipContentProps = buildProps({\n  ...useDelayedToggleProps,\n  ...popperContentProps,\n  appendTo: {\n    type: teleportProps.to.type\n  },\n  content: {\n    type: String,\n    default: \"\"\n  },\n  rawContent: Boolean,\n  persistent: Boolean,\n  visible: {\n    type: definePropType(Boolean),\n    default: null\n  },\n  transition: String,\n  teleported: {\n    type: Boolean,\n    default: true\n  },\n  disabled: Boolean,\n  ...useAriaProps([\"ariaLabel\"])\n});\nconst useTooltipTriggerProps = buildProps({\n  ...popperTriggerProps,\n  disabled: Boolean,\n  trigger: {\n    type: definePropType([String, Array]),\n    default: \"hover\"\n  },\n  triggerKeys: {\n    type: definePropType(Array),\n    default: () => [EVENT_CODE.enter, EVENT_CODE.numpadEnter, EVENT_CODE.space]\n  }\n});\nconst _prop = buildProp({\n  type: definePropType(Boolean),\n  default: null\n});\nconst _event = buildProp({\n  type: definePropType(Function)\n});\nconst createModelToggleComposable = (name) => {\n  const updateEventKey = `update:${name}`;\n  const updateEventKeyRaw = `onUpdate:${name}`;\n  const useModelToggleEmits2 = [updateEventKey];\n  const useModelToggleProps2 = {\n    [name]: _prop,\n    [updateEventKeyRaw]: _event\n  };\n  const useModelToggle2 = ({\n    indicator,\n    toggleReason,\n    shouldHideWhenRouteChanges,\n    shouldProceed,\n    onShow,\n    onHide\n  }) => {\n    const instance = getCurrentInstance();\n    const { emit } = instance;\n    const props = instance.props;\n    const hasUpdateHandler = computed(() => isFunction(props[updateEventKeyRaw]));\n    const isModelBindingAbsent = computed(() => props[name] === null);\n    const doShow = (event) => {\n      if (indicator.value === true) {\n        return;\n      }\n      indicator.value = true;\n      if (toggleReason) {\n        toggleReason.value = event;\n      }\n      if (isFunction(onShow)) {\n        onShow(event);\n      }\n    };\n    const doHide = (event) => {\n      if (indicator.value === false) {\n        return;\n      }\n      indicator.value = false;\n      if (toggleReason) {\n        toggleReason.value = event;\n      }\n      if (isFunction(onHide)) {\n        onHide(event);\n      }\n    };\n    const show = (event) => {\n      if (props.disabled === true || isFunction(shouldProceed) && !shouldProceed())\n        return;\n      const shouldEmit = hasUpdateHandler.value && isClient;\n      if (shouldEmit) {\n        emit(updateEventKey, true);\n      }\n      if (isModelBindingAbsent.value || !shouldEmit) {\n        doShow(event);\n      }\n    };\n    const hide = (event) => {\n      if (props.disabled === true || !isClient)\n        return;\n      const shouldEmit = hasUpdateHandler.value && isClient;\n      if (shouldEmit) {\n        emit(updateEventKey, false);\n      }\n      if (isModelBindingAbsent.value || !shouldEmit) {\n        doHide(event);\n      }\n    };\n    const onChange = (val) => {\n      if (!isBoolean(val))\n        return;\n      if (props.disabled && val) {\n        if (hasUpdateHandler.value) {\n          emit(updateEventKey, false);\n        }\n      } else if (indicator.value !== val) {\n        if (val) {\n          doShow();\n        } else {\n          doHide();\n        }\n      }\n    };\n    const toggle = () => {\n      if (indicator.value) {\n        hide();\n      } else {\n        show();\n      }\n    };\n    watch(() => props[name], onChange);\n    if (shouldHideWhenRouteChanges && instance.appContext.config.globalProperties.$route !== void 0) {\n      watch(() => ({\n        ...instance.proxy.$route\n      }), () => {\n        if (shouldHideWhenRouteChanges.value && indicator.value) {\n          hide();\n        }\n      });\n    }\n    onMounted(() => {\n      onChange(props[name]);\n    });\n    return {\n      hide,\n      show,\n      toggle,\n      hasUpdateHandler\n    };\n  };\n  return {\n    useModelToggle: useModelToggle2,\n    useModelToggleProps: useModelToggleProps2,\n    useModelToggleEmits: useModelToggleEmits2\n  };\n};\nconst {\n  useModelToggleProps: useTooltipModelToggleProps,\n  useModelToggleEmits: useTooltipModelToggleEmits,\n  useModelToggle: useTooltipModelToggle\n} = createModelToggleComposable(\"visible\");\nconst useTooltipProps = buildProps({\n  ...popperProps,\n  ...useTooltipModelToggleProps,\n  ...useTooltipContentProps,\n  ...useTooltipTriggerProps,\n  ...popperArrowProps,\n  showArrow: {\n    type: Boolean,\n    default: true\n  }\n});\nconst tooltipEmits = [\n  ...useTooltipModelToggleEmits,\n  \"before-show\",\n  \"before-hide\",\n  \"show\",\n  \"hide\",\n  \"open\",\n  \"close\"\n];\nconst isTriggerType = (trigger, type) => {\n  if (isArray(trigger)) {\n    return trigger.includes(type);\n  }\n  return trigger === type;\n};\nconst whenTrigger = (trigger, type, handler) => {\n  return (e) => {\n    isTriggerType(unref(trigger), type) && handler(e);\n  };\n};\nconst composeEventHandlers = (theirsHandler, oursHandler, { checkForDefaultPrevented = true } = {}) => {\n  const handleEvent = (event) => {\n    const shouldPrevent = theirsHandler == null ? void 0 : theirsHandler(event);\n    if (checkForDefaultPrevented === false || !shouldPrevent) {\n      return oursHandler == null ? void 0 : oursHandler(event);\n    }\n  };\n  return handleEvent;\n};\nconst __default__$l = defineComponent({\n  name: \"ElTooltipTrigger\"\n});\nconst _sfc_main$n = /* @__PURE__ */ defineComponent({\n  ...__default__$l,\n  props: useTooltipTriggerProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const ns = useNamespace(\"tooltip\");\n    const { controlled, id, open, onOpen, onClose, onToggle } = inject(TOOLTIP_INJECTION_KEY, void 0);\n    const triggerRef = ref(null);\n    const stopWhenControlledOrDisabled = () => {\n      if (unref(controlled) || props.disabled) {\n        return true;\n      }\n    };\n    const trigger = toRef(props, \"trigger\");\n    const onMouseenter = composeEventHandlers(stopWhenControlledOrDisabled, whenTrigger(trigger, \"hover\", onOpen));\n    const onMouseleave = composeEventHandlers(stopWhenControlledOrDisabled, whenTrigger(trigger, \"hover\", onClose));\n    const onClick = composeEventHandlers(stopWhenControlledOrDisabled, whenTrigger(trigger, \"click\", (e) => {\n      if (e.button === 0) {\n        onToggle(e);\n      }\n    }));\n    const onFocus = composeEventHandlers(stopWhenControlledOrDisabled, whenTrigger(trigger, \"focus\", onOpen));\n    const onBlur = composeEventHandlers(stopWhenControlledOrDisabled, whenTrigger(trigger, \"focus\", onClose));\n    const onContextMenu = composeEventHandlers(stopWhenControlledOrDisabled, whenTrigger(trigger, \"contextmenu\", (e) => {\n      e.preventDefault();\n      onToggle(e);\n    }));\n    const onKeydown = composeEventHandlers(stopWhenControlledOrDisabled, (e) => {\n      const { code } = e;\n      if (props.triggerKeys.includes(code)) {\n        e.preventDefault();\n        onToggle(e);\n      }\n    });\n    expose({\n      triggerRef\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElPopperTrigger), {\n        id: unref(id),\n        \"virtual-ref\": _ctx.virtualRef,\n        open: unref(open),\n        \"virtual-triggering\": _ctx.virtualTriggering,\n        class: normalizeClass(unref(ns).e(\"trigger\")),\n        onBlur: unref(onBlur),\n        onClick: unref(onClick),\n        onContextmenu: unref(onContextMenu),\n        onFocus: unref(onFocus),\n        onMouseenter: unref(onMouseenter),\n        onMouseleave: unref(onMouseleave),\n        onKeydown: unref(onKeydown)\n      }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 8, [\"id\", \"virtual-ref\", \"open\", \"virtual-triggering\", \"class\", \"onBlur\", \"onClick\", \"onContextmenu\", \"onFocus\", \"onMouseenter\", \"onMouseleave\", \"onKeydown\"]);\n    };\n  }\n});\nvar ElTooltipTrigger = /* @__PURE__ */ _export_sfc(_sfc_main$n, [[\"__file\", \"trigger.vue\"]]);\nconst _sfc_main$m = /* @__PURE__ */ defineComponent({\n  __name: \"teleport\",\n  props: teleportProps,\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return _ctx.disabled ? renderSlot(_ctx.$slots, \"default\", { key: 0 }) : (openBlock(), createBlock(Teleport$1, {\n        key: 1,\n        to: _ctx.to\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 8, [\"to\"]));\n    };\n  }\n});\nvar Teleport = /* @__PURE__ */ _export_sfc(_sfc_main$m, [[\"__file\", \"teleport.vue\"]]);\nconst ElTeleport = withInstall(Teleport);\nconst usePopperContainerId = () => {\n  const namespace = useGetDerivedNamespace();\n  const idInjection = useIdInjection();\n  const id = computed(() => {\n    return `${namespace.value}-popper-container-${idInjection.prefix}`;\n  });\n  const selector = computed(() => `#${id.value}`);\n  return {\n    id,\n    selector\n  };\n};\nconst createContainer = (id) => {\n  const container = document.createElement(\"div\");\n  container.id = id;\n  document.body.appendChild(container);\n  return container;\n};\nconst usePopperContainer = () => {\n  const { id, selector } = usePopperContainerId();\n  onBeforeMount(() => {\n    if (!isClient)\n      return;\n    if (process.env.NODE_ENV === \"test\" || !document.body.querySelector(selector.value)) {\n      createContainer(id.value);\n    }\n  });\n  return {\n    id,\n    selector\n  };\n};\nconst __default__$k = defineComponent({\n  name: \"ElTooltipContent\",\n  inheritAttrs: false\n});\nconst _sfc_main$l = /* @__PURE__ */ defineComponent({\n  ...__default__$k,\n  props: useTooltipContentProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const { selector } = usePopperContainerId();\n    const ns = useNamespace(\"tooltip\");\n    const contentRef = ref();\n    const popperContentRef = computedEager(() => {\n      var _a;\n      return (_a = contentRef.value) == null ? void 0 : _a.popperContentRef;\n    });\n    let stopHandle;\n    const {\n      controlled,\n      id,\n      open,\n      trigger,\n      onClose,\n      onOpen,\n      onShow,\n      onHide,\n      onBeforeShow,\n      onBeforeHide\n    } = inject(TOOLTIP_INJECTION_KEY, void 0);\n    const transitionClass = computed(() => {\n      return props.transition || `${ns.namespace.value}-fade-in-linear`;\n    });\n    const persistentRef = computed(() => {\n      if (process.env.NODE_ENV === \"test\") {\n        return true;\n      }\n      return props.persistent;\n    });\n    onBeforeUnmount(() => {\n      stopHandle == null ? void 0 : stopHandle();\n    });\n    const shouldRender = computed(() => {\n      return unref(persistentRef) ? true : unref(open);\n    });\n    const shouldShow = computed(() => {\n      return props.disabled ? false : unref(open);\n    });\n    const appendTo = computed(() => {\n      return props.appendTo || selector.value;\n    });\n    const contentStyle = computed(() => {\n      var _a;\n      return (_a = props.style) != null ? _a : {};\n    });\n    const ariaHidden = ref(true);\n    const onTransitionLeave = () => {\n      onHide();\n      isFocusInsideContent() && tryFocus(document.body);\n      ariaHidden.value = true;\n    };\n    const stopWhenControlled = () => {\n      if (unref(controlled))\n        return true;\n    };\n    const onContentEnter = composeEventHandlers(stopWhenControlled, () => {\n      if (props.enterable && unref(trigger) === \"hover\") {\n        onOpen();\n      }\n    });\n    const onContentLeave = composeEventHandlers(stopWhenControlled, () => {\n      if (unref(trigger) === \"hover\") {\n        onClose();\n      }\n    });\n    const onBeforeEnter = () => {\n      var _a, _b;\n      (_b = (_a = contentRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n      onBeforeShow == null ? void 0 : onBeforeShow();\n    };\n    const onBeforeLeave = () => {\n      onBeforeHide == null ? void 0 : onBeforeHide();\n    };\n    const onAfterShow = () => {\n      onShow();\n    };\n    const onBlur = () => {\n      if (!props.virtualTriggering) {\n        onClose();\n      }\n    };\n    const isFocusInsideContent = (event) => {\n      var _a;\n      const popperContent = (_a = contentRef.value) == null ? void 0 : _a.popperContentRef;\n      const activeElement = (event == null ? void 0 : event.relatedTarget) || document.activeElement;\n      return popperContent == null ? void 0 : popperContent.contains(activeElement);\n    };\n    watch(() => unref(open), (val) => {\n      if (!val) {\n        stopHandle == null ? void 0 : stopHandle();\n      } else {\n        ariaHidden.value = false;\n        stopHandle = onClickOutside(popperContentRef, () => {\n          if (unref(controlled))\n            return;\n          const $trigger = unref(trigger);\n          if ($trigger !== \"hover\") {\n            onClose();\n          }\n        });\n      }\n    }, {\n      flush: \"post\"\n    });\n    watch(() => props.content, () => {\n      var _a, _b;\n      (_b = (_a = contentRef.value) == null ? void 0 : _a.updatePopper) == null ? void 0 : _b.call(_a);\n    });\n    expose({\n      contentRef,\n      isFocusInsideContent\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElTeleport), {\n        disabled: !_ctx.teleported,\n        to: unref(appendTo)\n      }, {\n        default: withCtx(() => [\n          createVNode(Transition, {\n            name: unref(transitionClass),\n            onAfterLeave: onTransitionLeave,\n            onBeforeEnter,\n            onAfterEnter: onAfterShow,\n            onBeforeLeave\n          }, {\n            default: withCtx(() => [\n              unref(shouldRender) ? withDirectives((openBlock(), createBlock(unref(ElPopperContent), mergeProps({\n                key: 0,\n                id: unref(id),\n                ref_key: \"contentRef\",\n                ref: contentRef\n              }, _ctx.$attrs, {\n                \"aria-label\": _ctx.ariaLabel,\n                \"aria-hidden\": ariaHidden.value,\n                \"boundaries-padding\": _ctx.boundariesPadding,\n                \"fallback-placements\": _ctx.fallbackPlacements,\n                \"gpu-acceleration\": _ctx.gpuAcceleration,\n                offset: _ctx.offset,\n                placement: _ctx.placement,\n                \"popper-options\": _ctx.popperOptions,\n                \"arrow-offset\": _ctx.arrowOffset,\n                strategy: _ctx.strategy,\n                effect: _ctx.effect,\n                enterable: _ctx.enterable,\n                pure: _ctx.pure,\n                \"popper-class\": _ctx.popperClass,\n                \"popper-style\": [_ctx.popperStyle, unref(contentStyle)],\n                \"reference-el\": _ctx.referenceEl,\n                \"trigger-target-el\": _ctx.triggerTargetEl,\n                visible: unref(shouldShow),\n                \"z-index\": _ctx.zIndex,\n                onMouseenter: unref(onContentEnter),\n                onMouseleave: unref(onContentLeave),\n                onBlur,\n                onClose: unref(onClose)\n              }), {\n                default: withCtx(() => [\n                  renderSlot(_ctx.$slots, \"default\")\n                ]),\n                _: 3\n              }, 16, [\"id\", \"aria-label\", \"aria-hidden\", \"boundaries-padding\", \"fallback-placements\", \"gpu-acceleration\", \"offset\", \"placement\", \"popper-options\", \"arrow-offset\", \"strategy\", \"effect\", \"enterable\", \"pure\", \"popper-class\", \"popper-style\", \"reference-el\", \"trigger-target-el\", \"visible\", \"z-index\", \"onMouseenter\", \"onMouseleave\", \"onClose\"])), [\n                [vShow, unref(shouldShow)]\n              ]) : createCommentVNode(\"v-if\", true)\n            ]),\n            _: 3\n          }, 8, [\"name\"])\n        ]),\n        _: 3\n      }, 8, [\"disabled\", \"to\"]);\n    };\n  }\n});\nvar ElTooltipContent = /* @__PURE__ */ _export_sfc(_sfc_main$l, [[\"__file\", \"content.vue\"]]);\nconst __default__$j = defineComponent({\n  name: \"ElTooltip\"\n});\nconst _sfc_main$k = /* @__PURE__ */ defineComponent({\n  ...__default__$j,\n  props: useTooltipProps,\n  emits: tooltipEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    usePopperContainer();\n    const ns = useNamespace(\"tooltip\");\n    const id = useId();\n    const popperRef = ref();\n    const contentRef = ref();\n    const updatePopper = () => {\n      var _a;\n      const popperComponent = unref(popperRef);\n      if (popperComponent) {\n        (_a = popperComponent.popperInstanceRef) == null ? void 0 : _a.update();\n      }\n    };\n    const open = ref(false);\n    const toggleReason = ref();\n    const { show, hide, hasUpdateHandler } = useTooltipModelToggle({\n      indicator: open,\n      toggleReason\n    });\n    const { onOpen, onClose } = useDelayedToggle({\n      showAfter: toRef(props, \"showAfter\"),\n      hideAfter: toRef(props, \"hideAfter\"),\n      autoClose: toRef(props, \"autoClose\"),\n      open: show,\n      close: hide\n    });\n    const controlled = computed(() => isBoolean(props.visible) && !hasUpdateHandler.value);\n    const kls = computed(() => {\n      return [ns.b(), props.popperClass];\n    });\n    provide(TOOLTIP_INJECTION_KEY, {\n      controlled,\n      id,\n      open: readonly(open),\n      trigger: toRef(props, \"trigger\"),\n      onOpen: (event) => {\n        onOpen(event);\n      },\n      onClose: (event) => {\n        onClose(event);\n      },\n      onToggle: (event) => {\n        if (unref(open)) {\n          onClose(event);\n        } else {\n          onOpen(event);\n        }\n      },\n      onShow: () => {\n        emit(\"show\", toggleReason.value);\n      },\n      onHide: () => {\n        emit(\"hide\", toggleReason.value);\n      },\n      onBeforeShow: () => {\n        emit(\"before-show\", toggleReason.value);\n      },\n      onBeforeHide: () => {\n        emit(\"before-hide\", toggleReason.value);\n      },\n      updatePopper\n    });\n    watch(() => props.disabled, (disabled) => {\n      if (disabled && open.value) {\n        open.value = false;\n      }\n    });\n    const isFocusInsideContent = (event) => {\n      var _a;\n      return (_a = contentRef.value) == null ? void 0 : _a.isFocusInsideContent(event);\n    };\n    onDeactivated(() => open.value && hide());\n    expose({\n      popperRef,\n      contentRef,\n      isFocusInsideContent,\n      updatePopper,\n      onOpen,\n      onClose,\n      hide\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElPopper), {\n        ref_key: \"popperRef\",\n        ref: popperRef,\n        role: _ctx.role\n      }, {\n        default: withCtx(() => [\n          createVNode(ElTooltipTrigger, {\n            disabled: _ctx.disabled,\n            trigger: _ctx.trigger,\n            \"trigger-keys\": _ctx.triggerKeys,\n            \"virtual-ref\": _ctx.virtualRef,\n            \"virtual-triggering\": _ctx.virtualTriggering\n          }, {\n            default: withCtx(() => [\n              _ctx.$slots.default ? renderSlot(_ctx.$slots, \"default\", { key: 0 }) : createCommentVNode(\"v-if\", true)\n            ]),\n            _: 3\n          }, 8, [\"disabled\", \"trigger\", \"trigger-keys\", \"virtual-ref\", \"virtual-triggering\"]),\n          createVNode(ElTooltipContent, {\n            ref_key: \"contentRef\",\n            ref: contentRef,\n            \"aria-label\": _ctx.ariaLabel,\n            \"boundaries-padding\": _ctx.boundariesPadding,\n            content: _ctx.content,\n            disabled: _ctx.disabled,\n            effect: _ctx.effect,\n            enterable: _ctx.enterable,\n            \"fallback-placements\": _ctx.fallbackPlacements,\n            \"hide-after\": _ctx.hideAfter,\n            \"gpu-acceleration\": _ctx.gpuAcceleration,\n            offset: _ctx.offset,\n            persistent: _ctx.persistent,\n            \"popper-class\": unref(kls),\n            \"popper-style\": _ctx.popperStyle,\n            placement: _ctx.placement,\n            \"popper-options\": _ctx.popperOptions,\n            \"arrow-offset\": _ctx.arrowOffset,\n            pure: _ctx.pure,\n            \"raw-content\": _ctx.rawContent,\n            \"reference-el\": _ctx.referenceEl,\n            \"trigger-target-el\": _ctx.triggerTargetEl,\n            \"show-after\": _ctx.showAfter,\n            strategy: _ctx.strategy,\n            teleported: _ctx.teleported,\n            transition: _ctx.transition,\n            \"virtual-triggering\": _ctx.virtualTriggering,\n            \"z-index\": _ctx.zIndex,\n            \"append-to\": _ctx.appendTo\n          }, {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"content\", {}, () => [\n                _ctx.rawContent ? (openBlock(), createElementBlock(\"span\", {\n                  key: 0,\n                  innerHTML: _ctx.content\n                }, null, 8, [\"innerHTML\"])) : (openBlock(), createElementBlock(\"span\", { key: 1 }, toDisplayString(_ctx.content), 1))\n              ]),\n              _ctx.showArrow ? (openBlock(), createBlock(unref(ElPopperArrow), { key: 0 })) : createCommentVNode(\"v-if\", true)\n            ]),\n            _: 3\n          }, 8, [\"aria-label\", \"boundaries-padding\", \"content\", \"disabled\", \"effect\", \"enterable\", \"fallback-placements\", \"hide-after\", \"gpu-acceleration\", \"offset\", \"persistent\", \"popper-class\", \"popper-style\", \"placement\", \"popper-options\", \"arrow-offset\", \"pure\", \"raw-content\", \"reference-el\", \"trigger-target-el\", \"show-after\", \"strategy\", \"teleported\", \"transition\", \"virtual-triggering\", \"z-index\", \"append-to\"])\n        ]),\n        _: 3\n      }, 8, [\"role\"]);\n    };\n  }\n});\nvar Tooltip = /* @__PURE__ */ _export_sfc(_sfc_main$k, [[\"__file\", \"tooltip.vue\"]]);\nconst ElTooltip = withInstall(Tooltip);\nconst badgeProps = buildProps({\n  value: {\n    type: [String, Number],\n    default: \"\"\n  },\n  max: {\n    type: Number,\n    default: 99\n  },\n  isDot: Boolean,\n  hidden: Boolean,\n  type: {\n    type: String,\n    values: [\"primary\", \"success\", \"warning\", \"info\", \"danger\"],\n    default: \"danger\"\n  },\n  showZero: {\n    type: Boolean,\n    default: true\n  },\n  color: String,\n  badgeStyle: {\n    type: definePropType([String, Object, Array])\n  },\n  offset: {\n    type: definePropType(Array),\n    default: [0, 0]\n  },\n  badgeClass: {\n    type: String\n  }\n});\nconst __default__$i = defineComponent({\n  name: \"ElBadge\"\n});\nconst _sfc_main$j = /* @__PURE__ */ defineComponent({\n  ...__default__$i,\n  props: badgeProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const ns = useNamespace(\"badge\");\n    const content = computed(() => {\n      if (props.isDot)\n        return \"\";\n      if (isNumber(props.value) && isNumber(props.max)) {\n        return props.max < props.value ? `${props.max}+` : `${props.value}`;\n      }\n      return `${props.value}`;\n    });\n    const style = computed(() => {\n      var _a, _b, _c, _d, _e;\n      return [\n        {\n          backgroundColor: props.color,\n          marginRight: addUnit(-((_b = (_a = props.offset) == null ? void 0 : _a[0]) != null ? _b : 0)),\n          marginTop: addUnit((_d = (_c = props.offset) == null ? void 0 : _c[1]) != null ? _d : 0)\n        },\n        (_e = props.badgeStyle) != null ? _e : {}\n      ];\n    });\n    expose({\n      content\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass(unref(ns).b())\n      }, [\n        renderSlot(_ctx.$slots, \"default\"),\n        createVNode(Transition, {\n          name: `${unref(ns).namespace.value}-zoom-in-center`,\n          persisted: \"\"\n        }, {\n          default: withCtx(() => [\n            withDirectives(createElementVNode(\"sup\", {\n              class: normalizeClass([\n                unref(ns).e(\"content\"),\n                unref(ns).em(\"content\", _ctx.type),\n                unref(ns).is(\"fixed\", !!_ctx.$slots.default),\n                unref(ns).is(\"dot\", _ctx.isDot),\n                unref(ns).is(\"hide-zero\", !_ctx.showZero && props.value === 0),\n                _ctx.badgeClass\n              ]),\n              style: normalizeStyle(unref(style))\n            }, [\n              renderSlot(_ctx.$slots, \"content\", { value: unref(content) }, () => [\n                createTextVNode(toDisplayString(unref(content)), 1)\n              ])\n            ], 6), [\n              [vShow, !_ctx.hidden && (unref(content) || _ctx.isDot || _ctx.$slots.content)]\n            ])\n          ]),\n          _: 3\n        }, 8, [\"name\"])\n      ], 2);\n    };\n  }\n});\nvar Badge = /* @__PURE__ */ _export_sfc(_sfc_main$j, [[\"__file\", \"badge.vue\"]]);\nconst ElBadge = withInstall(Badge);\nconst buttonGroupContextKey = Symbol(\"buttonGroupContextKey\");\nconst useDeprecated = ({ from, replacement, scope, version, ref: ref2, type = \"API\" }, condition) => {\n  watch(() => unref(condition), (val) => {\n    if (val) {\n      debugWarn(scope, `[${type}] ${from} is about to be deprecated in version ${version}, please use ${replacement} instead.\nFor more detail, please visit: ${ref2}\n`);\n    }\n  }, {\n    immediate: true\n  });\n};\nconst useButton = (props, emit) => {\n  useDeprecated({\n    from: \"type.text\",\n    replacement: \"link\",\n    version: \"3.0.0\",\n    scope: \"props\",\n    ref: \"https://element-plus.org/en-US/component/button.html#button-attributes\"\n  }, computed(() => props.type === \"text\"));\n  const buttonGroupContext = inject(buttonGroupContextKey, void 0);\n  const globalConfig2 = useGlobalConfig(\"button\");\n  const { form } = useFormItem();\n  const _size = useFormSize(computed(() => buttonGroupContext == null ? void 0 : buttonGroupContext.size));\n  const _disabled = useFormDisabled();\n  const _ref = ref();\n  const slots = useSlots();\n  const _type = computed(() => props.type || (buttonGroupContext == null ? void 0 : buttonGroupContext.type) || \"\");\n  const autoInsertSpace = computed(() => {\n    var _a, _b, _c;\n    return (_c = (_b = props.autoInsertSpace) != null ? _b : (_a = globalConfig2.value) == null ? void 0 : _a.autoInsertSpace) != null ? _c : false;\n  });\n  const _props = computed(() => {\n    if (props.tag === \"button\") {\n      return {\n        ariaDisabled: _disabled.value || props.loading,\n        disabled: _disabled.value || props.loading,\n        autofocus: props.autofocus,\n        type: props.nativeType\n      };\n    }\n    return {};\n  });\n  const shouldAddSpace = computed(() => {\n    var _a;\n    const defaultSlot = (_a = slots.default) == null ? void 0 : _a.call(slots);\n    if (autoInsertSpace.value && (defaultSlot == null ? void 0 : defaultSlot.length) === 1) {\n      const slot = defaultSlot[0];\n      if ((slot == null ? void 0 : slot.type) === Text) {\n        const text = slot.children;\n        return new RegExp(\"^\\\\p{Unified_Ideograph}{2}$\", \"u\").test(text.trim());\n      }\n    }\n    return false;\n  });\n  const handleClick = (evt) => {\n    if (_disabled.value || props.loading) {\n      evt.stopPropagation();\n      return;\n    }\n    if (props.nativeType === \"reset\") {\n      form == null ? void 0 : form.resetFields();\n    }\n    emit(\"click\", evt);\n  };\n  return {\n    _disabled,\n    _size,\n    _type,\n    _ref,\n    _props,\n    shouldAddSpace,\n    handleClick\n  };\n};\nconst buttonTypes = [\n  \"default\",\n  \"primary\",\n  \"success\",\n  \"warning\",\n  \"info\",\n  \"danger\",\n  \"text\",\n  \"\"\n];\nconst buttonNativeTypes = [\"button\", \"submit\", \"reset\"];\nconst buttonProps = buildProps({\n  size: useSizeProp,\n  disabled: Boolean,\n  type: {\n    type: String,\n    values: buttonTypes,\n    default: \"\"\n  },\n  icon: {\n    type: iconPropType\n  },\n  nativeType: {\n    type: String,\n    values: buttonNativeTypes,\n    default: \"button\"\n  },\n  loading: Boolean,\n  loadingIcon: {\n    type: iconPropType,\n    default: () => loading_default\n  },\n  plain: Boolean,\n  text: Boolean,\n  link: Boolean,\n  bg: Boolean,\n  autofocus: Boolean,\n  round: Boolean,\n  circle: Boolean,\n  color: String,\n  dark: Boolean,\n  autoInsertSpace: {\n    type: Boolean,\n    default: void 0\n  },\n  tag: {\n    type: definePropType([String, Object]),\n    default: \"button\"\n  }\n});\nconst buttonEmits = {\n  click: (evt) => evt instanceof MouseEvent\n};\nfunction darken(color, amount = 20) {\n  return color.mix(\"#141414\", amount).toString();\n}\nfunction useButtonCustomStyle(props) {\n  const _disabled = useFormDisabled();\n  const ns = useNamespace(\"button\");\n  return computed(() => {\n    let styles = {};\n    let buttonColor = props.color;\n    if (buttonColor) {\n      const match = buttonColor.match(/var\\((.*?)\\)/);\n      if (match) {\n        buttonColor = window.getComputedStyle(window.document.documentElement).getPropertyValue(match[1]);\n      }\n      const color = new TinyColor(buttonColor);\n      const activeBgColor = props.dark ? color.tint(20).toString() : darken(color, 20);\n      if (props.plain) {\n        styles = ns.cssVarBlock({\n          \"bg-color\": props.dark ? darken(color, 90) : color.tint(90).toString(),\n          \"text-color\": buttonColor,\n          \"border-color\": props.dark ? darken(color, 50) : color.tint(50).toString(),\n          \"hover-text-color\": `var(${ns.cssVarName(\"color-white\")})`,\n          \"hover-bg-color\": buttonColor,\n          \"hover-border-color\": buttonColor,\n          \"active-bg-color\": activeBgColor,\n          \"active-text-color\": `var(${ns.cssVarName(\"color-white\")})`,\n          \"active-border-color\": activeBgColor\n        });\n        if (_disabled.value) {\n          styles[ns.cssVarBlockName(\"disabled-bg-color\")] = props.dark ? darken(color, 90) : color.tint(90).toString();\n          styles[ns.cssVarBlockName(\"disabled-text-color\")] = props.dark ? darken(color, 50) : color.tint(50).toString();\n          styles[ns.cssVarBlockName(\"disabled-border-color\")] = props.dark ? darken(color, 80) : color.tint(80).toString();\n        }\n      } else {\n        const hoverBgColor = props.dark ? darken(color, 30) : color.tint(30).toString();\n        const textColor = color.isDark() ? `var(${ns.cssVarName(\"color-white\")})` : `var(${ns.cssVarName(\"color-black\")})`;\n        styles = ns.cssVarBlock({\n          \"bg-color\": buttonColor,\n          \"text-color\": textColor,\n          \"border-color\": buttonColor,\n          \"hover-bg-color\": hoverBgColor,\n          \"hover-text-color\": textColor,\n          \"hover-border-color\": hoverBgColor,\n          \"active-bg-color\": activeBgColor,\n          \"active-border-color\": activeBgColor\n        });\n        if (_disabled.value) {\n          const disabledButtonColor = props.dark ? darken(color, 50) : color.tint(50).toString();\n          styles[ns.cssVarBlockName(\"disabled-bg-color\")] = disabledButtonColor;\n          styles[ns.cssVarBlockName(\"disabled-text-color\")] = props.dark ? \"rgba(255, 255, 255, 0.5)\" : `var(${ns.cssVarName(\"color-white\")})`;\n          styles[ns.cssVarBlockName(\"disabled-border-color\")] = disabledButtonColor;\n        }\n      }\n    }\n    return styles;\n  });\n}\nconst __default__$h = defineComponent({\n  name: \"ElButton\"\n});\nconst _sfc_main$i = /* @__PURE__ */ defineComponent({\n  ...__default__$h,\n  props: buttonProps,\n  emits: buttonEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const buttonStyle = useButtonCustomStyle(props);\n    const ns = useNamespace(\"button\");\n    const { _ref, _size, _type, _disabled, _props, shouldAddSpace, handleClick } = useButton(props, emit);\n    const buttonKls = computed(() => [\n      ns.b(),\n      ns.m(_type.value),\n      ns.m(_size.value),\n      ns.is(\"disabled\", _disabled.value),\n      ns.is(\"loading\", props.loading),\n      ns.is(\"plain\", props.plain),\n      ns.is(\"round\", props.round),\n      ns.is(\"circle\", props.circle),\n      ns.is(\"text\", props.text),\n      ns.is(\"link\", props.link),\n      ns.is(\"has-bg\", props.bg)\n    ]);\n    expose({\n      ref: _ref,\n      size: _size,\n      type: _type,\n      disabled: _disabled,\n      shouldAddSpace\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(resolveDynamicComponent(_ctx.tag), mergeProps({\n        ref_key: \"_ref\",\n        ref: _ref\n      }, unref(_props), {\n        class: unref(buttonKls),\n        style: unref(buttonStyle),\n        onClick: unref(handleClick)\n      }), {\n        default: withCtx(() => [\n          _ctx.loading ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n            _ctx.$slots.loading ? renderSlot(_ctx.$slots, \"loading\", { key: 0 }) : (openBlock(), createBlock(unref(ElIcon), {\n              key: 1,\n              class: normalizeClass(unref(ns).is(\"loading\"))\n            }, {\n              default: withCtx(() => [\n                (openBlock(), createBlock(resolveDynamicComponent(_ctx.loadingIcon)))\n              ]),\n              _: 1\n            }, 8, [\"class\"]))\n          ], 64)) : _ctx.icon || _ctx.$slots.icon ? (openBlock(), createBlock(unref(ElIcon), { key: 1 }, {\n            default: withCtx(() => [\n              _ctx.icon ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.icon), { key: 0 })) : renderSlot(_ctx.$slots, \"icon\", { key: 1 })\n            ]),\n            _: 3\n          })) : createCommentVNode(\"v-if\", true),\n          _ctx.$slots.default ? (openBlock(), createElementBlock(\"span\", {\n            key: 2,\n            class: normalizeClass({ [unref(ns).em(\"text\", \"expand\")]: unref(shouldAddSpace) })\n          }, [\n            renderSlot(_ctx.$slots, \"default\")\n          ], 2)) : createCommentVNode(\"v-if\", true)\n        ]),\n        _: 3\n      }, 16, [\"class\", \"style\", \"onClick\"]);\n    };\n  }\n});\nvar Button = /* @__PURE__ */ _export_sfc(_sfc_main$i, [[\"__file\", \"button.vue\"]]);\nconst buttonGroupProps = {\n  size: buttonProps.size,\n  type: buttonProps.type\n};\nconst __default__$g = defineComponent({\n  name: \"ElButtonGroup\"\n});\nconst _sfc_main$h = /* @__PURE__ */ defineComponent({\n  ...__default__$g,\n  props: buttonGroupProps,\n  setup(__props) {\n    const props = __props;\n    provide(buttonGroupContextKey, reactive({\n      size: toRef(props, \"size\"),\n      type: toRef(props, \"type\")\n    }));\n    const ns = useNamespace(\"button\");\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass(unref(ns).b(\"group\"))\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 2);\n    };\n  }\n});\nvar ButtonGroup = /* @__PURE__ */ _export_sfc(_sfc_main$h, [[\"__file\", \"button-group.vue\"]]);\nconst ElButton = withInstall(Button, {\n  ButtonGroup\n});\nwithNoopInstall(ButtonGroup);\nvar PatchFlags = /* @__PURE__ */ ((PatchFlags2) => {\n  PatchFlags2[PatchFlags2[\"TEXT\"] = 1] = \"TEXT\";\n  PatchFlags2[PatchFlags2[\"CLASS\"] = 2] = \"CLASS\";\n  PatchFlags2[PatchFlags2[\"STYLE\"] = 4] = \"STYLE\";\n  PatchFlags2[PatchFlags2[\"PROPS\"] = 8] = \"PROPS\";\n  PatchFlags2[PatchFlags2[\"FULL_PROPS\"] = 16] = \"FULL_PROPS\";\n  PatchFlags2[PatchFlags2[\"HYDRATE_EVENTS\"] = 32] = \"HYDRATE_EVENTS\";\n  PatchFlags2[PatchFlags2[\"STABLE_FRAGMENT\"] = 64] = \"STABLE_FRAGMENT\";\n  PatchFlags2[PatchFlags2[\"KEYED_FRAGMENT\"] = 128] = \"KEYED_FRAGMENT\";\n  PatchFlags2[PatchFlags2[\"UNKEYED_FRAGMENT\"] = 256] = \"UNKEYED_FRAGMENT\";\n  PatchFlags2[PatchFlags2[\"NEED_PATCH\"] = 512] = \"NEED_PATCH\";\n  PatchFlags2[PatchFlags2[\"DYNAMIC_SLOTS\"] = 1024] = \"DYNAMIC_SLOTS\";\n  PatchFlags2[PatchFlags2[\"HOISTED\"] = -1] = \"HOISTED\";\n  PatchFlags2[PatchFlags2[\"BAIL\"] = -2] = \"BAIL\";\n  return PatchFlags2;\n})(PatchFlags || {});\nconst checkboxProps = {\n  modelValue: {\n    type: [Number, String, Boolean],\n    default: void 0\n  },\n  label: {\n    type: [String, Boolean, Number, Object],\n    default: void 0\n  },\n  value: {\n    type: [String, Boolean, Number, Object],\n    default: void 0\n  },\n  indeterminate: Boolean,\n  disabled: Boolean,\n  checked: Boolean,\n  name: {\n    type: String,\n    default: void 0\n  },\n  trueValue: {\n    type: [String, Number],\n    default: void 0\n  },\n  falseValue: {\n    type: [String, Number],\n    default: void 0\n  },\n  trueLabel: {\n    type: [String, Number],\n    default: void 0\n  },\n  falseLabel: {\n    type: [String, Number],\n    default: void 0\n  },\n  id: {\n    type: String,\n    default: void 0\n  },\n  border: Boolean,\n  size: useSizeProp,\n  tabindex: [String, Number],\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  ...useAriaProps([\"ariaControls\"])\n};\nconst checkboxEmits = {\n  [UPDATE_MODEL_EVENT]: (val) => isString(val) || isNumber(val) || isBoolean(val),\n  change: (val) => isString(val) || isNumber(val) || isBoolean(val)\n};\nconst checkboxGroupContextKey = Symbol(\"checkboxGroupContextKey\");\nconst useCheckboxDisabled = ({\n  model,\n  isChecked\n}) => {\n  const checkboxGroup = inject(checkboxGroupContextKey, void 0);\n  const isLimitDisabled = computed(() => {\n    var _a, _b;\n    const max = (_a = checkboxGroup == null ? void 0 : checkboxGroup.max) == null ? void 0 : _a.value;\n    const min = (_b = checkboxGroup == null ? void 0 : checkboxGroup.min) == null ? void 0 : _b.value;\n    return !isUndefined(max) && model.value.length >= max && !isChecked.value || !isUndefined(min) && model.value.length <= min && isChecked.value;\n  });\n  const isDisabled = useFormDisabled(computed(() => (checkboxGroup == null ? void 0 : checkboxGroup.disabled.value) || isLimitDisabled.value));\n  return {\n    isDisabled,\n    isLimitDisabled\n  };\n};\nconst useCheckboxEvent = (props, {\n  model,\n  isLimitExceeded,\n  hasOwnLabel,\n  isDisabled,\n  isLabeledByFormItem\n}) => {\n  const checkboxGroup = inject(checkboxGroupContextKey, void 0);\n  const { formItem } = useFormItem();\n  const { emit } = getCurrentInstance();\n  function getLabeledValue(value) {\n    var _a, _b, _c, _d;\n    return [true, props.trueValue, props.trueLabel].includes(value) ? (_b = (_a = props.trueValue) != null ? _a : props.trueLabel) != null ? _b : true : (_d = (_c = props.falseValue) != null ? _c : props.falseLabel) != null ? _d : false;\n  }\n  function emitChangeEvent(checked, e) {\n    emit(CHANGE_EVENT, getLabeledValue(checked), e);\n  }\n  function handleChange(e) {\n    if (isLimitExceeded.value)\n      return;\n    const target = e.target;\n    emit(CHANGE_EVENT, getLabeledValue(target.checked), e);\n  }\n  async function onClickRoot(e) {\n    if (isLimitExceeded.value)\n      return;\n    if (!hasOwnLabel.value && !isDisabled.value && isLabeledByFormItem.value) {\n      const eventTargets = e.composedPath();\n      const hasLabel = eventTargets.some((item) => item.tagName === \"LABEL\");\n      if (!hasLabel) {\n        model.value = getLabeledValue([false, props.falseValue, props.falseLabel].includes(model.value));\n        await nextTick();\n        emitChangeEvent(model.value, e);\n      }\n    }\n  }\n  const validateEvent = computed(() => (checkboxGroup == null ? void 0 : checkboxGroup.validateEvent) || props.validateEvent);\n  watch(() => props.modelValue, () => {\n    if (validateEvent.value) {\n      formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n    }\n  });\n  return {\n    handleChange,\n    onClickRoot\n  };\n};\nconst useCheckboxModel = (props) => {\n  const selfModel = ref(false);\n  const { emit } = getCurrentInstance();\n  const checkboxGroup = inject(checkboxGroupContextKey, void 0);\n  const isGroup = computed(() => isUndefined(checkboxGroup) === false);\n  const isLimitExceeded = ref(false);\n  const model = computed({\n    get() {\n      var _a, _b;\n      return isGroup.value ? (_a = checkboxGroup == null ? void 0 : checkboxGroup.modelValue) == null ? void 0 : _a.value : (_b = props.modelValue) != null ? _b : selfModel.value;\n    },\n    set(val) {\n      var _a, _b;\n      if (isGroup.value && isArray(val)) {\n        isLimitExceeded.value = ((_a = checkboxGroup == null ? void 0 : checkboxGroup.max) == null ? void 0 : _a.value) !== void 0 && val.length > (checkboxGroup == null ? void 0 : checkboxGroup.max.value) && val.length > model.value.length;\n        isLimitExceeded.value === false && ((_b = checkboxGroup == null ? void 0 : checkboxGroup.changeEvent) == null ? void 0 : _b.call(checkboxGroup, val));\n      } else {\n        emit(UPDATE_MODEL_EVENT, val);\n        selfModel.value = val;\n      }\n    }\n  });\n  return {\n    model,\n    isGroup,\n    isLimitExceeded\n  };\n};\nconst useCheckboxStatus = (props, slots, { model }) => {\n  const checkboxGroup = inject(checkboxGroupContextKey, void 0);\n  const isFocused = ref(false);\n  const actualValue = computed(() => {\n    if (!isPropAbsent(props.value)) {\n      return props.value;\n    }\n    return props.label;\n  });\n  const isChecked = computed(() => {\n    const value = model.value;\n    if (isBoolean(value)) {\n      return value;\n    } else if (isArray(value)) {\n      if (isObject(actualValue.value)) {\n        return value.map(toRaw).some((o) => isEqual(o, actualValue.value));\n      } else {\n        return value.map(toRaw).includes(actualValue.value);\n      }\n    } else if (value !== null && value !== void 0) {\n      return value === props.trueValue || value === props.trueLabel;\n    } else {\n      return !!value;\n    }\n  });\n  const checkboxButtonSize = useFormSize(computed(() => {\n    var _a;\n    return (_a = checkboxGroup == null ? void 0 : checkboxGroup.size) == null ? void 0 : _a.value;\n  }), {\n    prop: true\n  });\n  const checkboxSize = useFormSize(computed(() => {\n    var _a;\n    return (_a = checkboxGroup == null ? void 0 : checkboxGroup.size) == null ? void 0 : _a.value;\n  }));\n  const hasOwnLabel = computed(() => {\n    return !!slots.default || !isPropAbsent(actualValue.value);\n  });\n  return {\n    checkboxButtonSize,\n    isChecked,\n    isFocused,\n    checkboxSize,\n    hasOwnLabel,\n    actualValue\n  };\n};\nconst useCheckbox = (props, slots) => {\n  const { formItem: elFormItem } = useFormItem();\n  const { model, isGroup, isLimitExceeded } = useCheckboxModel(props);\n  const {\n    isFocused,\n    isChecked,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    actualValue\n  } = useCheckboxStatus(props, slots, { model });\n  const { isDisabled } = useCheckboxDisabled({ model, isChecked });\n  const { inputId, isLabeledByFormItem } = useFormItemInputId(props, {\n    formItemContext: elFormItem,\n    disableIdGeneration: hasOwnLabel,\n    disableIdManagement: isGroup\n  });\n  const { handleChange, onClickRoot } = useCheckboxEvent(props, {\n    model,\n    isLimitExceeded,\n    hasOwnLabel,\n    isDisabled,\n    isLabeledByFormItem\n  });\n  const setStoreValue = () => {\n    function addToStore() {\n      var _a, _b;\n      if (isArray(model.value) && !model.value.includes(actualValue.value)) {\n        model.value.push(actualValue.value);\n      } else {\n        model.value = (_b = (_a = props.trueValue) != null ? _a : props.trueLabel) != null ? _b : true;\n      }\n    }\n    props.checked && addToStore();\n  };\n  setStoreValue();\n  useDeprecated({\n    from: \"label act as value\",\n    replacement: \"value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, computed(() => isGroup.value && isPropAbsent(props.value)));\n  useDeprecated({\n    from: \"true-label\",\n    replacement: \"true-value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, computed(() => !!props.trueLabel));\n  useDeprecated({\n    from: \"false-label\",\n    replacement: \"false-value\",\n    version: \"3.0.0\",\n    scope: \"el-checkbox\",\n    ref: \"https://element-plus.org/en-US/component/checkbox.html\"\n  }, computed(() => !!props.falseLabel));\n  return {\n    inputId,\n    isLabeledByFormItem,\n    isChecked,\n    isDisabled,\n    isFocused,\n    checkboxButtonSize,\n    checkboxSize,\n    hasOwnLabel,\n    model,\n    actualValue,\n    handleChange,\n    onClickRoot\n  };\n};\nconst __default__$f = defineComponent({\n  name: \"ElCheckbox\"\n});\nconst _sfc_main$g = /* @__PURE__ */ defineComponent({\n  ...__default__$f,\n  props: checkboxProps,\n  emits: checkboxEmits,\n  setup(__props) {\n    const props = __props;\n    const slots = useSlots();\n    const {\n      inputId,\n      isLabeledByFormItem,\n      isChecked,\n      isDisabled,\n      isFocused,\n      checkboxSize,\n      hasOwnLabel,\n      model,\n      actualValue,\n      handleChange,\n      onClickRoot\n    } = useCheckbox(props, slots);\n    const ns = useNamespace(\"checkbox\");\n    const compKls = computed(() => {\n      return [\n        ns.b(),\n        ns.m(checkboxSize.value),\n        ns.is(\"disabled\", isDisabled.value),\n        ns.is(\"bordered\", props.border),\n        ns.is(\"checked\", isChecked.value)\n      ];\n    });\n    const spanKls = computed(() => {\n      return [\n        ns.e(\"input\"),\n        ns.is(\"disabled\", isDisabled.value),\n        ns.is(\"checked\", isChecked.value),\n        ns.is(\"indeterminate\", props.indeterminate),\n        ns.is(\"focus\", isFocused.value)\n      ];\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(resolveDynamicComponent(!unref(hasOwnLabel) && unref(isLabeledByFormItem) ? \"span\" : \"label\"), {\n        class: normalizeClass(unref(compKls)),\n        \"aria-controls\": _ctx.indeterminate ? _ctx.ariaControls : null,\n        onClick: unref(onClickRoot)\n      }, {\n        default: withCtx(() => {\n          var _a, _b, _c, _d;\n          return [\n            createElementVNode(\"span\", {\n              class: normalizeClass(unref(spanKls))\n            }, [\n              _ctx.trueValue || _ctx.falseValue || _ctx.trueLabel || _ctx.falseLabel ? withDirectives((openBlock(), createElementBlock(\"input\", {\n                key: 0,\n                id: unref(inputId),\n                \"onUpdate:modelValue\": ($event) => isRef(model) ? model.value = $event : null,\n                class: normalizeClass(unref(ns).e(\"original\")),\n                type: \"checkbox\",\n                indeterminate: _ctx.indeterminate,\n                name: _ctx.name,\n                tabindex: _ctx.tabindex,\n                disabled: unref(isDisabled),\n                \"true-value\": (_b = (_a = _ctx.trueValue) != null ? _a : _ctx.trueLabel) != null ? _b : true,\n                \"false-value\": (_d = (_c = _ctx.falseValue) != null ? _c : _ctx.falseLabel) != null ? _d : false,\n                onChange: unref(handleChange),\n                onFocus: ($event) => isFocused.value = true,\n                onBlur: ($event) => isFocused.value = false,\n                onClick: withModifiers(() => {\n                }, [\"stop\"])\n              }, null, 42, [\"id\", \"onUpdate:modelValue\", \"indeterminate\", \"name\", \"tabindex\", \"disabled\", \"true-value\", \"false-value\", \"onChange\", \"onFocus\", \"onBlur\", \"onClick\"])), [\n                [vModelCheckbox, unref(model)]\n              ]) : withDirectives((openBlock(), createElementBlock(\"input\", {\n                key: 1,\n                id: unref(inputId),\n                \"onUpdate:modelValue\": ($event) => isRef(model) ? model.value = $event : null,\n                class: normalizeClass(unref(ns).e(\"original\")),\n                type: \"checkbox\",\n                indeterminate: _ctx.indeterminate,\n                disabled: unref(isDisabled),\n                value: unref(actualValue),\n                name: _ctx.name,\n                tabindex: _ctx.tabindex,\n                onChange: unref(handleChange),\n                onFocus: ($event) => isFocused.value = true,\n                onBlur: ($event) => isFocused.value = false,\n                onClick: withModifiers(() => {\n                }, [\"stop\"])\n              }, null, 42, [\"id\", \"onUpdate:modelValue\", \"indeterminate\", \"disabled\", \"value\", \"name\", \"tabindex\", \"onChange\", \"onFocus\", \"onBlur\", \"onClick\"])), [\n                [vModelCheckbox, unref(model)]\n              ]),\n              createElementVNode(\"span\", {\n                class: normalizeClass(unref(ns).e(\"inner\"))\n              }, null, 2)\n            ], 2),\n            unref(hasOwnLabel) ? (openBlock(), createElementBlock(\"span\", {\n              key: 0,\n              class: normalizeClass(unref(ns).e(\"label\"))\n            }, [\n              renderSlot(_ctx.$slots, \"default\"),\n              !_ctx.$slots.default ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                createTextVNode(toDisplayString(_ctx.label), 1)\n              ], 64)) : createCommentVNode(\"v-if\", true)\n            ], 2)) : createCommentVNode(\"v-if\", true)\n          ];\n        }),\n        _: 3\n      }, 8, [\"class\", \"aria-controls\", \"onClick\"]);\n    };\n  }\n});\nvar Checkbox = /* @__PURE__ */ _export_sfc(_sfc_main$g, [[\"__file\", \"checkbox.vue\"]]);\nconst __default__$e = defineComponent({\n  name: \"ElCheckboxButton\"\n});\nconst _sfc_main$f = /* @__PURE__ */ defineComponent({\n  ...__default__$e,\n  props: checkboxProps,\n  emits: checkboxEmits,\n  setup(__props) {\n    const props = __props;\n    const slots = useSlots();\n    const {\n      isFocused,\n      isChecked,\n      isDisabled,\n      checkboxButtonSize,\n      model,\n      actualValue,\n      handleChange\n    } = useCheckbox(props, slots);\n    const checkboxGroup = inject(checkboxGroupContextKey, void 0);\n    const ns = useNamespace(\"checkbox\");\n    const activeStyle = computed(() => {\n      var _a, _b, _c, _d;\n      const fillValue = (_b = (_a = checkboxGroup == null ? void 0 : checkboxGroup.fill) == null ? void 0 : _a.value) != null ? _b : \"\";\n      return {\n        backgroundColor: fillValue,\n        borderColor: fillValue,\n        color: (_d = (_c = checkboxGroup == null ? void 0 : checkboxGroup.textColor) == null ? void 0 : _c.value) != null ? _d : \"\",\n        boxShadow: fillValue ? `-1px 0 0 0 ${fillValue}` : void 0\n      };\n    });\n    const labelKls = computed(() => {\n      return [\n        ns.b(\"button\"),\n        ns.bm(\"button\", checkboxButtonSize.value),\n        ns.is(\"disabled\", isDisabled.value),\n        ns.is(\"checked\", isChecked.value),\n        ns.is(\"focus\", isFocused.value)\n      ];\n    });\n    return (_ctx, _cache) => {\n      var _a, _b, _c, _d;\n      return openBlock(), createElementBlock(\"label\", {\n        class: normalizeClass(unref(labelKls))\n      }, [\n        _ctx.trueValue || _ctx.falseValue || _ctx.trueLabel || _ctx.falseLabel ? withDirectives((openBlock(), createElementBlock(\"input\", {\n          key: 0,\n          \"onUpdate:modelValue\": ($event) => isRef(model) ? model.value = $event : null,\n          class: normalizeClass(unref(ns).be(\"button\", \"original\")),\n          type: \"checkbox\",\n          name: _ctx.name,\n          tabindex: _ctx.tabindex,\n          disabled: unref(isDisabled),\n          \"true-value\": (_b = (_a = _ctx.trueValue) != null ? _a : _ctx.trueLabel) != null ? _b : true,\n          \"false-value\": (_d = (_c = _ctx.falseValue) != null ? _c : _ctx.falseLabel) != null ? _d : false,\n          onChange: unref(handleChange),\n          onFocus: ($event) => isFocused.value = true,\n          onBlur: ($event) => isFocused.value = false,\n          onClick: withModifiers(() => {\n          }, [\"stop\"])\n        }, null, 42, [\"onUpdate:modelValue\", \"name\", \"tabindex\", \"disabled\", \"true-value\", \"false-value\", \"onChange\", \"onFocus\", \"onBlur\", \"onClick\"])), [\n          [vModelCheckbox, unref(model)]\n        ]) : withDirectives((openBlock(), createElementBlock(\"input\", {\n          key: 1,\n          \"onUpdate:modelValue\": ($event) => isRef(model) ? model.value = $event : null,\n          class: normalizeClass(unref(ns).be(\"button\", \"original\")),\n          type: \"checkbox\",\n          name: _ctx.name,\n          tabindex: _ctx.tabindex,\n          disabled: unref(isDisabled),\n          value: unref(actualValue),\n          onChange: unref(handleChange),\n          onFocus: ($event) => isFocused.value = true,\n          onBlur: ($event) => isFocused.value = false,\n          onClick: withModifiers(() => {\n          }, [\"stop\"])\n        }, null, 42, [\"onUpdate:modelValue\", \"name\", \"tabindex\", \"disabled\", \"value\", \"onChange\", \"onFocus\", \"onBlur\", \"onClick\"])), [\n          [vModelCheckbox, unref(model)]\n        ]),\n        _ctx.$slots.default || _ctx.label ? (openBlock(), createElementBlock(\"span\", {\n          key: 2,\n          class: normalizeClass(unref(ns).be(\"button\", \"inner\")),\n          style: normalizeStyle(unref(isChecked) ? unref(activeStyle) : void 0)\n        }, [\n          renderSlot(_ctx.$slots, \"default\", {}, () => [\n            createTextVNode(toDisplayString(_ctx.label), 1)\n          ])\n        ], 6)) : createCommentVNode(\"v-if\", true)\n      ], 2);\n    };\n  }\n});\nvar CheckboxButton = /* @__PURE__ */ _export_sfc(_sfc_main$f, [[\"__file\", \"checkbox-button.vue\"]]);\nconst checkboxGroupProps = buildProps({\n  modelValue: {\n    type: definePropType(Array),\n    default: () => []\n  },\n  disabled: Boolean,\n  min: Number,\n  max: Number,\n  size: useSizeProp,\n  fill: String,\n  textColor: String,\n  tag: {\n    type: String,\n    default: \"div\"\n  },\n  validateEvent: {\n    type: Boolean,\n    default: true\n  },\n  ...useAriaProps([\"ariaLabel\"])\n});\nconst checkboxGroupEmits = {\n  [UPDATE_MODEL_EVENT]: (val) => isArray(val),\n  change: (val) => isArray(val)\n};\nconst __default__$d = defineComponent({\n  name: \"ElCheckboxGroup\"\n});\nconst _sfc_main$e = /* @__PURE__ */ defineComponent({\n  ...__default__$d,\n  props: checkboxGroupProps,\n  emits: checkboxGroupEmits,\n  setup(__props, { emit }) {\n    const props = __props;\n    const ns = useNamespace(\"checkbox\");\n    const { formItem } = useFormItem();\n    const { inputId: groupId, isLabeledByFormItem } = useFormItemInputId(props, {\n      formItemContext: formItem\n    });\n    const changeEvent = async (value) => {\n      emit(UPDATE_MODEL_EVENT, value);\n      await nextTick();\n      emit(CHANGE_EVENT, value);\n    };\n    const modelValue = computed({\n      get() {\n        return props.modelValue;\n      },\n      set(val) {\n        changeEvent(val);\n      }\n    });\n    provide(checkboxGroupContextKey, {\n      ...pick(toRefs(props), [\n        \"size\",\n        \"min\",\n        \"max\",\n        \"disabled\",\n        \"validateEvent\",\n        \"fill\",\n        \"textColor\"\n      ]),\n      modelValue,\n      changeEvent\n    });\n    watch(() => props.modelValue, () => {\n      if (props.validateEvent) {\n        formItem == null ? void 0 : formItem.validate(\"change\").catch((err) => debugWarn(err));\n      }\n    });\n    return (_ctx, _cache) => {\n      var _a;\n      return openBlock(), createBlock(resolveDynamicComponent(_ctx.tag), {\n        id: unref(groupId),\n        class: normalizeClass(unref(ns).b(\"group\")),\n        role: \"group\",\n        \"aria-label\": !unref(isLabeledByFormItem) ? _ctx.ariaLabel || \"checkbox-group\" : void 0,\n        \"aria-labelledby\": unref(isLabeledByFormItem) ? (_a = unref(formItem)) == null ? void 0 : _a.labelId : void 0\n      }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 8, [\"id\", \"class\", \"aria-label\", \"aria-labelledby\"]);\n    };\n  }\n});\nvar CheckboxGroup = /* @__PURE__ */ _export_sfc(_sfc_main$e, [[\"__file\", \"checkbox-group.vue\"]]);\nconst ElCheckbox = withInstall(Checkbox, {\n  CheckboxButton,\n  CheckboxGroup\n});\nwithNoopInstall(CheckboxButton);\nconst ElCheckboxGroup = withNoopInstall(CheckboxGroup);\nconst tagProps = buildProps({\n  type: {\n    type: String,\n    values: [\"primary\", \"success\", \"info\", \"warning\", \"danger\"],\n    default: \"primary\"\n  },\n  closable: Boolean,\n  disableTransitions: Boolean,\n  hit: Boolean,\n  color: String,\n  size: {\n    type: String,\n    values: componentSizes\n  },\n  effect: {\n    type: String,\n    values: [\"dark\", \"light\", \"plain\"],\n    default: \"light\"\n  },\n  round: Boolean\n});\nconst tagEmits = {\n  close: (evt) => evt instanceof MouseEvent,\n  click: (evt) => evt instanceof MouseEvent\n};\nconst __default__$c = defineComponent({\n  name: \"ElTag\"\n});\nconst _sfc_main$d = /* @__PURE__ */ defineComponent({\n  ...__default__$c,\n  props: tagProps,\n  emits: tagEmits,\n  setup(__props, { emit }) {\n    const props = __props;\n    const tagSize = useFormSize();\n    const ns = useNamespace(\"tag\");\n    const containerKls = computed(() => {\n      const { type, hit, effect, closable, round } = props;\n      return [\n        ns.b(),\n        ns.is(\"closable\", closable),\n        ns.m(type || \"primary\"),\n        ns.m(tagSize.value),\n        ns.m(effect),\n        ns.is(\"hit\", hit),\n        ns.is(\"round\", round)\n      ];\n    });\n    const handleClose = (event) => {\n      emit(\"close\", event);\n    };\n    const handleClick = (event) => {\n      emit(\"click\", event);\n    };\n    const handleVNodeMounted = (vnode) => {\n      var _a, _b, _c;\n      if ((_c = (_b = (_a = vnode == null ? void 0 : vnode.component) == null ? void 0 : _a.subTree) == null ? void 0 : _b.component) == null ? void 0 : _c.bum) {\n        vnode.component.subTree.component.bum = null;\n      }\n    };\n    return (_ctx, _cache) => {\n      return _ctx.disableTransitions ? (openBlock(), createElementBlock(\"span\", {\n        key: 0,\n        class: normalizeClass(unref(containerKls)),\n        style: normalizeStyle({ backgroundColor: _ctx.color }),\n        onClick: handleClick\n      }, [\n        createElementVNode(\"span\", {\n          class: normalizeClass(unref(ns).e(\"content\"))\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 2),\n        _ctx.closable ? (openBlock(), createBlock(unref(ElIcon), {\n          key: 0,\n          class: normalizeClass(unref(ns).e(\"close\")),\n          onClick: withModifiers(handleClose, [\"stop\"])\n        }, {\n          default: withCtx(() => [\n            createVNode(unref(close_default))\n          ]),\n          _: 1\n        }, 8, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true)\n      ], 6)) : (openBlock(), createBlock(Transition, {\n        key: 1,\n        name: `${unref(ns).namespace.value}-zoom-in-center`,\n        appear: \"\",\n        onVnodeMounted: handleVNodeMounted\n      }, {\n        default: withCtx(() => [\n          createElementVNode(\"span\", {\n            class: normalizeClass(unref(containerKls)),\n            style: normalizeStyle({ backgroundColor: _ctx.color }),\n            onClick: handleClick\n          }, [\n            createElementVNode(\"span\", {\n              class: normalizeClass(unref(ns).e(\"content\"))\n            }, [\n              renderSlot(_ctx.$slots, \"default\")\n            ], 2),\n            _ctx.closable ? (openBlock(), createBlock(unref(ElIcon), {\n              key: 0,\n              class: normalizeClass(unref(ns).e(\"close\")),\n              onClick: withModifiers(handleClose, [\"stop\"])\n            }, {\n              default: withCtx(() => [\n                createVNode(unref(close_default))\n              ]),\n              _: 1\n            }, 8, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true)\n          ], 6)\n        ]),\n        _: 3\n      }, 8, [\"name\"]));\n    };\n  }\n});\nvar Tag = /* @__PURE__ */ _export_sfc(_sfc_main$d, [[\"__file\", \"tag.vue\"]]);\nconst ElTag = withInstall(Tag);\nconst isInContainer = (el, container) => {\n  if (!isClient || !el || !container)\n    return false;\n  const elRect = el.getBoundingClientRect();\n  let containerRect;\n  if (container instanceof Element) {\n    containerRect = container.getBoundingClientRect();\n  } else {\n    containerRect = {\n      top: 0,\n      right: window.innerWidth,\n      bottom: window.innerHeight,\n      left: 0\n    };\n  }\n  return elRect.top < containerRect.bottom && elRect.bottom > containerRect.top && elRect.right > containerRect.left && elRect.left < containerRect.right;\n};\nconst configProviderProps = buildProps({\n  a11y: {\n    type: Boolean,\n    default: true\n  },\n  locale: {\n    type: definePropType(Object)\n  },\n  size: useSizeProp,\n  button: {\n    type: definePropType(Object)\n  },\n  experimentalFeatures: {\n    type: definePropType(Object)\n  },\n  keyboardNavigation: {\n    type: Boolean,\n    default: true\n  },\n  message: {\n    type: definePropType(Object)\n  },\n  zIndex: Number,\n  namespace: {\n    type: String,\n    default: \"el\"\n  },\n  ...useEmptyValuesProps\n});\nconst messageConfig = {};\ndefineComponent({\n  name: \"ElConfigProvider\",\n  props: configProviderProps,\n  setup(props, { slots }) {\n    watch(() => props.message, (val) => {\n      Object.assign(messageConfig, val != null ? val : {});\n    }, { immediate: true, deep: true });\n    const config = provideGlobalConfig(props);\n    return () => renderSlot(slots, \"default\", { config: config == null ? void 0 : config.value });\n  }\n});\nconst useSameTarget = (handleClick) => {\n  if (!handleClick) {\n    return { onClick: NOOP, onMousedown: NOOP, onMouseup: NOOP };\n  }\n  let mousedownTarget = false;\n  let mouseupTarget = false;\n  const onClick = (e) => {\n    if (mousedownTarget && mouseupTarget) {\n      handleClick(e);\n    }\n    mousedownTarget = mouseupTarget = false;\n  };\n  const onMousedown = (e) => {\n    mousedownTarget = e.target === e.currentTarget;\n  };\n  const onMouseup = (e) => {\n    mouseupTarget = e.target === e.currentTarget;\n  };\n  return { onClick, onMousedown, onMouseup };\n};\nconst overlayProps = buildProps({\n  mask: {\n    type: Boolean,\n    default: true\n  },\n  customMaskEvent: Boolean,\n  overlayClass: {\n    type: definePropType([\n      String,\n      Array,\n      Object\n    ])\n  },\n  zIndex: {\n    type: definePropType([String, Number])\n  }\n});\nconst overlayEmits = {\n  click: (evt) => evt instanceof MouseEvent\n};\nconst BLOCK = \"overlay\";\nvar Overlay = defineComponent({\n  name: \"ElOverlay\",\n  props: overlayProps,\n  emits: overlayEmits,\n  setup(props, { slots, emit }) {\n    const ns = useNamespace(BLOCK);\n    const onMaskClick = (e) => {\n      emit(\"click\", e);\n    };\n    const { onClick, onMousedown, onMouseup } = useSameTarget(props.customMaskEvent ? void 0 : onMaskClick);\n    return () => {\n      return props.mask ? createVNode(\"div\", {\n        class: [ns.b(), props.overlayClass],\n        style: {\n          zIndex: props.zIndex\n        },\n        onClick,\n        onMousedown,\n        onMouseup\n      }, [renderSlot(slots, \"default\")], PatchFlags.STYLE | PatchFlags.CLASS | PatchFlags.PROPS, [\"onClick\", \"onMouseup\", \"onMousedown\"]) : h(\"div\", {\n        class: props.overlayClass,\n        style: {\n          zIndex: props.zIndex,\n          position: \"fixed\",\n          top: \"0px\",\n          right: \"0px\",\n          bottom: \"0px\",\n          left: \"0px\"\n        }\n      }, [renderSlot(slots, \"default\")]);\n    };\n  }\n});\nconst ElOverlay = Overlay;\nconst dialogInjectionKey = Symbol(\"dialogInjectionKey\");\nconst dialogContentProps = buildProps({\n  center: Boolean,\n  alignCenter: Boolean,\n  closeIcon: {\n    type: iconPropType\n  },\n  draggable: Boolean,\n  overflow: Boolean,\n  fullscreen: Boolean,\n  headerClass: String,\n  bodyClass: String,\n  footerClass: String,\n  showClose: {\n    type: Boolean,\n    default: true\n  },\n  title: {\n    type: String,\n    default: \"\"\n  },\n  ariaLevel: {\n    type: String,\n    default: \"2\"\n  }\n});\nconst dialogContentEmits = {\n  close: () => true\n};\nconst useDraggable = (targetRef, dragRef, draggable, overflow) => {\n  const transform = {\n    offsetX: 0,\n    offsetY: 0\n  };\n  const adjustPosition = (moveX, moveY) => {\n    if (targetRef.value) {\n      const { offsetX, offsetY } = transform;\n      const targetRect = targetRef.value.getBoundingClientRect();\n      const targetLeft = targetRect.left;\n      const targetTop = targetRect.top;\n      const targetWidth = targetRect.width;\n      const targetHeight = targetRect.height;\n      const clientWidth = document.documentElement.clientWidth;\n      const clientHeight = document.documentElement.clientHeight;\n      const minLeft = -targetLeft + offsetX;\n      const minTop = -targetTop + offsetY;\n      const maxLeft = clientWidth - targetLeft - targetWidth + offsetX;\n      const maxTop = clientHeight - targetTop - targetHeight + offsetY;\n      if (!(overflow == null ? void 0 : overflow.value)) {\n        moveX = Math.min(Math.max(moveX, minLeft), maxLeft);\n        moveY = Math.min(Math.max(moveY, minTop), maxTop);\n      }\n      transform.offsetX = moveX;\n      transform.offsetY = moveY;\n      targetRef.value.style.transform = `translate(${addUnit(moveX)}, ${addUnit(moveY)})`;\n    }\n  };\n  const onMousedown = (e) => {\n    const downX = e.clientX;\n    const downY = e.clientY;\n    const { offsetX, offsetY } = transform;\n    const onMousemove = (e2) => {\n      const moveX = offsetX + e2.clientX - downX;\n      const moveY = offsetY + e2.clientY - downY;\n      adjustPosition(moveX, moveY);\n    };\n    const onMouseup = () => {\n      document.removeEventListener(\"mousemove\", onMousemove);\n      document.removeEventListener(\"mouseup\", onMouseup);\n    };\n    document.addEventListener(\"mousemove\", onMousemove);\n    document.addEventListener(\"mouseup\", onMouseup);\n  };\n  const onDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.addEventListener(\"mousedown\", onMousedown);\n      window.addEventListener(\"resize\", updatePosition);\n    }\n  };\n  const offDraggable = () => {\n    if (dragRef.value && targetRef.value) {\n      dragRef.value.removeEventListener(\"mousedown\", onMousedown);\n      window.removeEventListener(\"resize\", updatePosition);\n    }\n  };\n  const resetPosition = () => {\n    transform.offsetX = 0;\n    transform.offsetY = 0;\n    if (targetRef.value) {\n      targetRef.value.style.transform = \"\";\n    }\n  };\n  const updatePosition = () => {\n    const { offsetX, offsetY } = transform;\n    adjustPosition(offsetX, offsetY);\n  };\n  onMounted(() => {\n    watchEffect(() => {\n      if (draggable.value) {\n        onDraggable();\n      } else {\n        offDraggable();\n      }\n    });\n  });\n  onBeforeUnmount(() => {\n    offDraggable();\n  });\n  return {\n    resetPosition,\n    updatePosition\n  };\n};\nconst composeRefs = (...refs) => {\n  return (el) => {\n    refs.forEach((ref2) => {\n      if (isFunction(ref2)) {\n        ref2(el);\n      } else {\n        ref2.value = el;\n      }\n    });\n  };\n};\nconst __default__$b = defineComponent({ name: \"ElDialogContent\" });\nconst _sfc_main$c = /* @__PURE__ */ defineComponent({\n  ...__default__$b,\n  props: dialogContentProps,\n  emits: dialogContentEmits,\n  setup(__props, { expose }) {\n    const props = __props;\n    const { t } = useLocale();\n    const { Close } = CloseComponents;\n    const { dialogRef, headerRef, bodyId, ns, style } = inject(dialogInjectionKey);\n    const { focusTrapRef } = inject(FOCUS_TRAP_INJECTION_KEY);\n    const dialogKls = computed(() => [\n      ns.b(),\n      ns.is(\"fullscreen\", props.fullscreen),\n      ns.is(\"draggable\", props.draggable),\n      ns.is(\"align-center\", props.alignCenter),\n      { [ns.m(\"center\")]: props.center }\n    ]);\n    const composedDialogRef = composeRefs(focusTrapRef, dialogRef);\n    const draggable = computed(() => props.draggable);\n    const overflow = computed(() => props.overflow);\n    const { resetPosition, updatePosition } = useDraggable(dialogRef, headerRef, draggable, overflow);\n    expose({\n      resetPosition,\n      updatePosition\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref: unref(composedDialogRef),\n        class: normalizeClass(unref(dialogKls)),\n        style: normalizeStyle(unref(style)),\n        tabindex: \"-1\"\n      }, [\n        createElementVNode(\"header\", {\n          ref_key: \"headerRef\",\n          ref: headerRef,\n          class: normalizeClass([unref(ns).e(\"header\"), _ctx.headerClass, { \"show-close\": _ctx.showClose }])\n        }, [\n          renderSlot(_ctx.$slots, \"header\", {}, () => [\n            createElementVNode(\"span\", {\n              role: \"heading\",\n              \"aria-level\": _ctx.ariaLevel,\n              class: normalizeClass(unref(ns).e(\"title\"))\n            }, toDisplayString(_ctx.title), 11, [\"aria-level\"])\n          ]),\n          _ctx.showClose ? (openBlock(), createElementBlock(\"button\", {\n            key: 0,\n            \"aria-label\": unref(t)(\"el.dialog.close\"),\n            class: normalizeClass(unref(ns).e(\"headerbtn\")),\n            type: \"button\",\n            onClick: ($event) => _ctx.$emit(\"close\")\n          }, [\n            createVNode(unref(ElIcon), {\n              class: normalizeClass(unref(ns).e(\"close\"))\n            }, {\n              default: withCtx(() => [\n                (openBlock(), createBlock(resolveDynamicComponent(_ctx.closeIcon || unref(Close))))\n              ]),\n              _: 1\n            }, 8, [\"class\"])\n          ], 10, [\"aria-label\", \"onClick\"])) : createCommentVNode(\"v-if\", true)\n        ], 2),\n        createElementVNode(\"div\", {\n          id: unref(bodyId),\n          class: normalizeClass([unref(ns).e(\"body\"), _ctx.bodyClass])\n        }, [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 10, [\"id\"]),\n        _ctx.$slots.footer ? (openBlock(), createElementBlock(\"footer\", {\n          key: 0,\n          class: normalizeClass([unref(ns).e(\"footer\"), _ctx.footerClass])\n        }, [\n          renderSlot(_ctx.$slots, \"footer\")\n        ], 2)) : createCommentVNode(\"v-if\", true)\n      ], 6);\n    };\n  }\n});\nvar ElDialogContent = /* @__PURE__ */ _export_sfc(_sfc_main$c, [[\"__file\", \"dialog-content.vue\"]]);\nconst dialogProps = buildProps({\n  ...dialogContentProps,\n  appendToBody: Boolean,\n  appendTo: {\n    type: teleportProps.to.type,\n    default: \"body\"\n  },\n  beforeClose: {\n    type: definePropType(Function)\n  },\n  destroyOnClose: Boolean,\n  closeOnClickModal: {\n    type: Boolean,\n    default: true\n  },\n  closeOnPressEscape: {\n    type: Boolean,\n    default: true\n  },\n  lockScroll: {\n    type: Boolean,\n    default: true\n  },\n  modal: {\n    type: Boolean,\n    default: true\n  },\n  openDelay: {\n    type: Number,\n    default: 0\n  },\n  closeDelay: {\n    type: Number,\n    default: 0\n  },\n  top: {\n    type: String\n  },\n  modelValue: Boolean,\n  modalClass: String,\n  headerClass: String,\n  bodyClass: String,\n  footerClass: String,\n  width: {\n    type: [String, Number]\n  },\n  zIndex: {\n    type: Number\n  },\n  trapFocus: Boolean,\n  headerAriaLevel: {\n    type: String,\n    default: \"2\"\n  }\n});\nconst dialogEmits = {\n  open: () => true,\n  opened: () => true,\n  close: () => true,\n  closed: () => true,\n  [UPDATE_MODEL_EVENT]: (value) => isBoolean(value),\n  openAutoFocus: () => true,\n  closeAutoFocus: () => true\n};\nconst useLockscreen = (trigger, options = {}) => {\n  if (!isRef(trigger)) {\n    throwError(\"[useLockscreen]\", \"You need to pass a ref param to this function\");\n  }\n  const ns = options.ns || useNamespace(\"popup\");\n  const hiddenCls = computed(() => ns.bm(\"parent\", \"hidden\"));\n  if (!isClient || hasClass(document.body, hiddenCls.value)) {\n    return;\n  }\n  let scrollBarWidth2 = 0;\n  let withoutHiddenClass = false;\n  let bodyWidth = \"0\";\n  const cleanup = () => {\n    setTimeout(() => {\n      if (typeof document === \"undefined\")\n        return;\n      if (withoutHiddenClass && document) {\n        document.body.style.width = bodyWidth;\n        removeClass(document.body, hiddenCls.value);\n      }\n    }, 200);\n  };\n  watch(trigger, (val) => {\n    if (!val) {\n      cleanup();\n      return;\n    }\n    withoutHiddenClass = !hasClass(document.body, hiddenCls.value);\n    if (withoutHiddenClass) {\n      bodyWidth = document.body.style.width;\n      addClass(document.body, hiddenCls.value);\n    }\n    scrollBarWidth2 = getScrollBarWidth(ns.namespace.value);\n    const bodyHasOverflow = document.documentElement.clientHeight < document.body.scrollHeight;\n    const bodyOverflowY = getStyle(document.body, \"overflowY\");\n    if (scrollBarWidth2 > 0 && (bodyHasOverflow || bodyOverflowY === \"scroll\") && withoutHiddenClass) {\n      document.body.style.width = `calc(100% - ${scrollBarWidth2}px)`;\n    }\n  });\n  onScopeDispose(() => cleanup());\n};\nconst useDialog = (props, targetRef) => {\n  var _a;\n  const instance = getCurrentInstance();\n  const emit = instance.emit;\n  const { nextZIndex } = useZIndex();\n  let lastPosition = \"\";\n  const titleId = useId();\n  const bodyId = useId();\n  const visible = ref(false);\n  const closed = ref(false);\n  const rendered = ref(false);\n  const zIndex2 = ref((_a = props.zIndex) != null ? _a : nextZIndex());\n  let openTimer = void 0;\n  let closeTimer = void 0;\n  const namespace = useGlobalConfig(\"namespace\", defaultNamespace);\n  const style = computed(() => {\n    const style2 = {};\n    const varPrefix = `--${namespace.value}-dialog`;\n    if (!props.fullscreen) {\n      if (props.top) {\n        style2[`${varPrefix}-margin-top`] = props.top;\n      }\n      if (props.width) {\n        style2[`${varPrefix}-width`] = addUnit(props.width);\n      }\n    }\n    return style2;\n  });\n  const overlayDialogStyle = computed(() => {\n    if (props.alignCenter) {\n      return { display: \"flex\" };\n    }\n    return {};\n  });\n  function afterEnter() {\n    emit(\"opened\");\n  }\n  function afterLeave() {\n    emit(\"closed\");\n    emit(UPDATE_MODEL_EVENT, false);\n    if (props.destroyOnClose) {\n      rendered.value = false;\n    }\n  }\n  function beforeLeave() {\n    emit(\"close\");\n  }\n  function open() {\n    closeTimer == null ? void 0 : closeTimer();\n    openTimer == null ? void 0 : openTimer();\n    if (props.openDelay && props.openDelay > 0) {\n      ({ stop: openTimer } = useTimeoutFn(() => doOpen(), props.openDelay));\n    } else {\n      doOpen();\n    }\n  }\n  function close() {\n    openTimer == null ? void 0 : openTimer();\n    closeTimer == null ? void 0 : closeTimer();\n    if (props.closeDelay && props.closeDelay > 0) {\n      ({ stop: closeTimer } = useTimeoutFn(() => doClose(), props.closeDelay));\n    } else {\n      doClose();\n    }\n  }\n  function handleClose() {\n    function hide(shouldCancel) {\n      if (shouldCancel)\n        return;\n      closed.value = true;\n      visible.value = false;\n    }\n    if (props.beforeClose) {\n      props.beforeClose(hide);\n    } else {\n      close();\n    }\n  }\n  function onModalClick() {\n    if (props.closeOnClickModal) {\n      handleClose();\n    }\n  }\n  function doOpen() {\n    if (!isClient)\n      return;\n    visible.value = true;\n  }\n  function doClose() {\n    visible.value = false;\n  }\n  function onOpenAutoFocus() {\n    emit(\"openAutoFocus\");\n  }\n  function onCloseAutoFocus() {\n    emit(\"closeAutoFocus\");\n  }\n  function onFocusoutPrevented(event) {\n    var _a2;\n    if (((_a2 = event.detail) == null ? void 0 : _a2.focusReason) === \"pointer\") {\n      event.preventDefault();\n    }\n  }\n  if (props.lockScroll) {\n    useLockscreen(visible);\n  }\n  function onCloseRequested() {\n    if (props.closeOnPressEscape) {\n      handleClose();\n    }\n  }\n  watch(() => props.modelValue, (val) => {\n    if (val) {\n      closed.value = false;\n      open();\n      rendered.value = true;\n      zIndex2.value = isUndefined$1(props.zIndex) ? nextZIndex() : zIndex2.value++;\n      nextTick(() => {\n        emit(\"open\");\n        if (targetRef.value) {\n          targetRef.value.parentElement.scrollTop = 0;\n          targetRef.value.parentElement.scrollLeft = 0;\n          targetRef.value.scrollTop = 0;\n        }\n      });\n    } else {\n      if (visible.value) {\n        close();\n      }\n    }\n  });\n  watch(() => props.fullscreen, (val) => {\n    if (!targetRef.value)\n      return;\n    if (val) {\n      lastPosition = targetRef.value.style.transform;\n      targetRef.value.style.transform = \"\";\n    } else {\n      targetRef.value.style.transform = lastPosition;\n    }\n  });\n  onMounted(() => {\n    if (props.modelValue) {\n      visible.value = true;\n      rendered.value = true;\n      open();\n    }\n  });\n  return {\n    afterEnter,\n    afterLeave,\n    beforeLeave,\n    handleClose,\n    onModalClick,\n    close,\n    doClose,\n    onOpenAutoFocus,\n    onCloseAutoFocus,\n    onCloseRequested,\n    onFocusoutPrevented,\n    titleId,\n    bodyId,\n    closed,\n    style,\n    overlayDialogStyle,\n    rendered,\n    visible,\n    zIndex: zIndex2\n  };\n};\nconst __default__$a = defineComponent({\n  name: \"ElDialog\",\n  inheritAttrs: false\n});\nconst _sfc_main$b = /* @__PURE__ */ defineComponent({\n  ...__default__$a,\n  props: dialogProps,\n  emits: dialogEmits,\n  setup(__props, { expose }) {\n    const props = __props;\n    const slots = useSlots();\n    useDeprecated({\n      scope: \"el-dialog\",\n      from: \"the title slot\",\n      replacement: \"the header slot\",\n      version: \"3.0.0\",\n      ref: \"https://element-plus.org/en-US/component/dialog.html#slots\"\n    }, computed(() => !!slots.title));\n    const ns = useNamespace(\"dialog\");\n    const dialogRef = ref();\n    const headerRef = ref();\n    const dialogContentRef = ref();\n    const {\n      visible,\n      titleId,\n      bodyId,\n      style,\n      overlayDialogStyle,\n      rendered,\n      zIndex: zIndex2,\n      afterEnter,\n      afterLeave,\n      beforeLeave,\n      handleClose,\n      onModalClick,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      onCloseRequested,\n      onFocusoutPrevented\n    } = useDialog(props, dialogRef);\n    provide(dialogInjectionKey, {\n      dialogRef,\n      headerRef,\n      bodyId,\n      ns,\n      rendered,\n      style\n    });\n    const overlayEvent = useSameTarget(onModalClick);\n    const draggable = computed(() => props.draggable && !props.fullscreen);\n    const resetPosition = () => {\n      var _a;\n      (_a = dialogContentRef.value) == null ? void 0 : _a.resetPosition();\n    };\n    expose({\n      visible,\n      dialogContentRef,\n      resetPosition,\n      handleClose\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElTeleport), {\n        to: _ctx.appendTo,\n        disabled: _ctx.appendTo !== \"body\" ? false : !_ctx.appendToBody\n      }, {\n        default: withCtx(() => [\n          createVNode(Transition, {\n            name: \"dialog-fade\",\n            onAfterEnter: unref(afterEnter),\n            onAfterLeave: unref(afterLeave),\n            onBeforeLeave: unref(beforeLeave),\n            persisted: \"\"\n          }, {\n            default: withCtx(() => [\n              withDirectives(createVNode(unref(ElOverlay), {\n                \"custom-mask-event\": \"\",\n                mask: _ctx.modal,\n                \"overlay-class\": _ctx.modalClass,\n                \"z-index\": unref(zIndex2)\n              }, {\n                default: withCtx(() => [\n                  createElementVNode(\"div\", {\n                    role: \"dialog\",\n                    \"aria-modal\": \"true\",\n                    \"aria-label\": _ctx.title || void 0,\n                    \"aria-labelledby\": !_ctx.title ? unref(titleId) : void 0,\n                    \"aria-describedby\": unref(bodyId),\n                    class: normalizeClass(`${unref(ns).namespace.value}-overlay-dialog`),\n                    style: normalizeStyle(unref(overlayDialogStyle)),\n                    onClick: unref(overlayEvent).onClick,\n                    onMousedown: unref(overlayEvent).onMousedown,\n                    onMouseup: unref(overlayEvent).onMouseup\n                  }, [\n                    createVNode(unref(ElFocusTrap), {\n                      loop: \"\",\n                      trapped: unref(visible),\n                      \"focus-start-el\": \"container\",\n                      onFocusAfterTrapped: unref(onOpenAutoFocus),\n                      onFocusAfterReleased: unref(onCloseAutoFocus),\n                      onFocusoutPrevented: unref(onFocusoutPrevented),\n                      onReleaseRequested: unref(onCloseRequested)\n                    }, {\n                      default: withCtx(() => [\n                        unref(rendered) ? (openBlock(), createBlock(ElDialogContent, mergeProps({\n                          key: 0,\n                          ref_key: \"dialogContentRef\",\n                          ref: dialogContentRef\n                        }, _ctx.$attrs, {\n                          center: _ctx.center,\n                          \"align-center\": _ctx.alignCenter,\n                          \"close-icon\": _ctx.closeIcon,\n                          draggable: unref(draggable),\n                          overflow: _ctx.overflow,\n                          fullscreen: _ctx.fullscreen,\n                          \"header-class\": _ctx.headerClass,\n                          \"body-class\": _ctx.bodyClass,\n                          \"footer-class\": _ctx.footerClass,\n                          \"show-close\": _ctx.showClose,\n                          title: _ctx.title,\n                          \"aria-level\": _ctx.headerAriaLevel,\n                          onClose: unref(handleClose)\n                        }), createSlots({\n                          header: withCtx(() => [\n                            !_ctx.$slots.title ? renderSlot(_ctx.$slots, \"header\", {\n                              key: 0,\n                              close: unref(handleClose),\n                              titleId: unref(titleId),\n                              titleClass: unref(ns).e(\"title\")\n                            }) : renderSlot(_ctx.$slots, \"title\", { key: 1 })\n                          ]),\n                          default: withCtx(() => [\n                            renderSlot(_ctx.$slots, \"default\")\n                          ]),\n                          _: 2\n                        }, [\n                          _ctx.$slots.footer ? {\n                            name: \"footer\",\n                            fn: withCtx(() => [\n                              renderSlot(_ctx.$slots, \"footer\")\n                            ])\n                          } : void 0\n                        ]), 1040, [\"center\", \"align-center\", \"close-icon\", \"draggable\", \"overflow\", \"fullscreen\", \"header-class\", \"body-class\", \"footer-class\", \"show-close\", \"title\", \"aria-level\", \"onClose\"])) : createCommentVNode(\"v-if\", true)\n                      ]),\n                      _: 3\n                    }, 8, [\"trapped\", \"onFocusAfterTrapped\", \"onFocusAfterReleased\", \"onFocusoutPrevented\", \"onReleaseRequested\"])\n                  ], 46, [\"aria-label\", \"aria-labelledby\", \"aria-describedby\", \"onClick\", \"onMousedown\", \"onMouseup\"])\n                ]),\n                _: 3\n              }, 8, [\"mask\", \"overlay-class\", \"z-index\"]), [\n                [vShow, unref(visible)]\n              ])\n            ]),\n            _: 3\n          }, 8, [\"onAfterEnter\", \"onAfterLeave\", \"onBeforeLeave\"])\n        ]),\n        _: 3\n      }, 8, [\"to\", \"disabled\"]);\n    };\n  }\n});\nvar Dialog = /* @__PURE__ */ _export_sfc(_sfc_main$b, [[\"__file\", \"dialog.vue\"]]);\nconst ElDialog = withInstall(Dialog);\nconst formMetaProps = buildProps({\n  size: {\n    type: String,\n    values: componentSizes\n  },\n  disabled: Boolean\n});\nconst formProps = buildProps({\n  ...formMetaProps,\n  model: Object,\n  rules: {\n    type: definePropType(Object)\n  },\n  labelPosition: {\n    type: String,\n    values: [\"left\", \"right\", \"top\"],\n    default: \"right\"\n  },\n  requireAsteriskPosition: {\n    type: String,\n    values: [\"left\", \"right\"],\n    default: \"left\"\n  },\n  labelWidth: {\n    type: [String, Number],\n    default: \"\"\n  },\n  labelSuffix: {\n    type: String,\n    default: \"\"\n  },\n  inline: Boolean,\n  inlineMessage: Boolean,\n  statusIcon: Boolean,\n  showMessage: {\n    type: Boolean,\n    default: true\n  },\n  validateOnRuleChange: {\n    type: Boolean,\n    default: true\n  },\n  hideRequiredAsterisk: Boolean,\n  scrollToError: Boolean,\n  scrollIntoViewOptions: {\n    type: [Object, Boolean]\n  }\n});\nconst formEmits = {\n  validate: (prop, isValid, message2) => (isArray(prop) || isString(prop)) && isBoolean(isValid) && isString(message2)\n};\nconst SCOPE$2 = \"ElForm\";\nfunction useFormLabelWidth() {\n  const potentialLabelWidthArr = ref([]);\n  const autoLabelWidth = computed(() => {\n    if (!potentialLabelWidthArr.value.length)\n      return \"0\";\n    const max = Math.max(...potentialLabelWidthArr.value);\n    return max ? `${max}px` : \"\";\n  });\n  function getLabelWidthIndex(width) {\n    const index = potentialLabelWidthArr.value.indexOf(width);\n    if (index === -1 && autoLabelWidth.value === \"0\") {\n      debugWarn(SCOPE$2, `unexpected width ${width}`);\n    }\n    return index;\n  }\n  function registerLabelWidth(val, oldVal) {\n    if (val && oldVal) {\n      const index = getLabelWidthIndex(oldVal);\n      potentialLabelWidthArr.value.splice(index, 1, val);\n    } else if (val) {\n      potentialLabelWidthArr.value.push(val);\n    }\n  }\n  function deregisterLabelWidth(val) {\n    const index = getLabelWidthIndex(val);\n    if (index > -1) {\n      potentialLabelWidthArr.value.splice(index, 1);\n    }\n  }\n  return {\n    autoLabelWidth,\n    registerLabelWidth,\n    deregisterLabelWidth\n  };\n}\nconst filterFields = (fields, props) => {\n  const normalized = castArray(props);\n  return normalized.length > 0 ? fields.filter((field) => field.prop && normalized.includes(field.prop)) : fields;\n};\nconst COMPONENT_NAME$2 = \"ElForm\";\nconst __default__$9 = defineComponent({\n  name: COMPONENT_NAME$2\n});\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  ...__default__$9,\n  props: formProps,\n  emits: formEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const fields = reactive([]);\n    const formSize = useFormSize();\n    const ns = useNamespace(\"form\");\n    const formClasses = computed(() => {\n      const { labelPosition, inline } = props;\n      return [\n        ns.b(),\n        ns.m(formSize.value || \"default\"),\n        {\n          [ns.m(`label-${labelPosition}`)]: labelPosition,\n          [ns.m(\"inline\")]: inline\n        }\n      ];\n    });\n    const getField = (prop) => {\n      return fields.find((field) => field.prop === prop);\n    };\n    const addField = (field) => {\n      fields.push(field);\n    };\n    const removeField = (field) => {\n      if (field.prop) {\n        fields.splice(fields.indexOf(field), 1);\n      }\n    };\n    const resetFields = (properties = []) => {\n      if (!props.model) {\n        debugWarn(COMPONENT_NAME$2, \"model is required for resetFields to work.\");\n        return;\n      }\n      filterFields(fields, properties).forEach((field) => field.resetField());\n    };\n    const clearValidate = (props2 = []) => {\n      filterFields(fields, props2).forEach((field) => field.clearValidate());\n    };\n    const isValidatable = computed(() => {\n      const hasModel = !!props.model;\n      if (!hasModel) {\n        debugWarn(COMPONENT_NAME$2, \"model is required for validate to work.\");\n      }\n      return hasModel;\n    });\n    const obtainValidateFields = (props2) => {\n      if (fields.length === 0)\n        return [];\n      const filteredFields = filterFields(fields, props2);\n      if (!filteredFields.length) {\n        debugWarn(COMPONENT_NAME$2, \"please pass correct props!\");\n        return [];\n      }\n      return filteredFields;\n    };\n    const validate = async (callback) => validateField(void 0, callback);\n    const doValidateField = async (props2 = []) => {\n      if (!isValidatable.value)\n        return false;\n      const fields2 = obtainValidateFields(props2);\n      if (fields2.length === 0)\n        return true;\n      let validationErrors = {};\n      for (const field of fields2) {\n        try {\n          await field.validate(\"\");\n          if (field.validateState === \"error\")\n            field.resetField();\n        } catch (fields3) {\n          validationErrors = {\n            ...validationErrors,\n            ...fields3\n          };\n        }\n      }\n      if (Object.keys(validationErrors).length === 0)\n        return true;\n      return Promise.reject(validationErrors);\n    };\n    const validateField = async (modelProps = [], callback) => {\n      const shouldThrow = !isFunction(callback);\n      try {\n        const result = await doValidateField(modelProps);\n        if (result === true) {\n          await (callback == null ? void 0 : callback(result));\n        }\n        return result;\n      } catch (e) {\n        if (e instanceof Error)\n          throw e;\n        const invalidFields = e;\n        if (props.scrollToError) {\n          scrollToField(Object.keys(invalidFields)[0]);\n        }\n        await (callback == null ? void 0 : callback(false, invalidFields));\n        return shouldThrow && Promise.reject(invalidFields);\n      }\n    };\n    const scrollToField = (prop) => {\n      var _a;\n      const field = filterFields(fields, prop)[0];\n      if (field) {\n        (_a = field.$el) == null ? void 0 : _a.scrollIntoView(props.scrollIntoViewOptions);\n      }\n    };\n    watch(() => props.rules, () => {\n      if (props.validateOnRuleChange) {\n        validate().catch((err) => debugWarn(err));\n      }\n    }, { deep: true, flush: \"post\" });\n    provide(formContextKey, reactive({\n      ...toRefs(props),\n      emit,\n      resetFields,\n      clearValidate,\n      validateField,\n      getField,\n      addField,\n      removeField,\n      ...useFormLabelWidth()\n    }));\n    expose({\n      validate,\n      validateField,\n      resetFields,\n      clearValidate,\n      scrollToField,\n      fields\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"form\", {\n        class: normalizeClass(unref(formClasses))\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 2);\n    };\n  }\n});\nvar Form = /* @__PURE__ */ _export_sfc(_sfc_main$a, [[\"__file\", \"form.vue\"]]);\nconst formItemValidateStates = [\n  \"\",\n  \"error\",\n  \"validating\",\n  \"success\"\n];\nconst formItemProps = buildProps({\n  label: String,\n  labelWidth: {\n    type: [String, Number],\n    default: \"\"\n  },\n  labelPosition: {\n    type: String,\n    values: [\"left\", \"right\", \"top\", \"\"],\n    default: \"\"\n  },\n  prop: {\n    type: definePropType([String, Array])\n  },\n  required: {\n    type: Boolean,\n    default: void 0\n  },\n  rules: {\n    type: definePropType([Object, Array])\n  },\n  error: String,\n  validateStatus: {\n    type: String,\n    values: formItemValidateStates\n  },\n  for: String,\n  inlineMessage: {\n    type: [String, Boolean],\n    default: \"\"\n  },\n  showMessage: {\n    type: Boolean,\n    default: true\n  },\n  size: {\n    type: String,\n    values: componentSizes\n  }\n});\nconst COMPONENT_NAME$1 = \"ElLabelWrap\";\nvar FormLabelWrap = defineComponent({\n  name: COMPONENT_NAME$1,\n  props: {\n    isAutoWidth: Boolean,\n    updateAll: Boolean\n  },\n  setup(props, {\n    slots\n  }) {\n    const formContext = inject(formContextKey, void 0);\n    const formItemContext = inject(formItemContextKey);\n    if (!formItemContext)\n      throwError(COMPONENT_NAME$1, \"usage: <el-form-item><label-wrap /></el-form-item>\");\n    const ns = useNamespace(\"form\");\n    const el = ref();\n    const computedWidth = ref(0);\n    const getLabelWidth = () => {\n      var _a;\n      if ((_a = el.value) == null ? void 0 : _a.firstElementChild) {\n        const width = window.getComputedStyle(el.value.firstElementChild).width;\n        return Math.ceil(Number.parseFloat(width));\n      } else {\n        return 0;\n      }\n    };\n    const updateLabelWidth = (action = \"update\") => {\n      nextTick(() => {\n        if (slots.default && props.isAutoWidth) {\n          if (action === \"update\") {\n            computedWidth.value = getLabelWidth();\n          } else if (action === \"remove\") {\n            formContext == null ? void 0 : formContext.deregisterLabelWidth(computedWidth.value);\n          }\n        }\n      });\n    };\n    const updateLabelWidthFn = () => updateLabelWidth(\"update\");\n    onMounted(() => {\n      updateLabelWidthFn();\n    });\n    onBeforeUnmount(() => {\n      updateLabelWidth(\"remove\");\n    });\n    onUpdated(() => updateLabelWidthFn());\n    watch(computedWidth, (val, oldVal) => {\n      if (props.updateAll) {\n        formContext == null ? void 0 : formContext.registerLabelWidth(val, oldVal);\n      }\n    });\n    useResizeObserver(computed(() => {\n      var _a, _b;\n      return (_b = (_a = el.value) == null ? void 0 : _a.firstElementChild) != null ? _b : null;\n    }), updateLabelWidthFn);\n    return () => {\n      var _a, _b;\n      if (!slots)\n        return null;\n      const {\n        isAutoWidth\n      } = props;\n      if (isAutoWidth) {\n        const autoLabelWidth = formContext == null ? void 0 : formContext.autoLabelWidth;\n        const hasLabel = formItemContext == null ? void 0 : formItemContext.hasLabel;\n        const style = {};\n        if (hasLabel && autoLabelWidth && autoLabelWidth !== \"auto\") {\n          const marginWidth = Math.max(0, Number.parseInt(autoLabelWidth, 10) - computedWidth.value);\n          const labelPosition = formItemContext.labelPosition || formContext.labelPosition;\n          const marginPosition = labelPosition === \"left\" ? \"marginRight\" : \"marginLeft\";\n          if (marginWidth) {\n            style[marginPosition] = `${marginWidth}px`;\n          }\n        }\n        return createVNode(\"div\", {\n          \"ref\": el,\n          \"class\": [ns.be(\"item\", \"label-wrap\")],\n          \"style\": style\n        }, [(_a = slots.default) == null ? void 0 : _a.call(slots)]);\n      } else {\n        return createVNode(Fragment, {\n          \"ref\": el\n        }, [(_b = slots.default) == null ? void 0 : _b.call(slots)]);\n      }\n    };\n  }\n});\nconst __default__$8 = defineComponent({\n  name: \"ElFormItem\"\n});\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  ...__default__$8,\n  props: formItemProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const slots = useSlots();\n    const formContext = inject(formContextKey, void 0);\n    const parentFormItemContext = inject(formItemContextKey, void 0);\n    const _size = useFormSize(void 0, { formItem: false });\n    const ns = useNamespace(\"form-item\");\n    const labelId = useId().value;\n    const inputIds = ref([]);\n    const validateState = ref(\"\");\n    const validateStateDebounced = refDebounced(validateState, 100);\n    const validateMessage = ref(\"\");\n    const formItemRef = ref();\n    let initialValue = void 0;\n    let isResettingField = false;\n    const labelPosition = computed(() => props.labelPosition || (formContext == null ? void 0 : formContext.labelPosition));\n    const labelStyle = computed(() => {\n      if (labelPosition.value === \"top\") {\n        return {};\n      }\n      const labelWidth = addUnit(props.labelWidth || (formContext == null ? void 0 : formContext.labelWidth) || \"\");\n      if (labelWidth)\n        return { width: labelWidth };\n      return {};\n    });\n    const contentStyle = computed(() => {\n      if (labelPosition.value === \"top\" || (formContext == null ? void 0 : formContext.inline)) {\n        return {};\n      }\n      if (!props.label && !props.labelWidth && isNested) {\n        return {};\n      }\n      const labelWidth = addUnit(props.labelWidth || (formContext == null ? void 0 : formContext.labelWidth) || \"\");\n      if (!props.label && !slots.label) {\n        return { marginLeft: labelWidth };\n      }\n      return {};\n    });\n    const formItemClasses = computed(() => [\n      ns.b(),\n      ns.m(_size.value),\n      ns.is(\"error\", validateState.value === \"error\"),\n      ns.is(\"validating\", validateState.value === \"validating\"),\n      ns.is(\"success\", validateState.value === \"success\"),\n      ns.is(\"required\", isRequired.value || props.required),\n      ns.is(\"no-asterisk\", formContext == null ? void 0 : formContext.hideRequiredAsterisk),\n      (formContext == null ? void 0 : formContext.requireAsteriskPosition) === \"right\" ? \"asterisk-right\" : \"asterisk-left\",\n      {\n        [ns.m(\"feedback\")]: formContext == null ? void 0 : formContext.statusIcon,\n        [ns.m(`label-${labelPosition.value}`)]: labelPosition.value\n      }\n    ]);\n    const _inlineMessage = computed(() => isBoolean(props.inlineMessage) ? props.inlineMessage : (formContext == null ? void 0 : formContext.inlineMessage) || false);\n    const validateClasses = computed(() => [\n      ns.e(\"error\"),\n      { [ns.em(\"error\", \"inline\")]: _inlineMessage.value }\n    ]);\n    const propString = computed(() => {\n      if (!props.prop)\n        return \"\";\n      return isString(props.prop) ? props.prop : props.prop.join(\".\");\n    });\n    const hasLabel = computed(() => {\n      return !!(props.label || slots.label);\n    });\n    const labelFor = computed(() => {\n      return props.for || (inputIds.value.length === 1 ? inputIds.value[0] : void 0);\n    });\n    const isGroup = computed(() => {\n      return !labelFor.value && hasLabel.value;\n    });\n    const isNested = !!parentFormItemContext;\n    const fieldValue = computed(() => {\n      const model = formContext == null ? void 0 : formContext.model;\n      if (!model || !props.prop) {\n        return;\n      }\n      return getProp(model, props.prop).value;\n    });\n    const normalizedRules = computed(() => {\n      const { required } = props;\n      const rules = [];\n      if (props.rules) {\n        rules.push(...castArray(props.rules));\n      }\n      const formRules = formContext == null ? void 0 : formContext.rules;\n      if (formRules && props.prop) {\n        const _rules = getProp(formRules, props.prop).value;\n        if (_rules) {\n          rules.push(...castArray(_rules));\n        }\n      }\n      if (required !== void 0) {\n        const requiredRules = rules.map((rule, i) => [rule, i]).filter(([rule]) => Object.keys(rule).includes(\"required\"));\n        if (requiredRules.length > 0) {\n          for (const [rule, i] of requiredRules) {\n            if (rule.required === required)\n              continue;\n            rules[i] = { ...rule, required };\n          }\n        } else {\n          rules.push({ required });\n        }\n      }\n      return rules;\n    });\n    const validateEnabled = computed(() => normalizedRules.value.length > 0);\n    const getFilteredRule = (trigger) => {\n      const rules = normalizedRules.value;\n      return rules.filter((rule) => {\n        if (!rule.trigger || !trigger)\n          return true;\n        if (isArray(rule.trigger)) {\n          return rule.trigger.includes(trigger);\n        } else {\n          return rule.trigger === trigger;\n        }\n      }).map(({ trigger: trigger2, ...rule }) => rule);\n    };\n    const isRequired = computed(() => normalizedRules.value.some((rule) => rule.required));\n    const shouldShowError = computed(() => {\n      var _a;\n      return validateStateDebounced.value === \"error\" && props.showMessage && ((_a = formContext == null ? void 0 : formContext.showMessage) != null ? _a : true);\n    });\n    const currentLabel = computed(() => `${props.label || \"\"}${(formContext == null ? void 0 : formContext.labelSuffix) || \"\"}`);\n    const setValidationState = (state) => {\n      validateState.value = state;\n    };\n    const onValidationFailed = (error) => {\n      var _a, _b;\n      const { errors, fields } = error;\n      if (!errors || !fields) {\n        console.error(error);\n      }\n      setValidationState(\"error\");\n      validateMessage.value = errors ? (_b = (_a = errors == null ? void 0 : errors[0]) == null ? void 0 : _a.message) != null ? _b : `${props.prop} is required` : \"\";\n      formContext == null ? void 0 : formContext.emit(\"validate\", props.prop, false, validateMessage.value);\n    };\n    const onValidationSucceeded = () => {\n      setValidationState(\"success\");\n      formContext == null ? void 0 : formContext.emit(\"validate\", props.prop, true, \"\");\n    };\n    const doValidate = async (rules) => {\n      const modelName = propString.value;\n      const validator = new Schema({\n        [modelName]: rules\n      });\n      return validator.validate({ [modelName]: fieldValue.value }, { firstFields: true }).then(() => {\n        onValidationSucceeded();\n        return true;\n      }).catch((err) => {\n        onValidationFailed(err);\n        return Promise.reject(err);\n      });\n    };\n    const validate = async (trigger, callback) => {\n      if (isResettingField || !props.prop) {\n        return false;\n      }\n      const hasCallback = isFunction(callback);\n      if (!validateEnabled.value) {\n        callback == null ? void 0 : callback(false);\n        return false;\n      }\n      const rules = getFilteredRule(trigger);\n      if (rules.length === 0) {\n        callback == null ? void 0 : callback(true);\n        return true;\n      }\n      setValidationState(\"validating\");\n      return doValidate(rules).then(() => {\n        callback == null ? void 0 : callback(true);\n        return true;\n      }).catch((err) => {\n        const { fields } = err;\n        callback == null ? void 0 : callback(false, fields);\n        return hasCallback ? false : Promise.reject(fields);\n      });\n    };\n    const clearValidate = () => {\n      setValidationState(\"\");\n      validateMessage.value = \"\";\n      isResettingField = false;\n    };\n    const resetField = async () => {\n      const model = formContext == null ? void 0 : formContext.model;\n      if (!model || !props.prop)\n        return;\n      const computedValue = getProp(model, props.prop);\n      isResettingField = true;\n      computedValue.value = clone(initialValue);\n      await nextTick();\n      clearValidate();\n      isResettingField = false;\n    };\n    const addInputId = (id) => {\n      if (!inputIds.value.includes(id)) {\n        inputIds.value.push(id);\n      }\n    };\n    const removeInputId = (id) => {\n      inputIds.value = inputIds.value.filter((listId) => listId !== id);\n    };\n    watch(() => props.error, (val) => {\n      validateMessage.value = val || \"\";\n      setValidationState(val ? \"error\" : \"\");\n    }, { immediate: true });\n    watch(() => props.validateStatus, (val) => setValidationState(val || \"\"));\n    const context = reactive({\n      ...toRefs(props),\n      $el: formItemRef,\n      size: _size,\n      validateState,\n      labelId,\n      inputIds,\n      isGroup,\n      hasLabel,\n      fieldValue,\n      addInputId,\n      removeInputId,\n      resetField,\n      clearValidate,\n      validate\n    });\n    provide(formItemContextKey, context);\n    onMounted(() => {\n      if (props.prop) {\n        formContext == null ? void 0 : formContext.addField(context);\n        initialValue = clone(fieldValue.value);\n      }\n    });\n    onBeforeUnmount(() => {\n      formContext == null ? void 0 : formContext.removeField(context);\n    });\n    expose({\n      size: _size,\n      validateMessage,\n      validateState,\n      validate,\n      clearValidate,\n      resetField\n    });\n    return (_ctx, _cache) => {\n      var _a;\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"formItemRef\",\n        ref: formItemRef,\n        class: normalizeClass(unref(formItemClasses)),\n        role: unref(isGroup) ? \"group\" : void 0,\n        \"aria-labelledby\": unref(isGroup) ? unref(labelId) : void 0\n      }, [\n        createVNode(unref(FormLabelWrap), {\n          \"is-auto-width\": unref(labelStyle).width === \"auto\",\n          \"update-all\": ((_a = unref(formContext)) == null ? void 0 : _a.labelWidth) === \"auto\"\n        }, {\n          default: withCtx(() => [\n            unref(hasLabel) ? (openBlock(), createBlock(resolveDynamicComponent(unref(labelFor) ? \"label\" : \"div\"), {\n              key: 0,\n              id: unref(labelId),\n              for: unref(labelFor),\n              class: normalizeClass(unref(ns).e(\"label\")),\n              style: normalizeStyle(unref(labelStyle))\n            }, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"label\", { label: unref(currentLabel) }, () => [\n                  createTextVNode(toDisplayString(unref(currentLabel)), 1)\n                ])\n              ]),\n              _: 3\n            }, 8, [\"id\", \"for\", \"class\", \"style\"])) : createCommentVNode(\"v-if\", true)\n          ]),\n          _: 3\n        }, 8, [\"is-auto-width\", \"update-all\"]),\n        createElementVNode(\"div\", {\n          class: normalizeClass(unref(ns).e(\"content\")),\n          style: normalizeStyle(unref(contentStyle))\n        }, [\n          renderSlot(_ctx.$slots, \"default\"),\n          createVNode(TransitionGroup, {\n            name: `${unref(ns).namespace.value}-zoom-in-top`\n          }, {\n            default: withCtx(() => [\n              unref(shouldShowError) ? renderSlot(_ctx.$slots, \"error\", {\n                key: 0,\n                error: validateMessage.value\n              }, () => [\n                createElementVNode(\"div\", {\n                  class: normalizeClass(unref(validateClasses))\n                }, toDisplayString(validateMessage.value), 3)\n              ]) : createCommentVNode(\"v-if\", true)\n            ]),\n            _: 3\n          }, 8, [\"name\"])\n        ], 6)\n      ], 10, [\"role\", \"aria-labelledby\"]);\n    };\n  }\n});\nvar FormItem = /* @__PURE__ */ _export_sfc(_sfc_main$9, [[\"__file\", \"form-item.vue\"]]);\nconst ElForm = withInstall(Form, {\n  FormItem\n});\nconst ElFormItem = withNoopInstall(FormItem);\nconst imageViewerProps = buildProps({\n  urlList: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  zIndex: {\n    type: Number\n  },\n  initialIndex: {\n    type: Number,\n    default: 0\n  },\n  infinite: {\n    type: Boolean,\n    default: true\n  },\n  hideOnClickModal: Boolean,\n  teleported: Boolean,\n  closeOnPressEscape: {\n    type: Boolean,\n    default: true\n  },\n  zoomRate: {\n    type: Number,\n    default: 1.2\n  },\n  minScale: {\n    type: Number,\n    default: 0.2\n  },\n  maxScale: {\n    type: Number,\n    default: 7\n  },\n  showProgress: {\n    type: Boolean,\n    default: false\n  },\n  crossorigin: {\n    type: definePropType(String)\n  }\n});\nconst imageViewerEmits = {\n  close: () => true,\n  switch: (index) => isNumber(index),\n  rotate: (deg) => isNumber(deg)\n};\nconst __default__$7 = defineComponent({\n  name: \"ElImageViewer\"\n});\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  ...__default__$7,\n  props: imageViewerProps,\n  emits: imageViewerEmits,\n  setup(__props, { expose, emit }) {\n    var _a;\n    const props = __props;\n    const modes = {\n      CONTAIN: {\n        name: \"contain\",\n        icon: markRaw(full_screen_default)\n      },\n      ORIGINAL: {\n        name: \"original\",\n        icon: markRaw(scale_to_original_default)\n      }\n    };\n    let stopWheelListener;\n    let prevOverflow = \"\";\n    const { t } = useLocale();\n    const ns = useNamespace(\"image-viewer\");\n    const { nextZIndex } = useZIndex();\n    const wrapper = ref();\n    const imgRefs = ref([]);\n    const scopeEventListener = effectScope();\n    const loading = ref(true);\n    const activeIndex = ref(props.initialIndex);\n    const mode = shallowRef(modes.CONTAIN);\n    const transform = ref({\n      scale: 1,\n      deg: 0,\n      offsetX: 0,\n      offsetY: 0,\n      enableTransition: false\n    });\n    const zIndex2 = ref((_a = props.zIndex) != null ? _a : nextZIndex());\n    const isSingle = computed(() => {\n      const { urlList } = props;\n      return urlList.length <= 1;\n    });\n    const isFirst = computed(() => activeIndex.value === 0);\n    const isLast = computed(() => activeIndex.value === props.urlList.length - 1);\n    const currentImg = computed(() => props.urlList[activeIndex.value]);\n    const arrowPrevKls = computed(() => [\n      ns.e(\"btn\"),\n      ns.e(\"prev\"),\n      ns.is(\"disabled\", !props.infinite && isFirst.value)\n    ]);\n    const arrowNextKls = computed(() => [\n      ns.e(\"btn\"),\n      ns.e(\"next\"),\n      ns.is(\"disabled\", !props.infinite && isLast.value)\n    ]);\n    const imgStyle = computed(() => {\n      const { scale, deg, offsetX, offsetY, enableTransition } = transform.value;\n      let translateX = offsetX / scale;\n      let translateY = offsetY / scale;\n      const radian = deg * Math.PI / 180;\n      const cosRadian = Math.cos(radian);\n      const sinRadian = Math.sin(radian);\n      translateX = translateX * cosRadian + translateY * sinRadian;\n      translateY = translateY * cosRadian - offsetX / scale * sinRadian;\n      const style = {\n        transform: `scale(${scale}) rotate(${deg}deg) translate(${translateX}px, ${translateY}px)`,\n        transition: enableTransition ? \"transform .3s\" : \"\"\n      };\n      if (mode.value.name === modes.CONTAIN.name) {\n        style.maxWidth = style.maxHeight = \"100%\";\n      }\n      return style;\n    });\n    const progress = computed(() => `${activeIndex.value + 1} / ${props.urlList.length}`);\n    function hide() {\n      unregisterEventListener();\n      stopWheelListener == null ? void 0 : stopWheelListener();\n      document.body.style.overflow = prevOverflow;\n      emit(\"close\");\n    }\n    function registerEventListener() {\n      const keydownHandler = throttle((e) => {\n        switch (e.code) {\n          case EVENT_CODE.esc:\n            props.closeOnPressEscape && hide();\n            break;\n          case EVENT_CODE.space:\n            toggleMode();\n            break;\n          case EVENT_CODE.left:\n            prev();\n            break;\n          case EVENT_CODE.up:\n            handleActions(\"zoomIn\");\n            break;\n          case EVENT_CODE.right:\n            next();\n            break;\n          case EVENT_CODE.down:\n            handleActions(\"zoomOut\");\n            break;\n        }\n      });\n      const mousewheelHandler = throttle((e) => {\n        const delta = e.deltaY || e.deltaX;\n        handleActions(delta < 0 ? \"zoomIn\" : \"zoomOut\", {\n          zoomRate: props.zoomRate,\n          enableTransition: false\n        });\n      });\n      scopeEventListener.run(() => {\n        useEventListener(document, \"keydown\", keydownHandler);\n        useEventListener(document, \"wheel\", mousewheelHandler);\n      });\n    }\n    function unregisterEventListener() {\n      scopeEventListener.stop();\n    }\n    function handleImgLoad() {\n      loading.value = false;\n    }\n    function handleImgError(e) {\n      loading.value = false;\n      e.target.alt = t(\"el.image.error\");\n    }\n    function handleMouseDown(e) {\n      if (loading.value || e.button !== 0 || !wrapper.value)\n        return;\n      transform.value.enableTransition = false;\n      const { offsetX, offsetY } = transform.value;\n      const startX = e.pageX;\n      const startY = e.pageY;\n      const dragHandler = throttle((ev) => {\n        transform.value = {\n          ...transform.value,\n          offsetX: offsetX + ev.pageX - startX,\n          offsetY: offsetY + ev.pageY - startY\n        };\n      });\n      const removeMousemove = useEventListener(document, \"mousemove\", dragHandler);\n      useEventListener(document, \"mouseup\", () => {\n        removeMousemove();\n      });\n      e.preventDefault();\n    }\n    function reset() {\n      transform.value = {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      };\n    }\n    function toggleMode() {\n      if (loading.value)\n        return;\n      const modeNames = keysOf(modes);\n      const modeValues = Object.values(modes);\n      const currentMode = mode.value.name;\n      const index = modeValues.findIndex((i) => i.name === currentMode);\n      const nextIndex = (index + 1) % modeNames.length;\n      mode.value = modes[modeNames[nextIndex]];\n      reset();\n    }\n    function setActiveItem(index) {\n      const len = props.urlList.length;\n      activeIndex.value = (index + len) % len;\n    }\n    function prev() {\n      if (isFirst.value && !props.infinite)\n        return;\n      setActiveItem(activeIndex.value - 1);\n    }\n    function next() {\n      if (isLast.value && !props.infinite)\n        return;\n      setActiveItem(activeIndex.value + 1);\n    }\n    function handleActions(action, options = {}) {\n      if (loading.value)\n        return;\n      const { minScale, maxScale } = props;\n      const { zoomRate, rotateDeg, enableTransition } = {\n        zoomRate: props.zoomRate,\n        rotateDeg: 90,\n        enableTransition: true,\n        ...options\n      };\n      switch (action) {\n        case \"zoomOut\":\n          if (transform.value.scale > minScale) {\n            transform.value.scale = Number.parseFloat((transform.value.scale / zoomRate).toFixed(3));\n          }\n          break;\n        case \"zoomIn\":\n          if (transform.value.scale < maxScale) {\n            transform.value.scale = Number.parseFloat((transform.value.scale * zoomRate).toFixed(3));\n          }\n          break;\n        case \"clockwise\":\n          transform.value.deg += rotateDeg;\n          emit(\"rotate\", transform.value.deg);\n          break;\n        case \"anticlockwise\":\n          transform.value.deg -= rotateDeg;\n          emit(\"rotate\", transform.value.deg);\n          break;\n      }\n      transform.value.enableTransition = enableTransition;\n    }\n    function onFocusoutPrevented(event) {\n      var _a2;\n      if (((_a2 = event.detail) == null ? void 0 : _a2.focusReason) === \"pointer\") {\n        event.preventDefault();\n      }\n    }\n    function onCloseRequested() {\n      if (props.closeOnPressEscape) {\n        hide();\n      }\n    }\n    function wheelHandler(e) {\n      if (!e.ctrlKey)\n        return;\n      if (e.deltaY < 0) {\n        e.preventDefault();\n        return false;\n      } else if (e.deltaY > 0) {\n        e.preventDefault();\n        return false;\n      }\n    }\n    watch(currentImg, () => {\n      nextTick(() => {\n        const $img = imgRefs.value[0];\n        if (!($img == null ? void 0 : $img.complete)) {\n          loading.value = true;\n        }\n      });\n    });\n    watch(activeIndex, (val) => {\n      reset();\n      emit(\"switch\", val);\n    });\n    onMounted(() => {\n      registerEventListener();\n      stopWheelListener = useEventListener(\"wheel\", wheelHandler, {\n        passive: false\n      });\n      prevOverflow = document.body.style.overflow;\n      document.body.style.overflow = \"hidden\";\n    });\n    expose({\n      setActiveItem\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(ElTeleport), {\n        to: \"body\",\n        disabled: !_ctx.teleported\n      }, {\n        default: withCtx(() => [\n          createVNode(Transition, {\n            name: \"viewer-fade\",\n            appear: \"\"\n          }, {\n            default: withCtx(() => [\n              createElementVNode(\"div\", {\n                ref_key: \"wrapper\",\n                ref: wrapper,\n                tabindex: -1,\n                class: normalizeClass(unref(ns).e(\"wrapper\")),\n                style: normalizeStyle({ zIndex: zIndex2.value })\n              }, [\n                createVNode(unref(ElFocusTrap), {\n                  loop: \"\",\n                  trapped: \"\",\n                  \"focus-trap-el\": wrapper.value,\n                  \"focus-start-el\": \"container\",\n                  onFocusoutPrevented,\n                  onReleaseRequested: onCloseRequested\n                }, {\n                  default: withCtx(() => [\n                    createElementVNode(\"div\", {\n                      class: normalizeClass(unref(ns).e(\"mask\")),\n                      onClick: withModifiers(($event) => _ctx.hideOnClickModal && hide(), [\"self\"])\n                    }, null, 10, [\"onClick\"]),\n                    createCommentVNode(\" CLOSE \"),\n                    createElementVNode(\"span\", {\n                      class: normalizeClass([unref(ns).e(\"btn\"), unref(ns).e(\"close\")]),\n                      onClick: hide\n                    }, [\n                      createVNode(unref(ElIcon), null, {\n                        default: withCtx(() => [\n                          createVNode(unref(close_default))\n                        ]),\n                        _: 1\n                      })\n                    ], 2),\n                    createCommentVNode(\" ARROW \"),\n                    !unref(isSingle) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                      createElementVNode(\"span\", {\n                        class: normalizeClass(unref(arrowPrevKls)),\n                        onClick: prev\n                      }, [\n                        createVNode(unref(ElIcon), null, {\n                          default: withCtx(() => [\n                            createVNode(unref(arrow_left_default))\n                          ]),\n                          _: 1\n                        })\n                      ], 2),\n                      createElementVNode(\"span\", {\n                        class: normalizeClass(unref(arrowNextKls)),\n                        onClick: next\n                      }, [\n                        createVNode(unref(ElIcon), null, {\n                          default: withCtx(() => [\n                            createVNode(unref(arrow_right_default))\n                          ]),\n                          _: 1\n                        })\n                      ], 2)\n                    ], 64)) : createCommentVNode(\"v-if\", true),\n                    _ctx.$slots.progress || _ctx.showProgress ? (openBlock(), createElementBlock(\"div\", {\n                      key: 1,\n                      class: normalizeClass([unref(ns).e(\"btn\"), unref(ns).e(\"progress\")])\n                    }, [\n                      renderSlot(_ctx.$slots, \"progress\", {\n                        activeIndex: activeIndex.value,\n                        total: _ctx.urlList.length\n                      }, () => [\n                        createTextVNode(toDisplayString(unref(progress)), 1)\n                      ])\n                    ], 2)) : createCommentVNode(\"v-if\", true),\n                    createCommentVNode(\" ACTIONS \"),\n                    createElementVNode(\"div\", {\n                      class: normalizeClass([unref(ns).e(\"btn\"), unref(ns).e(\"actions\")])\n                    }, [\n                      createElementVNode(\"div\", {\n                        class: normalizeClass(unref(ns).e(\"actions__inner\"))\n                      }, [\n                        renderSlot(_ctx.$slots, \"toolbar\", {\n                          actions: handleActions,\n                          prev,\n                          next,\n                          reset: toggleMode,\n                          activeIndex: activeIndex.value,\n                          setActiveItem\n                        }, () => [\n                          createVNode(unref(ElIcon), {\n                            onClick: ($event) => handleActions(\"zoomOut\")\n                          }, {\n                            default: withCtx(() => [\n                              createVNode(unref(zoom_out_default))\n                            ]),\n                            _: 1\n                          }, 8, [\"onClick\"]),\n                          createVNode(unref(ElIcon), {\n                            onClick: ($event) => handleActions(\"zoomIn\")\n                          }, {\n                            default: withCtx(() => [\n                              createVNode(unref(zoom_in_default))\n                            ]),\n                            _: 1\n                          }, 8, [\"onClick\"]),\n                          createElementVNode(\"i\", {\n                            class: normalizeClass(unref(ns).e(\"actions__divider\"))\n                          }, null, 2),\n                          createVNode(unref(ElIcon), { onClick: toggleMode }, {\n                            default: withCtx(() => [\n                              (openBlock(), createBlock(resolveDynamicComponent(unref(mode).icon)))\n                            ]),\n                            _: 1\n                          }),\n                          createElementVNode(\"i\", {\n                            class: normalizeClass(unref(ns).e(\"actions__divider\"))\n                          }, null, 2),\n                          createVNode(unref(ElIcon), {\n                            onClick: ($event) => handleActions(\"anticlockwise\")\n                          }, {\n                            default: withCtx(() => [\n                              createVNode(unref(refresh_left_default))\n                            ]),\n                            _: 1\n                          }, 8, [\"onClick\"]),\n                          createVNode(unref(ElIcon), {\n                            onClick: ($event) => handleActions(\"clockwise\")\n                          }, {\n                            default: withCtx(() => [\n                              createVNode(unref(refresh_right_default))\n                            ]),\n                            _: 1\n                          }, 8, [\"onClick\"])\n                        ])\n                      ], 2)\n                    ], 2),\n                    createCommentVNode(\" CANVAS \"),\n                    createElementVNode(\"div\", {\n                      class: normalizeClass(unref(ns).e(\"canvas\"))\n                    }, [\n                      (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.urlList, (url, i) => {\n                        return withDirectives((openBlock(), createElementBlock(\"img\", {\n                          ref_for: true,\n                          ref: (el) => imgRefs.value[i] = el,\n                          key: url,\n                          src: url,\n                          style: normalizeStyle(unref(imgStyle)),\n                          class: normalizeClass(unref(ns).e(\"img\")),\n                          crossorigin: _ctx.crossorigin,\n                          onLoad: handleImgLoad,\n                          onError: handleImgError,\n                          onMousedown: handleMouseDown\n                        }, null, 46, [\"src\", \"crossorigin\"])), [\n                          [vShow, i === activeIndex.value]\n                        ]);\n                      }), 128))\n                    ], 2),\n                    renderSlot(_ctx.$slots, \"default\")\n                  ]),\n                  _: 3\n                }, 8, [\"focus-trap-el\"])\n              ], 6)\n            ]),\n            _: 3\n          })\n        ]),\n        _: 3\n      }, 8, [\"disabled\"]);\n    };\n  }\n});\nvar ImageViewer = /* @__PURE__ */ _export_sfc(_sfc_main$8, [[\"__file\", \"image-viewer.vue\"]]);\nconst ElImageViewer = withInstall(ImageViewer);\nconst imageProps = buildProps({\n  hideOnClickModal: Boolean,\n  src: {\n    type: String,\n    default: \"\"\n  },\n  fit: {\n    type: String,\n    values: [\"\", \"contain\", \"cover\", \"fill\", \"none\", \"scale-down\"],\n    default: \"\"\n  },\n  loading: {\n    type: String,\n    values: [\"eager\", \"lazy\"]\n  },\n  lazy: Boolean,\n  scrollContainer: {\n    type: definePropType([String, Object])\n  },\n  previewSrcList: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  previewTeleported: Boolean,\n  zIndex: {\n    type: Number\n  },\n  initialIndex: {\n    type: Number,\n    default: 0\n  },\n  infinite: {\n    type: Boolean,\n    default: true\n  },\n  closeOnPressEscape: {\n    type: Boolean,\n    default: true\n  },\n  zoomRate: {\n    type: Number,\n    default: 1.2\n  },\n  minScale: {\n    type: Number,\n    default: 0.2\n  },\n  maxScale: {\n    type: Number,\n    default: 7\n  },\n  showProgress: {\n    type: Boolean,\n    default: false\n  },\n  crossorigin: {\n    type: definePropType(String)\n  }\n});\nconst imageEmits = {\n  load: (evt) => evt instanceof Event,\n  error: (evt) => evt instanceof Event,\n  switch: (val) => isNumber(val),\n  close: () => true,\n  show: () => true\n};\nconst __default__$6 = defineComponent({\n  name: \"ElImage\",\n  inheritAttrs: false\n});\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  ...__default__$6,\n  props: imageProps,\n  emits: imageEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const { t } = useLocale();\n    const ns = useNamespace(\"image\");\n    const rawAttrs = useAttrs$1();\n    const containerAttrs = computed(() => {\n      return fromPairs(Object.entries(rawAttrs).filter(([key]) => /^(data-|on[A-Z])/i.test(key) || [\"id\", \"style\"].includes(key)));\n    });\n    const imgAttrs = useAttrs({\n      excludeListeners: true,\n      excludeKeys: computed(() => {\n        return Object.keys(containerAttrs.value);\n      })\n    });\n    const imageSrc = ref();\n    const hasLoadError = ref(false);\n    const isLoading = ref(true);\n    const showViewer = ref(false);\n    const container = ref();\n    const _scrollContainer = ref();\n    const supportLoading = isClient && \"loading\" in HTMLImageElement.prototype;\n    let stopScrollListener;\n    const imageKls = computed(() => [\n      ns.e(\"inner\"),\n      preview.value && ns.e(\"preview\"),\n      isLoading.value && ns.is(\"loading\")\n    ]);\n    const imageStyle = computed(() => {\n      const { fit } = props;\n      if (isClient && fit) {\n        return { objectFit: fit };\n      }\n      return {};\n    });\n    const preview = computed(() => {\n      const { previewSrcList } = props;\n      return isArray(previewSrcList) && previewSrcList.length > 0;\n    });\n    const imageIndex = computed(() => {\n      const { previewSrcList, initialIndex } = props;\n      let previewIndex = initialIndex;\n      if (initialIndex > previewSrcList.length - 1) {\n        previewIndex = 0;\n      }\n      return previewIndex;\n    });\n    const isManual = computed(() => {\n      if (props.loading === \"eager\")\n        return false;\n      return !supportLoading && props.loading === \"lazy\" || props.lazy;\n    });\n    const loadImage = () => {\n      if (!isClient)\n        return;\n      isLoading.value = true;\n      hasLoadError.value = false;\n      imageSrc.value = props.src;\n    };\n    function handleLoad(event) {\n      isLoading.value = false;\n      hasLoadError.value = false;\n      emit(\"load\", event);\n    }\n    function handleError(event) {\n      isLoading.value = false;\n      hasLoadError.value = true;\n      emit(\"error\", event);\n    }\n    function handleLazyLoad() {\n      if (isInContainer(container.value, _scrollContainer.value)) {\n        loadImage();\n        removeLazyLoadListener();\n      }\n    }\n    const lazyLoadHandler = useThrottleFn(handleLazyLoad, 200, true);\n    async function addLazyLoadListener() {\n      var _a;\n      if (!isClient)\n        return;\n      await nextTick();\n      const { scrollContainer } = props;\n      if (isElement(scrollContainer)) {\n        _scrollContainer.value = scrollContainer;\n      } else if (isString(scrollContainer) && scrollContainer !== \"\") {\n        _scrollContainer.value = (_a = document.querySelector(scrollContainer)) != null ? _a : void 0;\n      } else if (container.value) {\n        _scrollContainer.value = getScrollContainer(container.value);\n      }\n      if (_scrollContainer.value) {\n        stopScrollListener = useEventListener(_scrollContainer, \"scroll\", lazyLoadHandler);\n        setTimeout(() => handleLazyLoad(), 100);\n      }\n    }\n    function removeLazyLoadListener() {\n      if (!isClient || !_scrollContainer.value || !lazyLoadHandler)\n        return;\n      stopScrollListener == null ? void 0 : stopScrollListener();\n      _scrollContainer.value = void 0;\n    }\n    function clickHandler() {\n      if (!preview.value)\n        return;\n      showViewer.value = true;\n      emit(\"show\");\n    }\n    function closeViewer() {\n      showViewer.value = false;\n      emit(\"close\");\n    }\n    function switchViewer(val) {\n      emit(\"switch\", val);\n    }\n    watch(() => props.src, () => {\n      if (isManual.value) {\n        isLoading.value = true;\n        hasLoadError.value = false;\n        removeLazyLoadListener();\n        addLazyLoadListener();\n      } else {\n        loadImage();\n      }\n    });\n    onMounted(() => {\n      if (isManual.value) {\n        addLazyLoadListener();\n      } else {\n        loadImage();\n      }\n    });\n    expose({\n      showPreview: clickHandler\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", mergeProps({\n        ref_key: \"container\",\n        ref: container\n      }, unref(containerAttrs), {\n        class: [unref(ns).b(), _ctx.$attrs.class]\n      }), [\n        hasLoadError.value ? renderSlot(_ctx.$slots, \"error\", { key: 0 }, () => [\n          createElementVNode(\"div\", {\n            class: normalizeClass(unref(ns).e(\"error\"))\n          }, toDisplayString(unref(t)(\"el.image.error\")), 3)\n        ]) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n          imageSrc.value !== void 0 ? (openBlock(), createElementBlock(\"img\", mergeProps({ key: 0 }, unref(imgAttrs), {\n            src: imageSrc.value,\n            loading: _ctx.loading,\n            style: unref(imageStyle),\n            class: unref(imageKls),\n            crossorigin: _ctx.crossorigin,\n            onClick: clickHandler,\n            onLoad: handleLoad,\n            onError: handleError\n          }), null, 16, [\"src\", \"loading\", \"crossorigin\"])) : createCommentVNode(\"v-if\", true),\n          isLoading.value ? (openBlock(), createElementBlock(\"div\", {\n            key: 1,\n            class: normalizeClass(unref(ns).e(\"wrapper\"))\n          }, [\n            renderSlot(_ctx.$slots, \"placeholder\", {}, () => [\n              createElementVNode(\"div\", {\n                class: normalizeClass(unref(ns).e(\"placeholder\"))\n              }, null, 2)\n            ])\n          ], 2)) : createCommentVNode(\"v-if\", true)\n        ], 64)),\n        unref(preview) ? (openBlock(), createElementBlock(Fragment, { key: 2 }, [\n          showViewer.value ? (openBlock(), createBlock(unref(ElImageViewer), {\n            key: 0,\n            \"z-index\": _ctx.zIndex,\n            \"initial-index\": unref(imageIndex),\n            infinite: _ctx.infinite,\n            \"zoom-rate\": _ctx.zoomRate,\n            \"min-scale\": _ctx.minScale,\n            \"max-scale\": _ctx.maxScale,\n            \"show-progress\": _ctx.showProgress,\n            \"url-list\": _ctx.previewSrcList,\n            crossorigin: _ctx.crossorigin,\n            \"hide-on-click-modal\": _ctx.hideOnClickModal,\n            teleported: _ctx.previewTeleported,\n            \"close-on-press-escape\": _ctx.closeOnPressEscape,\n            onClose: closeViewer,\n            onSwitch: switchViewer\n          }, createSlots({\n            toolbar: withCtx((toolbar) => [\n              renderSlot(_ctx.$slots, \"toolbar\", normalizeProps(guardReactiveProps(toolbar)))\n            ]),\n            default: withCtx(() => [\n              _ctx.$slots.viewer ? (openBlock(), createElementBlock(\"div\", { key: 0 }, [\n                renderSlot(_ctx.$slots, \"viewer\")\n              ])) : createCommentVNode(\"v-if\", true)\n            ]),\n            _: 2\n          }, [\n            _ctx.$slots.progress ? {\n              name: \"progress\",\n              fn: withCtx((progress) => [\n                renderSlot(_ctx.$slots, \"progress\", normalizeProps(guardReactiveProps(progress)))\n              ])\n            } : void 0\n          ]), 1032, [\"z-index\", \"initial-index\", \"infinite\", \"zoom-rate\", \"min-scale\", \"max-scale\", \"show-progress\", \"url-list\", \"crossorigin\", \"hide-on-click-modal\", \"teleported\", \"close-on-press-escape\"])) : createCommentVNode(\"v-if\", true)\n        ], 64)) : createCommentVNode(\"v-if\", true)\n      ], 16);\n    };\n  }\n});\nvar Image = /* @__PURE__ */ _export_sfc(_sfc_main$7, [[\"__file\", \"image.vue\"]]);\nconst ElImage = withInstall(Image);\nconst progressProps = buildProps({\n  type: {\n    type: String,\n    default: \"line\",\n    values: [\"line\", \"circle\", \"dashboard\"]\n  },\n  percentage: {\n    type: Number,\n    default: 0,\n    validator: (val) => val >= 0 && val <= 100\n  },\n  status: {\n    type: String,\n    default: \"\",\n    values: [\"\", \"success\", \"exception\", \"warning\"]\n  },\n  indeterminate: Boolean,\n  duration: {\n    type: Number,\n    default: 3\n  },\n  strokeWidth: {\n    type: Number,\n    default: 6\n  },\n  strokeLinecap: {\n    type: definePropType(String),\n    default: \"round\"\n  },\n  textInside: Boolean,\n  width: {\n    type: Number,\n    default: 126\n  },\n  showText: {\n    type: Boolean,\n    default: true\n  },\n  color: {\n    type: definePropType([\n      String,\n      Array,\n      Function\n    ]),\n    default: \"\"\n  },\n  striped: Boolean,\n  stripedFlow: Boolean,\n  format: {\n    type: definePropType(Function),\n    default: (percentage) => `${percentage}%`\n  }\n});\nconst __default__$5 = defineComponent({\n  name: \"ElProgress\"\n});\nconst _sfc_main$6 = /* @__PURE__ */ defineComponent({\n  ...__default__$5,\n  props: progressProps,\n  setup(__props) {\n    const props = __props;\n    const STATUS_COLOR_MAP = {\n      success: \"#13ce66\",\n      exception: \"#ff4949\",\n      warning: \"#e6a23c\",\n      default: \"#20a0ff\"\n    };\n    const ns = useNamespace(\"progress\");\n    const barStyle = computed(() => {\n      const barStyle2 = {\n        width: `${props.percentage}%`,\n        animationDuration: `${props.duration}s`\n      };\n      const color = getCurrentColor(props.percentage);\n      if (color.includes(\"gradient\")) {\n        barStyle2.background = color;\n      } else {\n        barStyle2.backgroundColor = color;\n      }\n      return barStyle2;\n    });\n    const relativeStrokeWidth = computed(() => (props.strokeWidth / props.width * 100).toFixed(1));\n    const radius = computed(() => {\n      if ([\"circle\", \"dashboard\"].includes(props.type)) {\n        return Number.parseInt(`${50 - Number.parseFloat(relativeStrokeWidth.value) / 2}`, 10);\n      }\n      return 0;\n    });\n    const trackPath = computed(() => {\n      const r = radius.value;\n      const isDashboard = props.type === \"dashboard\";\n      return `\n          M 50 50\n          m 0 ${isDashboard ? \"\" : \"-\"}${r}\n          a ${r} ${r} 0 1 1 0 ${isDashboard ? \"-\" : \"\"}${r * 2}\n          a ${r} ${r} 0 1 1 0 ${isDashboard ? \"\" : \"-\"}${r * 2}\n          `;\n    });\n    const perimeter = computed(() => 2 * Math.PI * radius.value);\n    const rate = computed(() => props.type === \"dashboard\" ? 0.75 : 1);\n    const strokeDashoffset = computed(() => {\n      const offset = -1 * perimeter.value * (1 - rate.value) / 2;\n      return `${offset}px`;\n    });\n    const trailPathStyle = computed(() => ({\n      strokeDasharray: `${perimeter.value * rate.value}px, ${perimeter.value}px`,\n      strokeDashoffset: strokeDashoffset.value\n    }));\n    const circlePathStyle = computed(() => ({\n      strokeDasharray: `${perimeter.value * rate.value * (props.percentage / 100)}px, ${perimeter.value}px`,\n      strokeDashoffset: strokeDashoffset.value,\n      transition: \"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s\"\n    }));\n    const stroke = computed(() => {\n      let ret;\n      if (props.color) {\n        ret = getCurrentColor(props.percentage);\n      } else {\n        ret = STATUS_COLOR_MAP[props.status] || STATUS_COLOR_MAP.default;\n      }\n      return ret;\n    });\n    const statusIcon = computed(() => {\n      if (props.status === \"warning\") {\n        return warning_filled_default;\n      }\n      if (props.type === \"line\") {\n        return props.status === \"success\" ? circle_check_default : circle_close_default;\n      } else {\n        return props.status === \"success\" ? check_default : close_default;\n      }\n    });\n    const progressTextSize = computed(() => {\n      return props.type === \"line\" ? 12 + props.strokeWidth * 0.4 : props.width * 0.111111 + 2;\n    });\n    const content = computed(() => props.format(props.percentage));\n    function getColors(color) {\n      const span = 100 / color.length;\n      const seriesColors = color.map((seriesColor, index) => {\n        if (isString(seriesColor)) {\n          return {\n            color: seriesColor,\n            percentage: (index + 1) * span\n          };\n        }\n        return seriesColor;\n      });\n      return seriesColors.sort((a, b) => a.percentage - b.percentage);\n    }\n    const getCurrentColor = (percentage) => {\n      var _a;\n      const { color } = props;\n      if (isFunction(color)) {\n        return color(percentage);\n      } else if (isString(color)) {\n        return color;\n      } else {\n        const colors = getColors(color);\n        for (const color2 of colors) {\n          if (color2.percentage > percentage)\n            return color2.color;\n        }\n        return (_a = colors[colors.length - 1]) == null ? void 0 : _a.color;\n      }\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\n          unref(ns).b(),\n          unref(ns).m(_ctx.type),\n          unref(ns).is(_ctx.status),\n          {\n            [unref(ns).m(\"without-text\")]: !_ctx.showText,\n            [unref(ns).m(\"text-inside\")]: _ctx.textInside\n          }\n        ]),\n        role: \"progressbar\",\n        \"aria-valuenow\": _ctx.percentage,\n        \"aria-valuemin\": \"0\",\n        \"aria-valuemax\": \"100\"\n      }, [\n        _ctx.type === \"line\" ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass(unref(ns).b(\"bar\"))\n        }, [\n          createElementVNode(\"div\", {\n            class: normalizeClass(unref(ns).be(\"bar\", \"outer\")),\n            style: normalizeStyle({ height: `${_ctx.strokeWidth}px` })\n          }, [\n            createElementVNode(\"div\", {\n              class: normalizeClass([\n                unref(ns).be(\"bar\", \"inner\"),\n                { [unref(ns).bem(\"bar\", \"inner\", \"indeterminate\")]: _ctx.indeterminate },\n                { [unref(ns).bem(\"bar\", \"inner\", \"striped\")]: _ctx.striped },\n                { [unref(ns).bem(\"bar\", \"inner\", \"striped-flow\")]: _ctx.stripedFlow }\n              ]),\n              style: normalizeStyle(unref(barStyle))\n            }, [\n              (_ctx.showText || _ctx.$slots.default) && _ctx.textInside ? (openBlock(), createElementBlock(\"div\", {\n                key: 0,\n                class: normalizeClass(unref(ns).be(\"bar\", \"innerText\"))\n              }, [\n                renderSlot(_ctx.$slots, \"default\", { percentage: _ctx.percentage }, () => [\n                  createElementVNode(\"span\", null, toDisplayString(unref(content)), 1)\n                ])\n              ], 2)) : createCommentVNode(\"v-if\", true)\n            ], 6)\n          ], 6)\n        ], 2)) : (openBlock(), createElementBlock(\"div\", {\n          key: 1,\n          class: normalizeClass(unref(ns).b(\"circle\")),\n          style: normalizeStyle({ height: `${_ctx.width}px`, width: `${_ctx.width}px` })\n        }, [\n          (openBlock(), createElementBlock(\"svg\", { viewBox: \"0 0 100 100\" }, [\n            createElementVNode(\"path\", {\n              class: normalizeClass(unref(ns).be(\"circle\", \"track\")),\n              d: unref(trackPath),\n              stroke: `var(${unref(ns).cssVarName(\"fill-color-light\")}, #e5e9f2)`,\n              \"stroke-linecap\": _ctx.strokeLinecap,\n              \"stroke-width\": unref(relativeStrokeWidth),\n              fill: \"none\",\n              style: normalizeStyle(unref(trailPathStyle))\n            }, null, 14, [\"d\", \"stroke\", \"stroke-linecap\", \"stroke-width\"]),\n            createElementVNode(\"path\", {\n              class: normalizeClass(unref(ns).be(\"circle\", \"path\")),\n              d: unref(trackPath),\n              stroke: unref(stroke),\n              fill: \"none\",\n              opacity: _ctx.percentage ? 1 : 0,\n              \"stroke-linecap\": _ctx.strokeLinecap,\n              \"stroke-width\": unref(relativeStrokeWidth),\n              style: normalizeStyle(unref(circlePathStyle))\n            }, null, 14, [\"d\", \"stroke\", \"opacity\", \"stroke-linecap\", \"stroke-width\"])\n          ]))\n        ], 6)),\n        (_ctx.showText || _ctx.$slots.default) && !_ctx.textInside ? (openBlock(), createElementBlock(\"div\", {\n          key: 2,\n          class: normalizeClass(unref(ns).e(\"text\")),\n          style: normalizeStyle({ fontSize: `${unref(progressTextSize)}px` })\n        }, [\n          renderSlot(_ctx.$slots, \"default\", { percentage: _ctx.percentage }, () => [\n            !_ctx.status ? (openBlock(), createElementBlock(\"span\", { key: 0 }, toDisplayString(unref(content)), 1)) : (openBlock(), createBlock(unref(ElIcon), { key: 1 }, {\n              default: withCtx(() => [\n                (openBlock(), createBlock(resolveDynamicComponent(unref(statusIcon))))\n              ]),\n              _: 1\n            }))\n          ])\n        ], 6)) : createCommentVNode(\"v-if\", true)\n      ], 10, [\"aria-valuenow\"]);\n    };\n  }\n});\nvar Progress = /* @__PURE__ */ _export_sfc(_sfc_main$6, [[\"__file\", \"progress.vue\"]]);\nconst ElProgress = withInstall(Progress);\nconst isValidComponentSize = (val) => [\"\", ...componentSizes].includes(val);\nconst uploadContextKey = Symbol(\"uploadContextKey\");\nconst SCOPE$1 = \"ElUpload\";\nclass UploadAjaxError extends Error {\n  constructor(message2, status, method, url) {\n    super(message2);\n    this.name = \"UploadAjaxError\";\n    this.status = status;\n    this.method = method;\n    this.url = url;\n  }\n}\nfunction getError(action, option, xhr) {\n  let msg;\n  if (xhr.response) {\n    msg = `${xhr.response.error || xhr.response}`;\n  } else if (xhr.responseText) {\n    msg = `${xhr.responseText}`;\n  } else {\n    msg = `fail to ${option.method} ${action} ${xhr.status}`;\n  }\n  return new UploadAjaxError(msg, xhr.status, option.method, action);\n}\nfunction getBody(xhr) {\n  const text = xhr.responseText || xhr.response;\n  if (!text) {\n    return text;\n  }\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\nconst ajaxUpload = (option) => {\n  if (typeof XMLHttpRequest === \"undefined\")\n    throwError(SCOPE$1, \"XMLHttpRequest is undefined\");\n  const xhr = new XMLHttpRequest();\n  const action = option.action;\n  if (xhr.upload) {\n    xhr.upload.addEventListener(\"progress\", (evt) => {\n      const progressEvt = evt;\n      progressEvt.percent = evt.total > 0 ? evt.loaded / evt.total * 100 : 0;\n      option.onProgress(progressEvt);\n    });\n  }\n  const formData = new FormData();\n  if (option.data) {\n    for (const [key, value] of Object.entries(option.data)) {\n      if (isArray(value) && value.length)\n        formData.append(key, ...value);\n      else\n        formData.append(key, value);\n    }\n  }\n  formData.append(option.filename, option.file, option.file.name);\n  xhr.addEventListener(\"error\", () => {\n    option.onError(getError(action, option, xhr));\n  });\n  xhr.addEventListener(\"load\", () => {\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(action, option, xhr));\n    }\n    option.onSuccess(getBody(xhr));\n  });\n  xhr.open(option.method, action, true);\n  if (option.withCredentials && \"withCredentials\" in xhr) {\n    xhr.withCredentials = true;\n  }\n  const headers = option.headers || {};\n  if (headers instanceof Headers) {\n    headers.forEach((value, key) => xhr.setRequestHeader(key, value));\n  } else {\n    for (const [key, value] of Object.entries(headers)) {\n      if (isNil(value))\n        continue;\n      xhr.setRequestHeader(key, String(value));\n    }\n  }\n  xhr.send(formData);\n  return xhr;\n};\nconst uploadListTypes = [\"text\", \"picture\", \"picture-card\"];\nlet fileId = 1;\nconst genFileId = () => Date.now() + fileId++;\nconst uploadBaseProps = buildProps({\n  action: {\n    type: String,\n    default: \"#\"\n  },\n  headers: {\n    type: definePropType(Object)\n  },\n  method: {\n    type: String,\n    default: \"post\"\n  },\n  data: {\n    type: definePropType([Object, Function, Promise]),\n    default: () => mutable({})\n  },\n  multiple: Boolean,\n  name: {\n    type: String,\n    default: \"file\"\n  },\n  drag: Boolean,\n  withCredentials: Boolean,\n  showFileList: {\n    type: Boolean,\n    default: true\n  },\n  accept: {\n    type: String,\n    default: \"\"\n  },\n  fileList: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  autoUpload: {\n    type: Boolean,\n    default: true\n  },\n  listType: {\n    type: String,\n    values: uploadListTypes,\n    default: \"text\"\n  },\n  httpRequest: {\n    type: definePropType(Function),\n    default: ajaxUpload\n  },\n  disabled: Boolean,\n  limit: Number\n});\nconst uploadProps = buildProps({\n  ...uploadBaseProps,\n  beforeUpload: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  beforeRemove: {\n    type: definePropType(Function)\n  },\n  onRemove: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onChange: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onPreview: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onSuccess: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onProgress: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onError: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onExceed: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  crossorigin: {\n    type: definePropType(String)\n  }\n});\nconst uploadListProps = buildProps({\n  files: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  handlePreview: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  listType: {\n    type: String,\n    values: uploadListTypes,\n    default: \"text\"\n  },\n  crossorigin: {\n    type: definePropType(String)\n  }\n});\nconst uploadListEmits = {\n  remove: (file) => !!file\n};\nconst __default__$4 = defineComponent({\n  name: \"ElUploadList\"\n});\nconst _sfc_main$5 = /* @__PURE__ */ defineComponent({\n  ...__default__$4,\n  props: uploadListProps,\n  emits: uploadListEmits,\n  setup(__props, { emit }) {\n    const props = __props;\n    const { t } = useLocale();\n    const nsUpload = useNamespace(\"upload\");\n    const nsIcon = useNamespace(\"icon\");\n    const nsList = useNamespace(\"list\");\n    const disabled = useFormDisabled();\n    const focusing = ref(false);\n    const containerKls = computed(() => [\n      nsUpload.b(\"list\"),\n      nsUpload.bm(\"list\", props.listType),\n      nsUpload.is(\"disabled\", props.disabled)\n    ]);\n    const handleRemove = (file) => {\n      emit(\"remove\", file);\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(TransitionGroup, {\n        tag: \"ul\",\n        class: normalizeClass(unref(containerKls)),\n        name: unref(nsList).b()\n      }, {\n        default: withCtx(() => [\n          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.files, (file, index) => {\n            return openBlock(), createElementBlock(\"li\", {\n              key: file.uid || file.name,\n              class: normalizeClass([\n                unref(nsUpload).be(\"list\", \"item\"),\n                unref(nsUpload).is(file.status),\n                { focusing: focusing.value }\n              ]),\n              tabindex: \"0\",\n              onKeydown: withKeys(($event) => !unref(disabled) && handleRemove(file), [\"delete\"]),\n              onFocus: ($event) => focusing.value = true,\n              onBlur: ($event) => focusing.value = false,\n              onClick: ($event) => focusing.value = false\n            }, [\n              renderSlot(_ctx.$slots, \"default\", {\n                file,\n                index\n              }, () => [\n                _ctx.listType === \"picture\" || file.status !== \"uploading\" && _ctx.listType === \"picture-card\" ? (openBlock(), createElementBlock(\"img\", {\n                  key: 0,\n                  class: normalizeClass(unref(nsUpload).be(\"list\", \"item-thumbnail\")),\n                  src: file.url,\n                  crossorigin: _ctx.crossorigin,\n                  alt: \"\"\n                }, null, 10, [\"src\", \"crossorigin\"])) : createCommentVNode(\"v-if\", true),\n                file.status === \"uploading\" || _ctx.listType !== \"picture-card\" ? (openBlock(), createElementBlock(\"div\", {\n                  key: 1,\n                  class: normalizeClass(unref(nsUpload).be(\"list\", \"item-info\"))\n                }, [\n                  createElementVNode(\"a\", {\n                    class: normalizeClass(unref(nsUpload).be(\"list\", \"item-name\")),\n                    onClick: withModifiers(($event) => _ctx.handlePreview(file), [\"prevent\"])\n                  }, [\n                    createVNode(unref(ElIcon), {\n                      class: normalizeClass(unref(nsIcon).m(\"document\"))\n                    }, {\n                      default: withCtx(() => [\n                        createVNode(unref(document_default))\n                      ]),\n                      _: 1\n                    }, 8, [\"class\"]),\n                    createElementVNode(\"span\", {\n                      class: normalizeClass(unref(nsUpload).be(\"list\", \"item-file-name\")),\n                      title: file.name\n                    }, toDisplayString(file.name), 11, [\"title\"])\n                  ], 10, [\"onClick\"]),\n                  file.status === \"uploading\" ? (openBlock(), createBlock(unref(ElProgress), {\n                    key: 0,\n                    type: _ctx.listType === \"picture-card\" ? \"circle\" : \"line\",\n                    \"stroke-width\": _ctx.listType === \"picture-card\" ? 6 : 2,\n                    percentage: Number(file.percentage),\n                    style: normalizeStyle(_ctx.listType === \"picture-card\" ? \"\" : \"margin-top: 0.5rem\")\n                  }, null, 8, [\"type\", \"stroke-width\", \"percentage\", \"style\"])) : createCommentVNode(\"v-if\", true)\n                ], 2)) : createCommentVNode(\"v-if\", true),\n                createElementVNode(\"label\", {\n                  class: normalizeClass(unref(nsUpload).be(\"list\", \"item-status-label\"))\n                }, [\n                  _ctx.listType === \"text\" ? (openBlock(), createBlock(unref(ElIcon), {\n                    key: 0,\n                    class: normalizeClass([unref(nsIcon).m(\"upload-success\"), unref(nsIcon).m(\"circle-check\")])\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(unref(circle_check_default))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"])) : [\"picture-card\", \"picture\"].includes(_ctx.listType) ? (openBlock(), createBlock(unref(ElIcon), {\n                    key: 1,\n                    class: normalizeClass([unref(nsIcon).m(\"upload-success\"), unref(nsIcon).m(\"check\")])\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(unref(check_default))\n                    ]),\n                    _: 1\n                  }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true)\n                ], 2),\n                !unref(disabled) ? (openBlock(), createBlock(unref(ElIcon), {\n                  key: 2,\n                  class: normalizeClass(unref(nsIcon).m(\"close\")),\n                  onClick: ($event) => handleRemove(file)\n                }, {\n                  default: withCtx(() => [\n                    createVNode(unref(close_default))\n                  ]),\n                  _: 2\n                }, 1032, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true),\n                createCommentVNode(\" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn\"),\n                createCommentVNode(\" This is a bug which needs to be fixed \"),\n                createCommentVNode(\" TODO: Fix the incorrect navigation interaction \"),\n                !unref(disabled) ? (openBlock(), createElementBlock(\"i\", {\n                  key: 3,\n                  class: normalizeClass(unref(nsIcon).m(\"close-tip\"))\n                }, toDisplayString(unref(t)(\"el.upload.deleteTip\")), 3)) : createCommentVNode(\"v-if\", true),\n                _ctx.listType === \"picture-card\" ? (openBlock(), createElementBlock(\"span\", {\n                  key: 4,\n                  class: normalizeClass(unref(nsUpload).be(\"list\", \"item-actions\"))\n                }, [\n                  createElementVNode(\"span\", {\n                    class: normalizeClass(unref(nsUpload).be(\"list\", \"item-preview\")),\n                    onClick: ($event) => _ctx.handlePreview(file)\n                  }, [\n                    createVNode(unref(ElIcon), {\n                      class: normalizeClass(unref(nsIcon).m(\"zoom-in\"))\n                    }, {\n                      default: withCtx(() => [\n                        createVNode(unref(zoom_in_default))\n                      ]),\n                      _: 1\n                    }, 8, [\"class\"])\n                  ], 10, [\"onClick\"]),\n                  !unref(disabled) ? (openBlock(), createElementBlock(\"span\", {\n                    key: 0,\n                    class: normalizeClass(unref(nsUpload).be(\"list\", \"item-delete\")),\n                    onClick: ($event) => handleRemove(file)\n                  }, [\n                    createVNode(unref(ElIcon), {\n                      class: normalizeClass(unref(nsIcon).m(\"delete\"))\n                    }, {\n                      default: withCtx(() => [\n                        createVNode(unref(delete_default))\n                      ]),\n                      _: 1\n                    }, 8, [\"class\"])\n                  ], 10, [\"onClick\"])) : createCommentVNode(\"v-if\", true)\n                ], 2)) : createCommentVNode(\"v-if\", true)\n              ])\n            ], 42, [\"onKeydown\", \"onFocus\", \"onBlur\", \"onClick\"]);\n          }), 128)),\n          renderSlot(_ctx.$slots, \"append\")\n        ]),\n        _: 3\n      }, 8, [\"class\", \"name\"]);\n    };\n  }\n});\nvar UploadList = /* @__PURE__ */ _export_sfc(_sfc_main$5, [[\"__file\", \"upload-list.vue\"]]);\nconst uploadDraggerProps = buildProps({\n  disabled: {\n    type: Boolean,\n    default: false\n  }\n});\nconst uploadDraggerEmits = {\n  file: (file) => isArray(file)\n};\nconst COMPONENT_NAME = \"ElUploadDrag\";\nconst __default__$3 = defineComponent({\n  name: COMPONENT_NAME\n});\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  ...__default__$3,\n  props: uploadDraggerProps,\n  emits: uploadDraggerEmits,\n  setup(__props, { emit }) {\n    const uploaderContext = inject(uploadContextKey);\n    if (!uploaderContext) {\n      throwError(COMPONENT_NAME, \"usage: <el-upload><el-upload-dragger /></el-upload>\");\n    }\n    const ns = useNamespace(\"upload\");\n    const dragover = ref(false);\n    const disabled = useFormDisabled();\n    const onDrop = (e) => {\n      if (disabled.value)\n        return;\n      dragover.value = false;\n      e.stopPropagation();\n      const files = Array.from(e.dataTransfer.files);\n      const items = e.dataTransfer.items || [];\n      files.forEach((file, index) => {\n        var _a;\n        const item = items[index];\n        const entry = (_a = item == null ? void 0 : item.webkitGetAsEntry) == null ? void 0 : _a.call(item);\n        if (entry) {\n          file.isDirectory = entry.isDirectory;\n        }\n      });\n      emit(\"file\", files);\n    };\n    const onDragover = () => {\n      if (!disabled.value)\n        dragover.value = true;\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([unref(ns).b(\"dragger\"), unref(ns).is(\"dragover\", dragover.value)]),\n        onDrop: withModifiers(onDrop, [\"prevent\"]),\n        onDragover: withModifiers(onDragover, [\"prevent\"]),\n        onDragleave: withModifiers(($event) => dragover.value = false, [\"prevent\"])\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 42, [\"onDrop\", \"onDragover\", \"onDragleave\"]);\n    };\n  }\n});\nvar UploadDragger = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"__file\", \"upload-dragger.vue\"]]);\nconst uploadContentProps = buildProps({\n  ...uploadBaseProps,\n  beforeUpload: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onRemove: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onStart: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onSuccess: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onProgress: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onError: {\n    type: definePropType(Function),\n    default: NOOP\n  },\n  onExceed: {\n    type: definePropType(Function),\n    default: NOOP\n  }\n});\nconst __default__$2 = defineComponent({\n  name: \"ElUploadContent\",\n  inheritAttrs: false\n});\nconst _sfc_main$3 = /* @__PURE__ */ defineComponent({\n  ...__default__$2,\n  props: uploadContentProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const ns = useNamespace(\"upload\");\n    const disabled = useFormDisabled();\n    const requests = shallowRef({});\n    const inputRef = shallowRef();\n    const uploadFiles = (files) => {\n      if (files.length === 0)\n        return;\n      const { autoUpload, limit, fileList, multiple, onStart, onExceed } = props;\n      if (limit && fileList.length + files.length > limit) {\n        onExceed(files, fileList);\n        return;\n      }\n      if (!multiple) {\n        files = files.slice(0, 1);\n      }\n      for (const file of files) {\n        const rawFile = file;\n        rawFile.uid = genFileId();\n        onStart(rawFile);\n        if (autoUpload)\n          upload(rawFile);\n      }\n    };\n    const upload = async (rawFile) => {\n      inputRef.value.value = \"\";\n      if (!props.beforeUpload) {\n        return doUpload(rawFile);\n      }\n      let hookResult;\n      let beforeData = {};\n      try {\n        const originData = props.data;\n        const beforeUploadPromise = props.beforeUpload(rawFile);\n        beforeData = isPlainObject(props.data) ? cloneDeep(props.data) : props.data;\n        hookResult = await beforeUploadPromise;\n        if (isPlainObject(props.data) && isEqual(originData, beforeData)) {\n          beforeData = cloneDeep(props.data);\n        }\n      } catch (e) {\n        hookResult = false;\n      }\n      if (hookResult === false) {\n        props.onRemove(rawFile);\n        return;\n      }\n      let file = rawFile;\n      if (hookResult instanceof Blob) {\n        if (hookResult instanceof File) {\n          file = hookResult;\n        } else {\n          file = new File([hookResult], rawFile.name, {\n            type: rawFile.type\n          });\n        }\n      }\n      doUpload(Object.assign(file, {\n        uid: rawFile.uid\n      }), beforeData);\n    };\n    const resolveData = async (data, rawFile) => {\n      if (isFunction(data)) {\n        return data(rawFile);\n      }\n      return data;\n    };\n    const doUpload = async (rawFile, beforeData) => {\n      const {\n        headers,\n        data,\n        method,\n        withCredentials,\n        name: filename,\n        action,\n        onProgress,\n        onSuccess,\n        onError,\n        httpRequest\n      } = props;\n      try {\n        beforeData = await resolveData(beforeData != null ? beforeData : data, rawFile);\n      } catch (e) {\n        props.onRemove(rawFile);\n        return;\n      }\n      const { uid } = rawFile;\n      const options = {\n        headers: headers || {},\n        withCredentials,\n        file: rawFile,\n        data: beforeData,\n        method,\n        filename,\n        action,\n        onProgress: (evt) => {\n          onProgress(evt, rawFile);\n        },\n        onSuccess: (res) => {\n          onSuccess(res, rawFile);\n          delete requests.value[uid];\n        },\n        onError: (err) => {\n          onError(err, rawFile);\n          delete requests.value[uid];\n        }\n      };\n      const request = httpRequest(options);\n      requests.value[uid] = request;\n      if (request instanceof Promise) {\n        request.then(options.onSuccess, options.onError);\n      }\n    };\n    const handleChange = (e) => {\n      const files = e.target.files;\n      if (!files)\n        return;\n      uploadFiles(Array.from(files));\n    };\n    const handleClick = () => {\n      if (!disabled.value) {\n        inputRef.value.value = \"\";\n        inputRef.value.click();\n      }\n    };\n    const handleKeydown = () => {\n      handleClick();\n    };\n    const abort = (file) => {\n      const _reqs = entriesOf(requests.value).filter(file ? ([uid]) => String(file.uid) === uid : () => true);\n      _reqs.forEach(([uid, req]) => {\n        if (req instanceof XMLHttpRequest)\n          req.abort();\n        delete requests.value[uid];\n      });\n    };\n    expose({\n      abort,\n      upload\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\n          unref(ns).b(),\n          unref(ns).m(_ctx.listType),\n          unref(ns).is(\"drag\", _ctx.drag),\n          unref(ns).is(\"disabled\", unref(disabled))\n        ]),\n        tabindex: unref(disabled) ? \"-1\" : \"0\",\n        onClick: handleClick,\n        onKeydown: withKeys(withModifiers(handleKeydown, [\"self\"]), [\"enter\", \"space\"])\n      }, [\n        _ctx.drag ? (openBlock(), createBlock(UploadDragger, {\n          key: 0,\n          disabled: unref(disabled),\n          onFile: uploadFiles\n        }, {\n          default: withCtx(() => [\n            renderSlot(_ctx.$slots, \"default\")\n          ]),\n          _: 3\n        }, 8, [\"disabled\"])) : renderSlot(_ctx.$slots, \"default\", { key: 1 }),\n        createElementVNode(\"input\", {\n          ref_key: \"inputRef\",\n          ref: inputRef,\n          class: normalizeClass(unref(ns).e(\"input\")),\n          name: _ctx.name,\n          disabled: unref(disabled),\n          multiple: _ctx.multiple,\n          accept: _ctx.accept,\n          type: \"file\",\n          onChange: handleChange,\n          onClick: withModifiers(() => {\n          }, [\"stop\"])\n        }, null, 42, [\"name\", \"disabled\", \"multiple\", \"accept\", \"onClick\"])\n      ], 42, [\"tabindex\", \"onKeydown\"]);\n    };\n  }\n});\nvar UploadContent = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"__file\", \"upload-content.vue\"]]);\nconst SCOPE = \"ElUpload\";\nconst revokeFileObjectURL = (file) => {\n  var _a;\n  if ((_a = file.url) == null ? void 0 : _a.startsWith(\"blob:\")) {\n    URL.revokeObjectURL(file.url);\n  }\n};\nconst useHandlers = (props, uploadRef) => {\n  const uploadFiles = useVModel(props, \"fileList\", void 0, { passive: true });\n  const getFile = (rawFile) => uploadFiles.value.find((file) => file.uid === rawFile.uid);\n  function abort(file) {\n    var _a;\n    (_a = uploadRef.value) == null ? void 0 : _a.abort(file);\n  }\n  function clearFiles(states = [\"ready\", \"uploading\", \"success\", \"fail\"]) {\n    uploadFiles.value = uploadFiles.value.filter((row) => !states.includes(row.status));\n  }\n  function removeFile(file) {\n    uploadFiles.value = uploadFiles.value.filter((uploadFile) => uploadFile.uid !== file.uid);\n  }\n  const handleError = (err, rawFile) => {\n    const file = getFile(rawFile);\n    if (!file)\n      return;\n    console.error(err);\n    file.status = \"fail\";\n    removeFile(file);\n    props.onError(err, file, uploadFiles.value);\n    props.onChange(file, uploadFiles.value);\n  };\n  const handleProgress = (evt, rawFile) => {\n    const file = getFile(rawFile);\n    if (!file)\n      return;\n    props.onProgress(evt, file, uploadFiles.value);\n    file.status = \"uploading\";\n    file.percentage = Math.round(evt.percent);\n  };\n  const handleSuccess = (response, rawFile) => {\n    const file = getFile(rawFile);\n    if (!file)\n      return;\n    file.status = \"success\";\n    file.response = response;\n    props.onSuccess(response, file, uploadFiles.value);\n    props.onChange(file, uploadFiles.value);\n  };\n  const handleStart = (file) => {\n    if (isNil(file.uid))\n      file.uid = genFileId();\n    const uploadFile = {\n      name: file.name,\n      percentage: 0,\n      status: \"ready\",\n      size: file.size,\n      raw: file,\n      uid: file.uid\n    };\n    if (props.listType === \"picture-card\" || props.listType === \"picture\") {\n      try {\n        uploadFile.url = URL.createObjectURL(file);\n      } catch (err) {\n        debugWarn(SCOPE, err.message);\n        props.onError(err, uploadFile, uploadFiles.value);\n      }\n    }\n    uploadFiles.value = [...uploadFiles.value, uploadFile];\n    props.onChange(uploadFile, uploadFiles.value);\n  };\n  const handleRemove = async (file) => {\n    const uploadFile = file instanceof File ? getFile(file) : file;\n    if (!uploadFile)\n      throwError(SCOPE, \"file to be removed not found\");\n    const doRemove = (file2) => {\n      abort(file2);\n      removeFile(file2);\n      props.onRemove(file2, uploadFiles.value);\n      revokeFileObjectURL(file2);\n    };\n    if (props.beforeRemove) {\n      const before = await props.beforeRemove(uploadFile, uploadFiles.value);\n      if (before !== false)\n        doRemove(uploadFile);\n    } else {\n      doRemove(uploadFile);\n    }\n  };\n  function submit() {\n    uploadFiles.value.filter(({ status }) => status === \"ready\").forEach(({ raw }) => {\n      var _a;\n      return raw && ((_a = uploadRef.value) == null ? void 0 : _a.upload(raw));\n    });\n  }\n  watch(() => props.listType, (val) => {\n    if (val !== \"picture-card\" && val !== \"picture\") {\n      return;\n    }\n    uploadFiles.value = uploadFiles.value.map((file) => {\n      const { raw, url } = file;\n      if (!url && raw) {\n        try {\n          file.url = URL.createObjectURL(raw);\n        } catch (err) {\n          props.onError(err, file, uploadFiles.value);\n        }\n      }\n      return file;\n    });\n  });\n  watch(uploadFiles, (files) => {\n    for (const file of files) {\n      file.uid || (file.uid = genFileId());\n      file.status || (file.status = \"success\");\n    }\n  }, { immediate: true, deep: true });\n  return {\n    uploadFiles,\n    abort,\n    clearFiles,\n    handleError,\n    handleProgress,\n    handleStart,\n    handleSuccess,\n    handleRemove,\n    submit,\n    revokeFileObjectURL\n  };\n};\nconst __default__$1 = defineComponent({\n  name: \"ElUpload\"\n});\nconst _sfc_main$2 = /* @__PURE__ */ defineComponent({\n  ...__default__$1,\n  props: uploadProps,\n  setup(__props, { expose }) {\n    const props = __props;\n    const disabled = useFormDisabled();\n    const uploadRef = shallowRef();\n    const {\n      abort,\n      submit,\n      clearFiles,\n      uploadFiles,\n      handleStart,\n      handleError,\n      handleRemove,\n      handleSuccess,\n      handleProgress,\n      revokeFileObjectURL: revokeFileObjectURL2\n    } = useHandlers(props, uploadRef);\n    const isPictureCard = computed(() => props.listType === \"picture-card\");\n    const uploadContentProps2 = computed(() => ({\n      ...props,\n      fileList: uploadFiles.value,\n      onStart: handleStart,\n      onProgress: handleProgress,\n      onSuccess: handleSuccess,\n      onError: handleError,\n      onRemove: handleRemove\n    }));\n    onBeforeUnmount(() => {\n      uploadFiles.value.forEach(revokeFileObjectURL2);\n    });\n    provide(uploadContextKey, {\n      accept: toRef(props, \"accept\")\n    });\n    expose({\n      abort,\n      submit,\n      clearFiles,\n      handleStart,\n      handleRemove\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", null, [\n        unref(isPictureCard) && _ctx.showFileList ? (openBlock(), createBlock(UploadList, {\n          key: 0,\n          disabled: unref(disabled),\n          \"list-type\": _ctx.listType,\n          files: unref(uploadFiles),\n          crossorigin: _ctx.crossorigin,\n          \"handle-preview\": _ctx.onPreview,\n          onRemove: unref(handleRemove)\n        }, createSlots({\n          append: withCtx(() => [\n            createVNode(UploadContent, mergeProps({\n              ref_key: \"uploadRef\",\n              ref: uploadRef\n            }, unref(uploadContentProps2)), {\n              default: withCtx(() => [\n                _ctx.$slots.trigger ? renderSlot(_ctx.$slots, \"trigger\", { key: 0 }) : createCommentVNode(\"v-if\", true),\n                !_ctx.$slots.trigger && _ctx.$slots.default ? renderSlot(_ctx.$slots, \"default\", { key: 1 }) : createCommentVNode(\"v-if\", true)\n              ]),\n              _: 3\n            }, 16)\n          ]),\n          _: 2\n        }, [\n          _ctx.$slots.file ? {\n            name: \"default\",\n            fn: withCtx(({ file, index }) => [\n              renderSlot(_ctx.$slots, \"file\", {\n                file,\n                index\n              })\n            ])\n          } : void 0\n        ]), 1032, [\"disabled\", \"list-type\", \"files\", \"crossorigin\", \"handle-preview\", \"onRemove\"])) : createCommentVNode(\"v-if\", true),\n        !unref(isPictureCard) || unref(isPictureCard) && !_ctx.showFileList ? (openBlock(), createBlock(UploadContent, mergeProps({\n          key: 1,\n          ref_key: \"uploadRef\",\n          ref: uploadRef\n        }, unref(uploadContentProps2)), {\n          default: withCtx(() => [\n            _ctx.$slots.trigger ? renderSlot(_ctx.$slots, \"trigger\", { key: 0 }) : createCommentVNode(\"v-if\", true),\n            !_ctx.$slots.trigger && _ctx.$slots.default ? renderSlot(_ctx.$slots, \"default\", { key: 1 }) : createCommentVNode(\"v-if\", true)\n          ]),\n          _: 3\n        }, 16)) : createCommentVNode(\"v-if\", true),\n        _ctx.$slots.trigger ? renderSlot(_ctx.$slots, \"default\", { key: 2 }) : createCommentVNode(\"v-if\", true),\n        renderSlot(_ctx.$slots, \"tip\"),\n        !unref(isPictureCard) && _ctx.showFileList ? (openBlock(), createBlock(UploadList, {\n          key: 3,\n          disabled: unref(disabled),\n          \"list-type\": _ctx.listType,\n          files: unref(uploadFiles),\n          crossorigin: _ctx.crossorigin,\n          \"handle-preview\": _ctx.onPreview,\n          onRemove: unref(handleRemove)\n        }, createSlots({\n          _: 2\n        }, [\n          _ctx.$slots.file ? {\n            name: \"default\",\n            fn: withCtx(({ file, index }) => [\n              renderSlot(_ctx.$slots, \"file\", {\n                file,\n                index\n              })\n            ])\n          } : void 0\n        ]), 1032, [\"disabled\", \"list-type\", \"files\", \"crossorigin\", \"handle-preview\", \"onRemove\"])) : createCommentVNode(\"v-if\", true)\n      ]);\n    };\n  }\n});\nvar Upload = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"__file\", \"upload.vue\"]]);\nconst ElUpload = withInstall(Upload);\nfunction createLoadingComponent(options, appContext) {\n  let afterLeaveTimer;\n  const afterLeaveFlag = ref(false);\n  const data = reactive({\n    ...options,\n    originalPosition: \"\",\n    originalOverflow: \"\",\n    visible: false\n  });\n  function setText(text) {\n    data.text = text;\n  }\n  function destroySelf() {\n    const target = data.parent;\n    const ns = vm.ns;\n    if (!target.vLoadingAddClassList) {\n      let loadingNumber = target.getAttribute(\"loading-number\");\n      loadingNumber = Number.parseInt(loadingNumber) - 1;\n      if (!loadingNumber) {\n        removeClass(target, ns.bm(\"parent\", \"relative\"));\n        target.removeAttribute(\"loading-number\");\n      } else {\n        target.setAttribute(\"loading-number\", loadingNumber.toString());\n      }\n      removeClass(target, ns.bm(\"parent\", \"hidden\"));\n    }\n    removeElLoadingChild();\n    loadingInstance.unmount();\n  }\n  function removeElLoadingChild() {\n    var _a, _b;\n    (_b = (_a = vm.$el) == null ? void 0 : _a.parentNode) == null ? void 0 : _b.removeChild(vm.$el);\n  }\n  function close() {\n    var _a;\n    if (options.beforeClose && !options.beforeClose())\n      return;\n    afterLeaveFlag.value = true;\n    clearTimeout(afterLeaveTimer);\n    afterLeaveTimer = setTimeout(handleAfterLeave, 400);\n    data.visible = false;\n    (_a = options.closed) == null ? void 0 : _a.call(options);\n  }\n  function handleAfterLeave() {\n    if (!afterLeaveFlag.value)\n      return;\n    const target = data.parent;\n    afterLeaveFlag.value = false;\n    target.vLoadingAddClassList = void 0;\n    destroySelf();\n  }\n  const elLoadingComponent = defineComponent({\n    name: \"ElLoading\",\n    setup(_, { expose }) {\n      const { ns, zIndex: zIndex2 } = useGlobalComponentSettings(\"loading\");\n      expose({\n        ns,\n        zIndex: zIndex2\n      });\n      return () => {\n        const svg = data.spinner || data.svg;\n        const spinner = h(\"svg\", {\n          class: \"circular\",\n          viewBox: data.svgViewBox ? data.svgViewBox : \"0 0 50 50\",\n          ...svg ? { innerHTML: svg } : {}\n        }, [\n          h(\"circle\", {\n            class: \"path\",\n            cx: \"25\",\n            cy: \"25\",\n            r: \"20\",\n            fill: \"none\"\n          })\n        ]);\n        const spinnerText = data.text ? h(\"p\", { class: ns.b(\"text\") }, [data.text]) : void 0;\n        return h(Transition, {\n          name: ns.b(\"fade\"),\n          onAfterLeave: handleAfterLeave\n        }, {\n          default: withCtx(() => [\n            withDirectives(createVNode(\"div\", {\n              style: {\n                backgroundColor: data.background || \"\"\n              },\n              class: [\n                ns.b(\"mask\"),\n                data.customClass,\n                data.fullscreen ? \"is-fullscreen\" : \"\"\n              ]\n            }, [\n              h(\"div\", {\n                class: ns.b(\"spinner\")\n              }, [spinner, spinnerText])\n            ]), [[vShow, data.visible]])\n          ])\n        });\n      };\n    }\n  });\n  const loadingInstance = createApp(elLoadingComponent);\n  Object.assign(loadingInstance._context, appContext != null ? appContext : {});\n  const vm = loadingInstance.mount(document.createElement(\"div\"));\n  return {\n    ...toRefs(data),\n    setText,\n    removeElLoadingChild,\n    close,\n    handleAfterLeave,\n    vm,\n    get $el() {\n      return vm.$el;\n    }\n  };\n}\nlet fullscreenInstance = void 0;\nconst Loading = function(options = {}) {\n  if (!isClient)\n    return void 0;\n  const resolved = resolveOptions(options);\n  if (resolved.fullscreen && fullscreenInstance) {\n    return fullscreenInstance;\n  }\n  const instance = createLoadingComponent({\n    ...resolved,\n    closed: () => {\n      var _a;\n      (_a = resolved.closed) == null ? void 0 : _a.call(resolved);\n      if (resolved.fullscreen)\n        fullscreenInstance = void 0;\n    }\n  }, Loading._context);\n  addStyle(resolved, resolved.parent, instance);\n  addClassList(resolved, resolved.parent, instance);\n  resolved.parent.vLoadingAddClassList = () => addClassList(resolved, resolved.parent, instance);\n  let loadingNumber = resolved.parent.getAttribute(\"loading-number\");\n  if (!loadingNumber) {\n    loadingNumber = \"1\";\n  } else {\n    loadingNumber = `${Number.parseInt(loadingNumber) + 1}`;\n  }\n  resolved.parent.setAttribute(\"loading-number\", loadingNumber);\n  resolved.parent.appendChild(instance.$el);\n  nextTick(() => instance.visible.value = resolved.visible);\n  if (resolved.fullscreen) {\n    fullscreenInstance = instance;\n  }\n  return instance;\n};\nconst resolveOptions = (options) => {\n  var _a, _b, _c, _d;\n  let target;\n  if (isString(options.target)) {\n    target = (_a = document.querySelector(options.target)) != null ? _a : document.body;\n  } else {\n    target = options.target || document.body;\n  }\n  return {\n    parent: target === document.body || options.body ? document.body : target,\n    background: options.background || \"\",\n    svg: options.svg || \"\",\n    svgViewBox: options.svgViewBox || \"\",\n    spinner: options.spinner || false,\n    text: options.text || \"\",\n    fullscreen: target === document.body && ((_b = options.fullscreen) != null ? _b : true),\n    lock: (_c = options.lock) != null ? _c : false,\n    customClass: options.customClass || \"\",\n    visible: (_d = options.visible) != null ? _d : true,\n    beforeClose: options.beforeClose,\n    closed: options.closed,\n    target\n  };\n};\nconst addStyle = async (options, parent, instance) => {\n  const { nextZIndex } = instance.vm.zIndex || instance.vm._.exposed.zIndex;\n  const maskStyle = {};\n  if (options.fullscreen) {\n    instance.originalPosition.value = getStyle(document.body, \"position\");\n    instance.originalOverflow.value = getStyle(document.body, \"overflow\");\n    maskStyle.zIndex = nextZIndex();\n  } else if (options.parent === document.body) {\n    instance.originalPosition.value = getStyle(document.body, \"position\");\n    await nextTick();\n    for (const property of [\"top\", \"left\"]) {\n      const scroll = property === \"top\" ? \"scrollTop\" : \"scrollLeft\";\n      maskStyle[property] = `${options.target.getBoundingClientRect()[property] + document.body[scroll] + document.documentElement[scroll] - Number.parseInt(getStyle(document.body, `margin-${property}`), 10)}px`;\n    }\n    for (const property of [\"height\", \"width\"]) {\n      maskStyle[property] = `${options.target.getBoundingClientRect()[property]}px`;\n    }\n  } else {\n    instance.originalPosition.value = getStyle(parent, \"position\");\n  }\n  for (const [key, value] of Object.entries(maskStyle)) {\n    instance.$el.style[key] = value;\n  }\n};\nconst addClassList = (options, parent, instance) => {\n  const ns = instance.vm.ns || instance.vm._.exposed.ns;\n  if (![\"absolute\", \"fixed\", \"sticky\"].includes(instance.originalPosition.value)) {\n    addClass(parent, ns.bm(\"parent\", \"relative\"));\n  } else {\n    removeClass(parent, ns.bm(\"parent\", \"relative\"));\n  }\n  if (options.fullscreen && options.lock) {\n    addClass(parent, ns.bm(\"parent\", \"hidden\"));\n  } else {\n    removeClass(parent, ns.bm(\"parent\", \"hidden\"));\n  }\n};\nLoading._context = null;\nconst INSTANCE_KEY = Symbol(\"ElLoading\");\nconst createInstance = (el, binding) => {\n  var _a, _b, _c, _d;\n  const vm = binding.instance;\n  const getBindingProp = (key) => isObject(binding.value) ? binding.value[key] : void 0;\n  const resolveExpression = (key) => {\n    const data = isString(key) && (vm == null ? void 0 : vm[key]) || key;\n    if (data)\n      return ref(data);\n    else\n      return data;\n  };\n  const getProp2 = (name) => resolveExpression(getBindingProp(name) || el.getAttribute(`element-loading-${hyphenate(name)}`));\n  const fullscreen = (_a = getBindingProp(\"fullscreen\")) != null ? _a : binding.modifiers.fullscreen;\n  const options = {\n    text: getProp2(\"text\"),\n    svg: getProp2(\"svg\"),\n    svgViewBox: getProp2(\"svgViewBox\"),\n    spinner: getProp2(\"spinner\"),\n    background: getProp2(\"background\"),\n    customClass: getProp2(\"customClass\"),\n    fullscreen,\n    target: (_b = getBindingProp(\"target\")) != null ? _b : fullscreen ? void 0 : el,\n    body: (_c = getBindingProp(\"body\")) != null ? _c : binding.modifiers.body,\n    lock: (_d = getBindingProp(\"lock\")) != null ? _d : binding.modifiers.lock\n  };\n  const instance = Loading(options);\n  instance._context = vLoading._context;\n  el[INSTANCE_KEY] = {\n    options,\n    instance\n  };\n};\nconst updateOptions = (newOptions, originalOptions) => {\n  for (const key of Object.keys(originalOptions)) {\n    if (isRef(originalOptions[key]))\n      originalOptions[key].value = newOptions[key];\n  }\n};\nconst vLoading = {\n  mounted(el, binding) {\n    if (binding.value) {\n      createInstance(el, binding);\n    }\n  },\n  updated(el, binding) {\n    const instance = el[INSTANCE_KEY];\n    if (binding.oldValue !== binding.value) {\n      if (binding.value && !binding.oldValue) {\n        createInstance(el, binding);\n      } else if (binding.value && binding.oldValue) {\n        if (isObject(binding.value))\n          updateOptions(binding.value, instance.options);\n      } else {\n        instance == null ? void 0 : instance.instance.close();\n      }\n    }\n  },\n  unmounted(el) {\n    var _a;\n    (_a = el[INSTANCE_KEY]) == null ? void 0 : _a.instance.close();\n    el[INSTANCE_KEY] = null;\n  }\n};\nvLoading._context = null;\nconst messageTypes = [\"success\", \"info\", \"warning\", \"error\"];\nconst messageDefaults = mutable({\n  customClass: \"\",\n  dangerouslyUseHTMLString: false,\n  duration: 3e3,\n  icon: void 0,\n  id: \"\",\n  message: \"\",\n  onClose: void 0,\n  showClose: false,\n  type: \"info\",\n  plain: false,\n  offset: 16,\n  zIndex: 0,\n  grouping: false,\n  repeatNum: 1,\n  appendTo: isClient ? document.body : void 0\n});\nconst messageProps = buildProps({\n  customClass: {\n    type: String,\n    default: messageDefaults.customClass\n  },\n  dangerouslyUseHTMLString: {\n    type: Boolean,\n    default: messageDefaults.dangerouslyUseHTMLString\n  },\n  duration: {\n    type: Number,\n    default: messageDefaults.duration\n  },\n  icon: {\n    type: iconPropType,\n    default: messageDefaults.icon\n  },\n  id: {\n    type: String,\n    default: messageDefaults.id\n  },\n  message: {\n    type: definePropType([\n      String,\n      Object,\n      Function\n    ]),\n    default: messageDefaults.message\n  },\n  onClose: {\n    type: definePropType(Function),\n    default: messageDefaults.onClose\n  },\n  showClose: {\n    type: Boolean,\n    default: messageDefaults.showClose\n  },\n  type: {\n    type: String,\n    values: messageTypes,\n    default: messageDefaults.type\n  },\n  plain: {\n    type: Boolean,\n    default: messageDefaults.plain\n  },\n  offset: {\n    type: Number,\n    default: messageDefaults.offset\n  },\n  zIndex: {\n    type: Number,\n    default: messageDefaults.zIndex\n  },\n  grouping: {\n    type: Boolean,\n    default: messageDefaults.grouping\n  },\n  repeatNum: {\n    type: Number,\n    default: messageDefaults.repeatNum\n  }\n});\nconst messageEmits = {\n  destroy: () => true\n};\nconst instances = shallowReactive([]);\nconst getInstance = (id) => {\n  const idx = instances.findIndex((instance) => instance.id === id);\n  const current = instances[idx];\n  let prev;\n  if (idx > 0) {\n    prev = instances[idx - 1];\n  }\n  return { current, prev };\n};\nconst getLastOffset = (id) => {\n  const { prev } = getInstance(id);\n  if (!prev)\n    return 0;\n  return prev.vm.exposed.bottom.value;\n};\nconst getOffsetOrSpace = (id, offset) => {\n  const idx = instances.findIndex((instance) => instance.id === id);\n  return idx > 0 ? 16 : offset;\n};\nconst __default__ = defineComponent({\n  name: \"ElMessage\"\n});\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: messageProps,\n  emits: messageEmits,\n  setup(__props, { expose, emit }) {\n    const props = __props;\n    const { Close } = TypeComponents;\n    const isStartTransition = ref(false);\n    const { ns, zIndex: zIndex2 } = useGlobalComponentSettings(\"message\");\n    const { currentZIndex, nextZIndex } = zIndex2;\n    const messageRef = ref();\n    const visible = ref(false);\n    const height = ref(0);\n    let stopTimer = void 0;\n    const badgeType = computed(() => props.type ? props.type === \"error\" ? \"danger\" : props.type : \"info\");\n    const typeClass = computed(() => {\n      const type = props.type;\n      return { [ns.bm(\"icon\", type)]: type && TypeComponentsMap[type] };\n    });\n    const iconComponent = computed(() => props.icon || TypeComponentsMap[props.type] || \"\");\n    const lastOffset = computed(() => getLastOffset(props.id));\n    const offset = computed(() => getOffsetOrSpace(props.id, props.offset) + lastOffset.value);\n    const bottom = computed(() => height.value + offset.value);\n    const customStyle = computed(() => ({\n      top: `${offset.value}px`,\n      zIndex: currentZIndex.value\n    }));\n    function startTimer() {\n      if (props.duration === 0)\n        return;\n      ({ stop: stopTimer } = useTimeoutFn(() => {\n        close();\n      }, props.duration));\n    }\n    function clearTimer() {\n      stopTimer == null ? void 0 : stopTimer();\n    }\n    function close() {\n      visible.value = false;\n      nextTick(() => {\n        var _a;\n        if (!isStartTransition.value) {\n          (_a = props.onClose) == null ? void 0 : _a.call(props);\n          emit(\"destroy\");\n        }\n      });\n    }\n    function keydown({ code }) {\n      if (code === EVENT_CODE.esc) {\n        close();\n      }\n    }\n    onMounted(() => {\n      startTimer();\n      nextZIndex();\n      visible.value = true;\n    });\n    watch(() => props.repeatNum, () => {\n      clearTimer();\n      startTimer();\n    });\n    useEventListener(document, \"keydown\", keydown);\n    useResizeObserver(messageRef, () => {\n      height.value = messageRef.value.getBoundingClientRect().height;\n    });\n    expose({\n      visible,\n      bottom,\n      close\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Transition, {\n        name: unref(ns).b(\"fade\"),\n        onBeforeEnter: ($event) => isStartTransition.value = true,\n        onBeforeLeave: _ctx.onClose,\n        onAfterLeave: ($event) => _ctx.$emit(\"destroy\"),\n        persisted: \"\"\n      }, {\n        default: withCtx(() => [\n          withDirectives(createElementVNode(\"div\", {\n            id: _ctx.id,\n            ref_key: \"messageRef\",\n            ref: messageRef,\n            class: normalizeClass([\n              unref(ns).b(),\n              { [unref(ns).m(_ctx.type)]: _ctx.type },\n              unref(ns).is(\"closable\", _ctx.showClose),\n              unref(ns).is(\"plain\", _ctx.plain),\n              _ctx.customClass\n            ]),\n            style: normalizeStyle(unref(customStyle)),\n            role: \"alert\",\n            onMouseenter: clearTimer,\n            onMouseleave: startTimer\n          }, [\n            _ctx.repeatNum > 1 ? (openBlock(), createBlock(unref(ElBadge), {\n              key: 0,\n              value: _ctx.repeatNum,\n              type: unref(badgeType),\n              class: normalizeClass(unref(ns).e(\"badge\"))\n            }, null, 8, [\"value\", \"type\", \"class\"])) : createCommentVNode(\"v-if\", true),\n            unref(iconComponent) ? (openBlock(), createBlock(unref(ElIcon), {\n              key: 1,\n              class: normalizeClass([unref(ns).e(\"icon\"), unref(typeClass)])\n            }, {\n              default: withCtx(() => [\n                (openBlock(), createBlock(resolveDynamicComponent(unref(iconComponent))))\n              ]),\n              _: 1\n            }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n            renderSlot(_ctx.$slots, \"default\", {}, () => [\n              !_ctx.dangerouslyUseHTMLString ? (openBlock(), createElementBlock(\"p\", {\n                key: 0,\n                class: normalizeClass(unref(ns).e(\"content\"))\n              }, toDisplayString(_ctx.message), 3)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n                createCommentVNode(\" Caution here, message could've been compromised, never use user's input as message \"),\n                createElementVNode(\"p\", {\n                  class: normalizeClass(unref(ns).e(\"content\")),\n                  innerHTML: _ctx.message\n                }, null, 10, [\"innerHTML\"])\n              ], 2112))\n            ]),\n            _ctx.showClose ? (openBlock(), createBlock(unref(ElIcon), {\n              key: 2,\n              class: normalizeClass(unref(ns).e(\"closeBtn\")),\n              onClick: withModifiers(close, [\"stop\"])\n            }, {\n              default: withCtx(() => [\n                createVNode(unref(Close))\n              ]),\n              _: 1\n            }, 8, [\"class\", \"onClick\"])) : createCommentVNode(\"v-if\", true)\n          ], 46, [\"id\"]), [\n            [vShow, visible.value]\n          ])\n        ]),\n        _: 3\n      }, 8, [\"name\", \"onBeforeEnter\", \"onBeforeLeave\", \"onAfterLeave\"]);\n    };\n  }\n});\nvar MessageConstructor = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__file\", \"message.vue\"]]);\nlet seed = 1;\nconst normalizeOptions = (params) => {\n  const options = !params || isString(params) || isVNode(params) || isFunction(params) ? { message: params } : params;\n  const normalized = {\n    ...messageDefaults,\n    ...options\n  };\n  if (!normalized.appendTo) {\n    normalized.appendTo = document.body;\n  } else if (isString(normalized.appendTo)) {\n    let appendTo = document.querySelector(normalized.appendTo);\n    if (!isElement(appendTo)) {\n      debugWarn(\"ElMessage\", \"the appendTo option is not an HTMLElement. Falling back to document.body.\");\n      appendTo = document.body;\n    }\n    normalized.appendTo = appendTo;\n  }\n  if (isBoolean(messageConfig.grouping) && !normalized.grouping) {\n    normalized.grouping = messageConfig.grouping;\n  }\n  if (isNumber(messageConfig.duration) && normalized.duration === 3e3) {\n    normalized.duration = messageConfig.duration;\n  }\n  if (isNumber(messageConfig.offset) && normalized.offset === 16) {\n    normalized.offset = messageConfig.offset;\n  }\n  if (isBoolean(messageConfig.showClose) && !normalized.showClose) {\n    normalized.showClose = messageConfig.showClose;\n  }\n  return normalized;\n};\nconst closeMessage = (instance) => {\n  const idx = instances.indexOf(instance);\n  if (idx === -1)\n    return;\n  instances.splice(idx, 1);\n  const { handler } = instance;\n  handler.close();\n};\nconst createMessage = ({ appendTo, ...options }, context) => {\n  const id = `message_${seed++}`;\n  const userOnClose = options.onClose;\n  const container = document.createElement(\"div\");\n  const props = {\n    ...options,\n    id,\n    onClose: () => {\n      userOnClose == null ? void 0 : userOnClose();\n      closeMessage(instance);\n    },\n    onDestroy: () => {\n      render(null, container);\n    }\n  };\n  const vnode = createVNode(MessageConstructor, props, isFunction(props.message) || isVNode(props.message) ? {\n    default: isFunction(props.message) ? props.message : () => props.message\n  } : null);\n  vnode.appContext = context || message._context;\n  render(vnode, container);\n  appendTo.appendChild(container.firstElementChild);\n  const vm = vnode.component;\n  const handler = {\n    close: () => {\n      vm.exposed.close();\n    }\n  };\n  const instance = {\n    id,\n    vnode,\n    vm,\n    handler,\n    props: vnode.component.props\n  };\n  return instance;\n};\nconst message = (options = {}, context) => {\n  if (!isClient)\n    return { close: () => void 0 };\n  const normalized = normalizeOptions(options);\n  if (normalized.grouping && instances.length) {\n    const instance2 = instances.find(({ vnode: vm }) => {\n      var _a;\n      return ((_a = vm.props) == null ? void 0 : _a.message) === normalized.message;\n    });\n    if (instance2) {\n      instance2.props.repeatNum += 1;\n      instance2.props.type = normalized.type;\n      return instance2.handler;\n    }\n  }\n  if (isNumber(messageConfig.max) && instances.length >= messageConfig.max) {\n    return { close: () => void 0 };\n  }\n  const instance = createMessage(normalized, context);\n  instances.push(instance);\n  return instance.handler;\n};\nmessageTypes.forEach((type) => {\n  message[type] = (options = {}, appContext) => {\n    const normalized = normalizeOptions(options);\n    return message({ ...normalized, type }, appContext);\n  };\n});\nfunction closeAll(type) {\n  const instancesToClose = [...instances];\n  for (const instance of instancesToClose) {\n    if (!type || type === instance.props.type) {\n      instance.handler.close();\n    }\n  }\n}\nmessage.closeAll = closeAll;\nmessage._context = null;\nconst ElMessage = withInstallFunction(message, \"$message\");\nconst FOCUSABLE_CHILDREN = \"_trap-focus-children\";\nconst FOCUS_STACK = [];\nconst FOCUS_HANDLER = (e) => {\n  var _a;\n  if (FOCUS_STACK.length === 0)\n    return;\n  const focusableElement = FOCUS_STACK[FOCUS_STACK.length - 1][FOCUSABLE_CHILDREN];\n  if (focusableElement.length > 0 && e.code === EVENT_CODE.tab) {\n    if (focusableElement.length === 1) {\n      e.preventDefault();\n      if (document.activeElement !== focusableElement[0]) {\n        focusableElement[0].focus();\n      }\n      return;\n    }\n    const goingBackward = e.shiftKey;\n    const isFirst = e.target === focusableElement[0];\n    const isLast = e.target === focusableElement[focusableElement.length - 1];\n    if (isFirst && goingBackward) {\n      e.preventDefault();\n      focusableElement[focusableElement.length - 1].focus();\n    }\n    if (isLast && !goingBackward) {\n      e.preventDefault();\n      focusableElement[0].focus();\n    }\n    if (process.env.NODE_ENV === \"test\") {\n      const index = focusableElement.indexOf(e.target);\n      if (index !== -1) {\n        (_a = focusableElement[goingBackward ? index - 1 : index + 1]) == null ? void 0 : _a.focus();\n      }\n    }\n  }\n};\nconst TrapFocus = {\n  beforeMount(el) {\n    el[FOCUSABLE_CHILDREN] = obtainAllFocusableElements$1(el);\n    FOCUS_STACK.push(el);\n    if (FOCUS_STACK.length <= 1) {\n      document.addEventListener(\"keydown\", FOCUS_HANDLER);\n    }\n  },\n  updated(el) {\n    nextTick(() => {\n      el[FOCUSABLE_CHILDREN] = obtainAllFocusableElements$1(el);\n    });\n  },\n  unmounted() {\n    FOCUS_STACK.shift();\n    if (FOCUS_STACK.length === 0) {\n      document.removeEventListener(\"keydown\", FOCUS_HANDLER);\n    }\n  }\n};\nconst _sfc_main = defineComponent({\n  name: \"ElMessageBox\",\n  directives: {\n    TrapFocus\n  },\n  components: {\n    ElButton,\n    ElFocusTrap,\n    ElInput,\n    ElOverlay,\n    ElIcon,\n    ...TypeComponents\n  },\n  inheritAttrs: false,\n  props: {\n    buttonSize: {\n      type: String,\n      validator: isValidComponentSize\n    },\n    modal: {\n      type: Boolean,\n      default: true\n    },\n    lockScroll: {\n      type: Boolean,\n      default: true\n    },\n    showClose: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickModal: {\n      type: Boolean,\n      default: true\n    },\n    closeOnPressEscape: {\n      type: Boolean,\n      default: true\n    },\n    closeOnHashChange: {\n      type: Boolean,\n      default: true\n    },\n    center: Boolean,\n    draggable: Boolean,\n    overflow: Boolean,\n    roundButton: {\n      default: false,\n      type: Boolean\n    },\n    container: {\n      type: String,\n      default: \"body\"\n    },\n    boxType: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [\"vanish\", \"action\"],\n  setup(props, { emit }) {\n    const {\n      locale,\n      zIndex: zIndex2,\n      ns,\n      size: btnSize\n    } = useGlobalComponentSettings(\"message-box\", computed(() => props.buttonSize));\n    const { t } = locale;\n    const { nextZIndex } = zIndex2;\n    const visible = ref(false);\n    const state = reactive({\n      autofocus: true,\n      beforeClose: null,\n      callback: null,\n      cancelButtonText: \"\",\n      cancelButtonClass: \"\",\n      confirmButtonText: \"\",\n      confirmButtonClass: \"\",\n      customClass: \"\",\n      customStyle: {},\n      dangerouslyUseHTMLString: false,\n      distinguishCancelAndClose: false,\n      icon: \"\",\n      closeIcon: \"\",\n      inputPattern: null,\n      inputPlaceholder: \"\",\n      inputType: \"text\",\n      inputValue: \"\",\n      inputValidator: void 0,\n      inputErrorMessage: \"\",\n      message: \"\",\n      modalFade: true,\n      modalClass: \"\",\n      showCancelButton: false,\n      showConfirmButton: true,\n      type: \"\",\n      title: void 0,\n      showInput: false,\n      action: \"\",\n      confirmButtonLoading: false,\n      cancelButtonLoading: false,\n      confirmButtonLoadingIcon: markRaw(loading_default),\n      cancelButtonLoadingIcon: markRaw(loading_default),\n      confirmButtonDisabled: false,\n      editorErrorMessage: \"\",\n      validateError: false,\n      zIndex: nextZIndex()\n    });\n    const typeClass = computed(() => {\n      const type = state.type;\n      return { [ns.bm(\"icon\", type)]: type && TypeComponentsMap[type] };\n    });\n    const contentId = useId();\n    const inputId = useId();\n    const iconComponent = computed(() => {\n      const type = state.type;\n      return state.icon || type && TypeComponentsMap[type] || \"\";\n    });\n    const hasMessage = computed(() => !!state.message);\n    const rootRef = ref();\n    const headerRef = ref();\n    const focusStartRef = ref();\n    const inputRef = ref();\n    const confirmRef = ref();\n    const confirmButtonClasses = computed(() => state.confirmButtonClass);\n    watch(() => state.inputValue, async (val) => {\n      await nextTick();\n      if (props.boxType === \"prompt\" && val) {\n        validate();\n      }\n    }, { immediate: true });\n    watch(() => visible.value, (val) => {\n      var _a, _b;\n      if (val) {\n        if (props.boxType !== \"prompt\") {\n          if (state.autofocus) {\n            focusStartRef.value = (_b = (_a = confirmRef.value) == null ? void 0 : _a.$el) != null ? _b : rootRef.value;\n          } else {\n            focusStartRef.value = rootRef.value;\n          }\n        }\n        state.zIndex = nextZIndex();\n      }\n      if (props.boxType !== \"prompt\")\n        return;\n      if (val) {\n        nextTick().then(() => {\n          var _a2;\n          if (inputRef.value && inputRef.value.$el) {\n            if (state.autofocus) {\n              focusStartRef.value = (_a2 = getInputElement()) != null ? _a2 : rootRef.value;\n            } else {\n              focusStartRef.value = rootRef.value;\n            }\n          }\n        });\n      } else {\n        state.editorErrorMessage = \"\";\n        state.validateError = false;\n      }\n    });\n    const draggable = computed(() => props.draggable);\n    const overflow = computed(() => props.overflow);\n    useDraggable(rootRef, headerRef, draggable, overflow);\n    onMounted(async () => {\n      await nextTick();\n      if (props.closeOnHashChange) {\n        window.addEventListener(\"hashchange\", doClose);\n      }\n    });\n    onBeforeUnmount(() => {\n      if (props.closeOnHashChange) {\n        window.removeEventListener(\"hashchange\", doClose);\n      }\n    });\n    function doClose() {\n      if (!visible.value)\n        return;\n      visible.value = false;\n      nextTick(() => {\n        if (state.action)\n          emit(\"action\", state.action);\n      });\n    }\n    const handleWrapperClick = () => {\n      if (props.closeOnClickModal) {\n        handleAction(state.distinguishCancelAndClose ? \"close\" : \"cancel\");\n      }\n    };\n    const overlayEvent = useSameTarget(handleWrapperClick);\n    const handleInputEnter = (e) => {\n      if (state.inputType !== \"textarea\") {\n        e.preventDefault();\n        return handleAction(\"confirm\");\n      }\n    };\n    const handleAction = (action) => {\n      var _a;\n      if (props.boxType === \"prompt\" && action === \"confirm\" && !validate()) {\n        return;\n      }\n      state.action = action;\n      if (state.beforeClose) {\n        (_a = state.beforeClose) == null ? void 0 : _a.call(state, action, state, doClose);\n      } else {\n        doClose();\n      }\n    };\n    const validate = () => {\n      if (props.boxType === \"prompt\") {\n        const inputPattern = state.inputPattern;\n        if (inputPattern && !inputPattern.test(state.inputValue || \"\")) {\n          state.editorErrorMessage = state.inputErrorMessage || t(\"el.messagebox.error\");\n          state.validateError = true;\n          return false;\n        }\n        const inputValidator = state.inputValidator;\n        if (isFunction(inputValidator)) {\n          const validateResult = inputValidator(state.inputValue);\n          if (validateResult === false) {\n            state.editorErrorMessage = state.inputErrorMessage || t(\"el.messagebox.error\");\n            state.validateError = true;\n            return false;\n          }\n          if (isString(validateResult)) {\n            state.editorErrorMessage = validateResult;\n            state.validateError = true;\n            return false;\n          }\n        }\n      }\n      state.editorErrorMessage = \"\";\n      state.validateError = false;\n      return true;\n    };\n    const getInputElement = () => {\n      var _a, _b;\n      const inputRefs = (_a = inputRef.value) == null ? void 0 : _a.$refs;\n      return (_b = inputRefs == null ? void 0 : inputRefs.input) != null ? _b : inputRefs == null ? void 0 : inputRefs.textarea;\n    };\n    const handleClose = () => {\n      handleAction(\"close\");\n    };\n    const onCloseRequested = () => {\n      if (props.closeOnPressEscape) {\n        handleClose();\n      }\n    };\n    if (props.lockScroll) {\n      useLockscreen(visible);\n    }\n    return {\n      ...toRefs(state),\n      ns,\n      overlayEvent,\n      visible,\n      hasMessage,\n      typeClass,\n      contentId,\n      inputId,\n      btnSize,\n      iconComponent,\n      confirmButtonClasses,\n      rootRef,\n      focusStartRef,\n      headerRef,\n      inputRef,\n      confirmRef,\n      doClose,\n      handleClose,\n      onCloseRequested,\n      handleWrapperClick,\n      handleInputEnter,\n      handleAction,\n      t\n    };\n  }\n});\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  const _component_el_input = resolveComponent(\"el-input\");\n  const _component_el_button = resolveComponent(\"el-button\");\n  const _component_el_focus_trap = resolveComponent(\"el-focus-trap\");\n  const _component_el_overlay = resolveComponent(\"el-overlay\");\n  return openBlock(), createBlock(Transition, {\n    name: \"fade-in-linear\",\n    onAfterLeave: ($event) => _ctx.$emit(\"vanish\"),\n    persisted: \"\"\n  }, {\n    default: withCtx(() => [\n      withDirectives(createVNode(_component_el_overlay, {\n        \"z-index\": _ctx.zIndex,\n        \"overlay-class\": [_ctx.ns.is(\"message-box\"), _ctx.modalClass],\n        mask: _ctx.modal\n      }, {\n        default: withCtx(() => [\n          createElementVNode(\"div\", {\n            role: \"dialog\",\n            \"aria-label\": _ctx.title,\n            \"aria-modal\": \"true\",\n            \"aria-describedby\": !_ctx.showInput ? _ctx.contentId : void 0,\n            class: normalizeClass(`${_ctx.ns.namespace.value}-overlay-message-box`),\n            onClick: _ctx.overlayEvent.onClick,\n            onMousedown: _ctx.overlayEvent.onMousedown,\n            onMouseup: _ctx.overlayEvent.onMouseup\n          }, [\n            createVNode(_component_el_focus_trap, {\n              loop: \"\",\n              trapped: _ctx.visible,\n              \"focus-trap-el\": _ctx.rootRef,\n              \"focus-start-el\": _ctx.focusStartRef,\n              onReleaseRequested: _ctx.onCloseRequested\n            }, {\n              default: withCtx(() => [\n                createElementVNode(\"div\", {\n                  ref: \"rootRef\",\n                  class: normalizeClass([\n                    _ctx.ns.b(),\n                    _ctx.customClass,\n                    _ctx.ns.is(\"draggable\", _ctx.draggable),\n                    { [_ctx.ns.m(\"center\")]: _ctx.center }\n                  ]),\n                  style: normalizeStyle(_ctx.customStyle),\n                  tabindex: \"-1\",\n                  onClick: withModifiers(() => {\n                  }, [\"stop\"])\n                }, [\n                  _ctx.title !== null && _ctx.title !== void 0 ? (openBlock(), createElementBlock(\"div\", {\n                    key: 0,\n                    ref: \"headerRef\",\n                    class: normalizeClass([_ctx.ns.e(\"header\"), { \"show-close\": _ctx.showClose }])\n                  }, [\n                    createElementVNode(\"div\", {\n                      class: normalizeClass(_ctx.ns.e(\"title\"))\n                    }, [\n                      _ctx.iconComponent && _ctx.center ? (openBlock(), createBlock(_component_el_icon, {\n                        key: 0,\n                        class: normalizeClass([_ctx.ns.e(\"status\"), _ctx.typeClass])\n                      }, {\n                        default: withCtx(() => [\n                          (openBlock(), createBlock(resolveDynamicComponent(_ctx.iconComponent)))\n                        ]),\n                        _: 1\n                      }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n                      createElementVNode(\"span\", null, toDisplayString(_ctx.title), 1)\n                    ], 2),\n                    _ctx.showClose ? (openBlock(), createElementBlock(\"button\", {\n                      key: 0,\n                      type: \"button\",\n                      class: normalizeClass(_ctx.ns.e(\"headerbtn\")),\n                      \"aria-label\": _ctx.t(\"el.messagebox.close\"),\n                      onClick: ($event) => _ctx.handleAction(_ctx.distinguishCancelAndClose ? \"close\" : \"cancel\"),\n                      onKeydown: withKeys(withModifiers(($event) => _ctx.handleAction(_ctx.distinguishCancelAndClose ? \"close\" : \"cancel\"), [\"prevent\"]), [\"enter\"])\n                    }, [\n                      createVNode(_component_el_icon, {\n                        class: normalizeClass(_ctx.ns.e(\"close\"))\n                      }, {\n                        default: withCtx(() => [\n                          (openBlock(), createBlock(resolveDynamicComponent(_ctx.closeIcon || \"close\")))\n                        ]),\n                        _: 1\n                      }, 8, [\"class\"])\n                    ], 42, [\"aria-label\", \"onClick\", \"onKeydown\"])) : createCommentVNode(\"v-if\", true)\n                  ], 2)) : createCommentVNode(\"v-if\", true),\n                  createElementVNode(\"div\", {\n                    id: _ctx.contentId,\n                    class: normalizeClass(_ctx.ns.e(\"content\"))\n                  }, [\n                    createElementVNode(\"div\", {\n                      class: normalizeClass(_ctx.ns.e(\"container\"))\n                    }, [\n                      _ctx.iconComponent && !_ctx.center && _ctx.hasMessage ? (openBlock(), createBlock(_component_el_icon, {\n                        key: 0,\n                        class: normalizeClass([_ctx.ns.e(\"status\"), _ctx.typeClass])\n                      }, {\n                        default: withCtx(() => [\n                          (openBlock(), createBlock(resolveDynamicComponent(_ctx.iconComponent)))\n                        ]),\n                        _: 1\n                      }, 8, [\"class\"])) : createCommentVNode(\"v-if\", true),\n                      _ctx.hasMessage ? (openBlock(), createElementBlock(\"div\", {\n                        key: 1,\n                        class: normalizeClass(_ctx.ns.e(\"message\"))\n                      }, [\n                        renderSlot(_ctx.$slots, \"default\", {}, () => [\n                          !_ctx.dangerouslyUseHTMLString ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.showInput ? \"label\" : \"p\"), {\n                            key: 0,\n                            for: _ctx.showInput ? _ctx.inputId : void 0\n                          }, {\n                            default: withCtx(() => [\n                              createTextVNode(toDisplayString(!_ctx.dangerouslyUseHTMLString ? _ctx.message : \"\"), 1)\n                            ]),\n                            _: 1\n                          }, 8, [\"for\"])) : (openBlock(), createBlock(resolveDynamicComponent(_ctx.showInput ? \"label\" : \"p\"), {\n                            key: 1,\n                            for: _ctx.showInput ? _ctx.inputId : void 0,\n                            innerHTML: _ctx.message\n                          }, null, 8, [\"for\", \"innerHTML\"]))\n                        ])\n                      ], 2)) : createCommentVNode(\"v-if\", true)\n                    ], 2),\n                    withDirectives(createElementVNode(\"div\", {\n                      class: normalizeClass(_ctx.ns.e(\"input\"))\n                    }, [\n                      createVNode(_component_el_input, {\n                        id: _ctx.inputId,\n                        ref: \"inputRef\",\n                        modelValue: _ctx.inputValue,\n                        \"onUpdate:modelValue\": ($event) => _ctx.inputValue = $event,\n                        type: _ctx.inputType,\n                        placeholder: _ctx.inputPlaceholder,\n                        \"aria-invalid\": _ctx.validateError,\n                        class: normalizeClass({ invalid: _ctx.validateError }),\n                        onKeydown: withKeys(_ctx.handleInputEnter, [\"enter\"])\n                      }, null, 8, [\"id\", \"modelValue\", \"onUpdate:modelValue\", \"type\", \"placeholder\", \"aria-invalid\", \"class\", \"onKeydown\"]),\n                      createElementVNode(\"div\", {\n                        class: normalizeClass(_ctx.ns.e(\"errormsg\")),\n                        style: normalizeStyle({\n                          visibility: !!_ctx.editorErrorMessage ? \"visible\" : \"hidden\"\n                        })\n                      }, toDisplayString(_ctx.editorErrorMessage), 7)\n                    ], 2), [\n                      [vShow, _ctx.showInput]\n                    ])\n                  ], 10, [\"id\"]),\n                  createElementVNode(\"div\", {\n                    class: normalizeClass(_ctx.ns.e(\"btns\"))\n                  }, [\n                    _ctx.showCancelButton ? (openBlock(), createBlock(_component_el_button, {\n                      key: 0,\n                      loading: _ctx.cancelButtonLoading,\n                      \"loading-icon\": _ctx.cancelButtonLoadingIcon,\n                      class: normalizeClass([_ctx.cancelButtonClass]),\n                      round: _ctx.roundButton,\n                      size: _ctx.btnSize,\n                      onClick: ($event) => _ctx.handleAction(\"cancel\"),\n                      onKeydown: withKeys(withModifiers(($event) => _ctx.handleAction(\"cancel\"), [\"prevent\"]), [\"enter\"])\n                    }, {\n                      default: withCtx(() => [\n                        createTextVNode(toDisplayString(_ctx.cancelButtonText || _ctx.t(\"el.messagebox.cancel\")), 1)\n                      ]),\n                      _: 1\n                    }, 8, [\"loading\", \"loading-icon\", \"class\", \"round\", \"size\", \"onClick\", \"onKeydown\"])) : createCommentVNode(\"v-if\", true),\n                    withDirectives(createVNode(_component_el_button, {\n                      ref: \"confirmRef\",\n                      type: \"primary\",\n                      loading: _ctx.confirmButtonLoading,\n                      \"loading-icon\": _ctx.confirmButtonLoadingIcon,\n                      class: normalizeClass([_ctx.confirmButtonClasses]),\n                      round: _ctx.roundButton,\n                      disabled: _ctx.confirmButtonDisabled,\n                      size: _ctx.btnSize,\n                      onClick: ($event) => _ctx.handleAction(\"confirm\"),\n                      onKeydown: withKeys(withModifiers(($event) => _ctx.handleAction(\"confirm\"), [\"prevent\"]), [\"enter\"])\n                    }, {\n                      default: withCtx(() => [\n                        createTextVNode(toDisplayString(_ctx.confirmButtonText || _ctx.t(\"el.messagebox.confirm\")), 1)\n                      ]),\n                      _: 1\n                    }, 8, [\"loading\", \"loading-icon\", \"class\", \"round\", \"disabled\", \"size\", \"onClick\", \"onKeydown\"]), [\n                      [vShow, _ctx.showConfirmButton]\n                    ])\n                  ], 2)\n                ], 14, [\"onClick\"])\n              ]),\n              _: 3\n            }, 8, [\"trapped\", \"focus-trap-el\", \"focus-start-el\", \"onReleaseRequested\"])\n          ], 42, [\"aria-label\", \"aria-describedby\", \"onClick\", \"onMousedown\", \"onMouseup\"])\n        ]),\n        _: 3\n      }, 8, [\"z-index\", \"overlay-class\", \"mask\"]), [\n        [vShow, _ctx.visible]\n      ])\n    ]),\n    _: 3\n  }, 8, [\"onAfterLeave\"]);\n}\nvar MessageBoxConstructor = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"index.vue\"]]);\nconst messageInstance = /* @__PURE__ */ new Map();\nconst getAppendToElement = (props) => {\n  let appendTo = document.body;\n  if (props.appendTo) {\n    if (isString(props.appendTo)) {\n      appendTo = document.querySelector(props.appendTo);\n    }\n    if (isElement(props.appendTo)) {\n      appendTo = props.appendTo;\n    }\n    if (!isElement(appendTo)) {\n      debugWarn(\"ElMessageBox\", \"the appendTo option is not an HTMLElement. Falling back to document.body.\");\n      appendTo = document.body;\n    }\n  }\n  return appendTo;\n};\nconst initInstance = (props, container, appContext = null) => {\n  const vnode = createVNode(MessageBoxConstructor, props, isFunction(props.message) || isVNode(props.message) ? {\n    default: isFunction(props.message) ? props.message : () => props.message\n  } : null);\n  vnode.appContext = appContext;\n  render(vnode, container);\n  getAppendToElement(props).appendChild(container.firstElementChild);\n  return vnode.component;\n};\nconst genContainer = () => {\n  return document.createElement(\"div\");\n};\nconst showMessage = (options, appContext) => {\n  const container = genContainer();\n  options.onVanish = () => {\n    render(null, container);\n    messageInstance.delete(vm);\n  };\n  options.onAction = (action) => {\n    const currentMsg = messageInstance.get(vm);\n    let resolve;\n    if (options.showInput) {\n      resolve = { value: vm.inputValue, action };\n    } else {\n      resolve = action;\n    }\n    if (options.callback) {\n      options.callback(resolve, instance.proxy);\n    } else {\n      if (action === \"cancel\" || action === \"close\") {\n        if (options.distinguishCancelAndClose && action !== \"cancel\") {\n          currentMsg.reject(\"close\");\n        } else {\n          currentMsg.reject(\"cancel\");\n        }\n      } else {\n        currentMsg.resolve(resolve);\n      }\n    }\n  };\n  const instance = initInstance(options, container, appContext);\n  const vm = instance.proxy;\n  for (const prop in options) {\n    if (hasOwn(options, prop) && !hasOwn(vm.$props, prop)) {\n      if (prop === \"closeIcon\" && isObject(options[prop])) {\n        vm[prop] = markRaw(options[prop]);\n      } else {\n        vm[prop] = options[prop];\n      }\n    }\n  }\n  vm.visible = true;\n  return vm;\n};\nfunction MessageBox(options, appContext = null) {\n  if (!isClient)\n    return Promise.reject();\n  let callback;\n  if (isString(options) || isVNode(options)) {\n    options = {\n      message: options\n    };\n  } else {\n    callback = options.callback;\n  }\n  return new Promise((resolve, reject) => {\n    const vm = showMessage(options, appContext != null ? appContext : MessageBox._context);\n    messageInstance.set(vm, {\n      options,\n      callback,\n      resolve,\n      reject\n    });\n  });\n}\nconst MESSAGE_BOX_VARIANTS = [\"alert\", \"confirm\", \"prompt\"];\nconst MESSAGE_BOX_DEFAULT_OPTS = {\n  alert: { closeOnPressEscape: false, closeOnClickModal: false },\n  confirm: { showCancelButton: true },\n  prompt: { showCancelButton: true, showInput: true }\n};\nMESSAGE_BOX_VARIANTS.forEach((boxType) => {\n  MessageBox[boxType] = messageBoxFactory(boxType);\n});\nfunction messageBoxFactory(boxType) {\n  return (message2, title, options, appContext) => {\n    let titleOrOpts = \"\";\n    if (isObject(title)) {\n      options = title;\n      titleOrOpts = \"\";\n    } else if (isUndefined(title)) {\n      titleOrOpts = \"\";\n    } else {\n      titleOrOpts = title;\n    }\n    return MessageBox(Object.assign({\n      title: titleOrOpts,\n      message: message2,\n      type: \"\",\n      ...MESSAGE_BOX_DEFAULT_OPTS[boxType]\n    }, options, {\n      boxType\n    }), appContext);\n  };\n}\nMessageBox.close = () => {\n  messageInstance.forEach((_, vm) => {\n    vm.doClose();\n  });\n  messageInstance.clear();\n};\nMessageBox._context = null;\nconst _MessageBox = MessageBox;\n_MessageBox.install = (app) => {\n  _MessageBox._context = app._context;\n  app.config.globalProperties.$msgbox = _MessageBox;\n  app.config.globalProperties.$messageBox = _MessageBox;\n  app.config.globalProperties.$alert = _MessageBox.alert;\n  app.config.globalProperties.$confirm = _MessageBox.confirm;\n  app.config.globalProperties.$prompt = _MessageBox.prompt;\n};\nconst ElMessageBox = _MessageBox;\nexport {\n  ElMessage as E,\n  ElInput as a,\n  ElCheckboxGroup as b,\n  ElCheckbox as c,\n  ElDialog as d,\n  ElForm as e,\n  ElFormItem as f,\n  ElUpload as g,\n  ElButton as h,\n  ElTooltip as i,\n  ElIcon as j,\n  close_default as k,\n  genFileId as l,\n  ElProgress as m,\n  ElTag as n,\n  ElImage as o,\n  ElMessageBox as p,\n  plus_default as q,\n  delete_default as r,\n  search_default as s,\n  vLoading as v\n};\n","import './style/index.css';\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nimport { E as ElMessage, a as ElInput, b as ElCheckboxGroup, c as ElCheckbox, d as ElDialog, e as ElForm, f as ElFormItem, g as ElUpload, h as ElButton, i as ElTooltip, j as ElIcon, k as close_default, v as vLoading, l as genFileId, m as ElProgress, n as ElTag, o as ElImage, p as ElMessageBox, q as plus_default, r as delete_default, s as search_default } from \"./chunks/element-plus.CKQSHZRI.js\";\nimport { defineComponent, mergeModels, useModel, ref, computed, watch, createElementBlock, openBlock, createElementVNode, createCommentVNode, createVNode, withKeys, withCtx, Fragment, renderList, createBlock, createTextVNode, normalizeClass, toDisplayString, nextTick, reactive, withDirectives, unref, withModifiers, normalizeStyle, onMounted, onBeforeUnmount, createStaticVNode, useTemplateRef, onUnmounted, renderSlot, useCssVars } from \"vue\";\nimport { Q as QuillEditor } from \"./chunks/vue.efm2TqnC.js\";\nimport { l as libExports, c as axios, d as dayjs } from \"./chunks/vendor.BQ03k1rc.js\";\nimport { h as debounce, j as shuffle } from \"./chunks/lodash-es.CBG3u1Fs.js\";\nconst readFileAsArrayBuffer = (file) => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = () => reject(new Error(\"文件读取失败\"));\n    reader.readAsArrayBuffer(file);\n  });\n};\nconst parseDocxFile = async (arrayBuffer) => {\n  try {\n    const result = await libExports.convertToHtml({ arrayBuffer });\n    return result.value;\n  } catch (error) {\n    ElMessage.error(\"文件解析失败，请检查文件格式\");\n  }\n};\nconst readFileAsText = (file) => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = () => reject(new Error(\"文件读取失败\"));\n    reader.readAsText(file, \"UTF-8\");\n  });\n};\nconst parseSRTContent = (srtText) => {\n  const blocks = srtText.split(/\\n\\s*\\n/);\n  let result = [];\n  blocks.forEach((block) => {\n    const lines = block.split(\"\\n\").filter((line) => line.trim() !== \"\");\n    if (lines.length >= 3) {\n      const textLines = lines.slice(2);\n      result.push(...textLines);\n    }\n  });\n  return result.join(\"\\n\");\n};\nconst getIdByName = (list1, list2) => {\n  const idSet = new Set(list2.map((item) => item.id));\n  const nameToIdMap = {};\n  list2.forEach((item) => {\n    nameToIdMap[item.label] = item.value;\n  });\n  const updatedList1 = list1.map((item) => {\n    const numericItem = Number(item);\n    if (idSet.has(numericItem)) {\n      return numericItem;\n    } else {\n      if (nameToIdMap[item] !== void 0) {\n        return nameToIdMap[item];\n      } else {\n        return item;\n      }\n    }\n  });\n  return updatedList1;\n};\nconst arrayToRgba = (rgbaArray) => {\n  if (!rgbaArray || rgbaArray.length !== 4) {\n    throw new Error(\"Invalid RGBA array. It must contain exactly 4 elements.\");\n  }\n  const [r, g, b, a] = rgbaArray;\n  if (r < 0 || r > 255 || g < 0 || g > 255 || b < 0 || b > 255 || a < 0 || a > 1) {\n    throw new Error(\n      \"Invalid RGBA values. R, G, B must be between 0 and 255, and A must be between 0 and 1.\"\n    );\n  }\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n};\nconst defaultImage = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAMgCAIAAABwAouTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEXWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpBdHRyaWI9J2h0dHA6Ly9ucy5hdHRyaWJ1dGlvbi5jb20vYWRzLzEuMC8nPgogIDxBdHRyaWI6QWRzPgogICA8cmRmOlNlcT4KICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0nUmVzb3VyY2UnPgogICAgIDxBdHRyaWI6Q3JlYXRlZD4yMDI0LTEyLTE3PC9BdHRyaWI6Q3JlYXRlZD4KICAgICA8QXR0cmliOkV4dElkPmNhZDI3NzliLTAzOTAtNGU4MS04YmMxLWM5ZDEzMTZlYjQ5NzwvQXR0cmliOkV4dElkPgogICAgIDxBdHRyaWI6VG91Y2hUeXBlPjI8L0F0dHJpYjpUb3VjaFR5cGU+CiAgICA8L3JkZjpsaT4KICAgPC9yZGY6U2VxPgogIDwvQXR0cmliOkFkcz4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6ZGM9J2h0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvJz4KICA8ZGM6dGl0bGU+CiAgIDxyZGY6QWx0PgogICAgPHJkZjpsaSB4bWw6bGFuZz0neC1kZWZhdWx0Jz7mmoLml6DlsIHpnaIgLSAxPC9yZGY6bGk+CiAgIDwvcmRmOkFsdD4KICA8L2RjOnRpdGxlPgogPC9yZGY6RGVzY3JpcHRpb24+CgogPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9JycKICB4bWxuczpwZGY9J2h0dHA6Ly9ucy5hZG9iZS5jb20vcGRm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\";\nconst _imports_0$1 = \"data:image/svg+xml,%3csvg%20t='1743602139053'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='16242'%20width='64'%20height='64'%3e%3cpath%20d='M910.02%20462.14c27.48-0.12%2049.85%2022.05%2049.97%2049.53%200.12%2026.2-20.11%2048-46.24%2049.85l-3.73%200.12H113.98c-27.48%200.12-49.86-22.05-49.98-49.53-0.12-26.2%2020.11-48%2046.24-49.85l3.73-0.12h796.05z'%20p-id='16243'%20fill='%23707070'%3e%3c/path%3e%3cpath%20d='M512%2064.11c26.04-0.01%2047.68%2020.06%2049.63%2046.02l0.12%203.73v796.05c0.12%2027.48-22.05%2049.85-49.53%2049.98-26.2%200.12-48-20.11-49.85-46.24l-0.12-3.73V113.86c0-27.47%2022.27-49.75%2049.75-49.75z'%20p-id='16244'%20fill='%23707070'%3e%3c/path%3e%3c/svg%3e\";\nclass RequestError extends Error {\n  constructor(code, message, data) {\n    super(message);\n    this.code = code;\n    this.message = message;\n    this.data = data;\n    this.name = \"RequestError\";\n  }\n}\nclass HttpRequest {\n  constructor(config) {\n    __publicField(this, \"instance\");\n    this.instance = axios.create(config);\n    this.instance.interceptors.request.use(\n      (config2) => {\n        return config2;\n      },\n      (error) => {\n        return Promise.reject(error);\n      }\n    );\n    this.instance.interceptors.response.use(\n      (response) => {\n        const { filterResponse } = response.config;\n        if (response.data && typeof response.data === \"object\") {\n          if (response.data.code !== 0) {\n            return Promise.reject(\n              new RequestError(\n                response.data.code,\n                response.data.message,\n                response.data.data\n              )\n            );\n          }\n          if (filterResponse) {\n            return filterResponse(response.data.data);\n          }\n          return response.data;\n        }\n        if (filterResponse) {\n          return filterResponse(response.data);\n        }\n        return response.data;\n      },\n      (error) => {\n        if (error.response) {\n          const status = error.response.status;\n          let message = \"请求错误\";\n          switch (status) {\n            case 400:\n              message = \"请求参数错误\";\n              break;\n            case 401:\n              message = \"未授权，请登录\";\n              break;\n            case 403:\n              message = \"拒绝访问\";\n              break;\n            case 404:\n              message = \"请求地址不存在\";\n              break;\n            case 500:\n              message = \"服务器内部错误\";\n              break;\n            default:\n              message = `网络错误 (${status})`;\n          }\n          return Promise.reject(new RequestError(status, message));\n        } else if (error.request) {\n          return Promise.reject(\n            new RequestError(-1, \"网络异常，请检查网络连接\")\n          );\n        } else {\n          return Promise.reject(new RequestError(-1, error.message));\n        }\n      }\n    );\n  }\n  // 快捷方法\n  get(url, config) {\n    return this.instance.get(url, config);\n  }\n  post(url, data, config) {\n    return this.instance.post(url, data, config);\n  }\n  put(url, data, config) {\n    return this.instance.put(url, data, config);\n  }\n  delete(url, config) {\n    return this.instance.delete(url, config);\n  }\n  patch(url, data, config) {\n    return this.instance.patch(url, data, config);\n  }\n}\nconst defaultConfig = {\n  baseURL: \"/api\",\n  timeout: 6e5,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n};\nconst http = new HttpRequest(defaultConfig);\nfunction transformData(nodes, level = 1, parentId) {\n  const result = [];\n  nodes.forEach((node) => {\n    const transformedNode = {\n      value: String(node.id),\n      // 将 id 转换为字符串\n      label: node.name,\n      // 标签名称\n      type: level,\n      // 层级\n      parent_id: parentId,\n      // 父级 ID\n      is_public: node.is_public\n      //共享/个人\n    };\n    result.push(transformedNode);\n    if (node.children && node.children.length > 0) {\n      const childrenResult = transformData(\n        node.children,\n        level + 1,\n        node.id\n      );\n      result.push(...childrenResult);\n    }\n  });\n  return result;\n}\nconst addMaterialTag = async (data) => {\n  return http.post(`/novel/material/tags/add`, data);\n};\nconst addNovelRequest = async (data) => {\n  return http.post(\"/novel/material/upload/novel\", data, {\n    headers: { \"Content-Type\": \"multipart/form-data\" }\n  });\n};\nconst addMaterialsRequest = async (isShortPlay = false, data, callback) => {\n  const url = isShortPlay ? \"/short_film/material/upload\" : \"/novel/material/upload\";\n  return http.post(url, data, {\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n    url,\n    onUploadProgress: (progressEvent) => {\n      if (callback && progressEvent && progressEvent.total) {\n        let percentCompleted = Math.round(\n          progressEvent.loaded * 100 / progressEvent.total\n        );\n        callback(percentCompleted);\n      }\n    }\n  });\n};\nconst getNovelMaterialRequest = async (isShortPlay = false, params, topIds = [], tagIds = [], isTagsAnd = true) => {\n  const finalParams = { ...params };\n  let url = isShortPlay ? \"/short_film/material/list\" : \"/novel/material/list\";\n  if (tagIds && tagIds.length > 0) {\n    const queryParts = [];\n    for (const [key, value] of Object.entries(finalParams)) {\n      queryParts.push(\n        `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n      );\n    }\n    for (const id of tagIds) {\n      queryParts.push(`tag_ids=${encodeURIComponent(id)}`);\n    }\n    queryParts.push(`tags_relation=${isTagsAnd ? \"and\" : \"or\"}`);\n    url = `${url}?${queryParts.join(\"&\")}`;\n    return http.get(url);\n  }\n  if (topIds && topIds.length > 0) {\n    const queryParts = [];\n    for (const [key, value] of Object.entries(finalParams)) {\n      queryParts.push(\n        `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n      );\n    }\n    for (const id of topIds) {\n      queryParts.push(`top_ids=${encodeURIComponent(id)}`);\n    }\n    url = `${url}?${queryParts.join(\"&\")}`;\n    return http.get(url);\n  }\n  return http.get(url, {\n    params: finalParams\n  });\n};\nconst updateNovelRequest = async (data) => {\n  return http.post(\"/novel/material/update/novel\", data, {\n    headers: { \"Content-Type\": \"multipart/form-data\" }\n  });\n};\nconst batchUpdate = async (data) => {\n  return http.post(\"/novel/material/batch_update\", data);\n};\nconst tagsShare = async (tag_id) => {\n  return http.post(`/novel/material/tags/${tag_id}/share`);\n};\nconst batchRemoveTags = async (data) => {\n  return http.post(\"/novel/material/batch_remove_tags\", data);\n};\nconst treeTagsList = async (params, filterable) => {\n  return http.get(\"/novel/material/tags/tree\", {\n    params,\n    filterResponse: async (data) => {\n      {\n        return transformData(data.list);\n      }\n    }\n  });\n};\nconst deleteNovelRequest = async (material_id) => {\n  return http.post(`/novel/material/${material_id}/delete`);\n};\nconst editBackgroundRequest = async (data) => {\n  return http.post(`/novel/material/background_image/update`, data);\n};\nconst _hoisted_1$c = { class: \"tags-container\" };\nconst _hoisted_2$b = { class: \"tags-column personal-tags\" };\nconst _hoisted_3$a = { class: \"column-header\" };\nconst _hoisted_4$9 = { class: \"tags-list\" };\nconst _hoisted_5$9 = {\n  key: 0,\n  class: \"editable-tag-input-container\"\n};\nconst _hoisted_6$9 = { class: \"tag-content\" };\nconst _hoisted_7$8 = {\n  key: 0,\n  class: \"public-badge\"\n};\nconst _hoisted_8$7 = { class: \"tags-column shared-tags\" };\nconst _hoisted_9$7 = { class: \"column-header\" };\nconst _hoisted_10$7 = { class: \"tags-list\" };\nconst _hoisted_11$5 = {\n  key: 0,\n  class: \"editable-tag-input-container\"\n};\nconst _hoisted_12$5 = { class: \"tag-label\" };\nconst _hoisted_13$5 = { class: \"tag-content\" };\nconst _sfc_main$d = /* @__PURE__ */ defineComponent({\n  __name: \"ComSelectTag\",\n  props: /* @__PURE__ */ mergeModels({\n    tagsList: {},\n    category: {}\n  }, {\n    \"modelValue\": { default: [] },\n    \"modelModifiers\": {}\n  }),\n  emits: /* @__PURE__ */ mergeModels([\"createNewTag\", \"refresh\"], [\"update:modelValue\"]),\n  setup(__props, { emit: __emit }) {\n    const modelValue = useModel(__props, \"modelValue\");\n    const props = __props;\n    const emit = __emit;\n    const showPersonalTagInput = ref(false);\n    const showSharedTagInput = ref(false);\n    const newPersonalTagName = ref(\"\");\n    const newSharedTagName = ref(\"\");\n    const personalTagInputRef = ref(null);\n    const sharedTagInputRef = ref(null);\n    let createdTagName = null;\n    const sharedTagsList = computed(() => {\n      return props.tagsList.filter((tag) => tag.tagType === \"shared\");\n    });\n    const personalTagsList = computed(() => {\n      return props.tagsList.filter((tag) => tag.tagType === \"personal\");\n    });\n    const addEditableTag = (type) => {\n      if (type === \"personal\") {\n        showPersonalTagInput.value = true;\n        nextTick(() => {\n          var _a;\n          (_a = personalTagInputRef.value) == null ? void 0 : _a.focus();\n        });\n      } else {\n        showSharedTagInput.value = true;\n        nextTick(() => {\n          var _a;\n          (_a = sharedTagInputRef.value) == null ? void 0 : _a.focus();\n        });\n      }\n    };\n    const confirmNewTag = async (type, event) => {\n      if (event) {\n        event.preventDefault();\n      }\n      const tagName = type === \"personal\" ? newPersonalTagName.value.trim() : newSharedTagName.value.trim();\n      if (!tagName) {\n        ElMessage.warning(\"标签名称不能为空！\");\n        return;\n      }\n      const tagExists = props.tagsList.some((tag) => {\n        if (type === \"personal\") {\n          return tag.tagType === \"personal\" && (tag.label || tag.name) === tagName;\n        } else {\n          return tag.tagType === \"shared\" && (tag.label || tag.name) === tagName;\n        }\n      });\n      if (tagExists) {\n        ElMessage.warning(\n          `该${type === \"personal\" ? \"个人\" : \"共享\"}标签名已存在`\n        );\n        return;\n      }\n      try {\n        const res = await addMaterialTag({\n          name: tagName,\n          is_public: type === \"shared\",\n          category: props.category\n        });\n        if (res.code === 0) {\n          ElMessage.success(\"新增标签成功!\");\n          if (type === \"personal\") {\n            showPersonalTagInput.value = false;\n            newPersonalTagName.value = \"\";\n          } else {\n            showSharedTagInput.value = false;\n            newSharedTagName.value = \"\";\n          }\n          createdTagName = tagName;\n          await emit(\"refresh\");\n        }\n      } catch (error) {\n        ElMessage.error(\"新增标签失败!\");\n      }\n    };\n    const cancelNewTag = (type) => {\n      if (type === \"personal\") {\n        newPersonalTagName.value = \"\";\n        showPersonalTagInput.value = false;\n      } else {\n        newSharedTagName.value = \"\";\n        showSharedTagInput.value = false;\n      }\n    };\n    watch(\n      () => props.tagsList,\n      (newData) => {\n        if (!!createdTagName) {\n          nextTick(() => {\n            const newTag = newData.find(\n              (tag) => (tag.label || tag.name) === createdTagName\n            );\n            if (newTag) {\n              const newModelValue = Array.from(\n                /* @__PURE__ */ new Set([...modelValue.value, newTag.value])\n              );\n              modelValue.value = newModelValue;\n            }\n            createdTagName = null;\n          });\n        }\n      }\n    );\n    return (_ctx, _cache) => {\n      const _component_el_input = ElInput;\n      const _component_el_checkbox = ElCheckbox;\n      const _component_el_checkbox_group = ElCheckboxGroup;\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$c, [\n        createElementVNode(\"div\", _hoisted_2$b, [\n          createElementVNode(\"div\", _hoisted_3$a, [\n            _cache[10] || (_cache[10] = createElementVNode(\"div\", null, \"个人标签\", -1)),\n            createElementVNode(\"img\", {\n              src: _imports_0$1,\n              class: \"add-tag-icon\",\n              onClick: _cache[0] || (_cache[0] = ($event) => addEditableTag(\"personal\"))\n            })\n          ]),\n          createElementVNode(\"div\", _hoisted_4$9, [\n            showPersonalTagInput.value ? (openBlock(), createElementBlock(\"div\", _hoisted_5$9, [\n              createVNode(_component_el_input, {\n                ref_key: \"personalTagInputRef\",\n                ref: personalTagInputRef,\n                modelValue: newPersonalTagName.value,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => newPersonalTagName.value = $event),\n                placeholder: \"输入标签名称后回车\",\n                maxlength: \"20\",\n                onKeyup: _cache[2] || (_cache[2] = withKeys(\n                  (event) => confirmNewTag(\"personal\", event),\n                  [\"enter\"]\n                )),\n                onBlur: _cache[3] || (_cache[3] = ($event) => cancelNewTag(\"personal\"))\n              }, null, 8, [\"modelValue\"])\n            ])) : createCommentVNode(\"\", true),\n            createVNode(_component_el_checkbox_group, {\n              modelValue: modelValue.value,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event) => modelValue.value = $event),\n              class: \"custom-tags-group\"\n            }, {\n              default: withCtx(() => [\n                (openBlock(true), createElementBlock(Fragment, null, renderList(personalTagsList.value, (item) => {\n                  return openBlock(), createBlock(_component_el_checkbox, {\n                    key: item.value,\n                    value: item.value,\n                    class: \"tag-checkbox tag-checkbox-personal\"\n                  }, {\n                    default: withCtx(() => [\n                      createElementVNode(\"span\", {\n                        class: \"tag-label\",\n                        ref_for: true,\n                        ref: \"tagLabel\"\n                      }, [\n                        createElementVNode(\"div\", _hoisted_6$9, [\n                          createElementVNode(\"span\", {\n                            class: normalizeClass([\n                              \"tag-icon\",\n                              item.tagType === \"shared\" || item.is_public ? \"shared-tag-icon\" : \"personal-tag-icon\"\n                            ])\n                          }, null, 2),\n                          createTextVNode(\" \" + toDisplayString(item.label), 1)\n                        ]),\n                        item.is_public ? (openBlock(), createElementBlock(\"span\", _hoisted_7$8, \"已共享\")) : createCommentVNode(\"\", true)\n                      ], 512)\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]);\n                }), 128))\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"])\n          ])\n        ]),\n        createElementVNode(\"div\", _hoisted_8$7, [\n          createElementVNode(\"div\", _hoisted_9$7, [\n            _cache[11] || (_cache[11] = createElementVNode(\"div\", null, \"共享标签\", -1)),\n            createElementVNode(\"img\", {\n              src: _imports_0$1,\n              class: \"add-tag-icon\",\n              onClick: _cache[5] || (_cache[5] = ($event) => addEditableTag(\"shared\"))\n            })\n          ]),\n          createElementVNode(\"div\", _hoisted_10$7, [\n            showSharedTagInput.value ? (openBlock(), createElementBlock(\"div\", _hoisted_11$5, [\n              createVNode(_component_el_input, {\n                ref_key: \"sharedTagInputRef\",\n                ref: sharedTagInputRef,\n                modelValue: newSharedTagName.value,\n                \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => newSharedTagName.value = $event),\n                placeholder: \"输入标签名称后回车\",\n                maxlength: \"20\",\n                onKeyup: _cache[7] || (_cache[7] = withKeys((event) => confirmNewTag(\"shared\", event), [\"enter\"])),\n                onBlur: _cache[8] || (_cache[8] = ($event) => cancelNewTag(\"shared\"))\n              }, null, 8, [\"modelValue\"])\n            ])) : createCommentVNode(\"\", true),\n            createVNode(_component_el_checkbox_group, {\n              modelValue: modelValue.value,\n              \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event) => modelValue.value = $event),\n              class: \"custom-tags-group\"\n            }, {\n              default: withCtx(() => [\n                (openBlock(true), createElementBlock(Fragment, null, renderList(sharedTagsList.value, (item) => {\n                  return openBlock(), createBlock(_component_el_checkbox, {\n                    key: item.value,\n                    value: item.value,\n                    class: \"tag-checkbox\"\n                  }, {\n                    default: withCtx(() => [\n                      createElementVNode(\"span\", _hoisted_12$5, [\n                        createElementVNode(\"span\", _hoisted_13$5, [\n                          _cache[12] || (_cache[12] = createElementVNode(\"span\", { class: \"tag-icon shared-tag-icon\" }, null, -1)),\n                          createTextVNode(\" \" + toDisplayString(item.label), 1)\n                        ])\n                      ])\n                    ]),\n                    _: 2\n                  }, 1032, [\"value\"]);\n                }), 128))\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"])\n          ])\n        ])\n      ]);\n    };\n  }\n});\nconst _export_sfc = (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n};\nconst ComSelectTag = /* @__PURE__ */ _export_sfc(_sfc_main$d, [[\"__scopeId\", \"data-v-5877e2ac\"]]);\nfunction useRefreshTagList() {\n  const tagOptionsList = ref([]);\n  const getData = async (params) => {\n    let res1 = await treeTagsList({\n      ...params\n    });\n    let personalTags = [...res1];\n    personalTags.forEach((tag) => {\n      tag.tagType = \"personal\";\n    });\n    let res2 = await treeTagsList({\n      ...params,\n      is_public: true\n    });\n    let sharedTags = [...res2];\n    sharedTags.forEach((tag) => {\n      tag.tagType = \"shared\";\n    });\n    tagOptionsList.value = [...personalTags, ...sharedTags];\n    return tagOptionsList.value;\n  };\n  return { tagOptionsList, refreshTagLists: getData };\n}\nconst BASE_URL = \"/api\";\nvar typeToCategoryMap = /* @__PURE__ */ ((typeToCategoryMap2) => {\n  typeToCategoryMap2[\"video\"] = \"解压视频\";\n  typeToCategoryMap2[\"background\"] = \"背景图片\";\n  typeToCategoryMap2[\"novel\"] = \"小说\";\n  typeToCategoryMap2[\"firstFrames\"] = \"首帧视频\";\n  typeToCategoryMap2[\"lastFrames\"] = \"尾帧视频\";\n  typeToCategoryMap2[\"stickers\"] = \"贴图\";\n  typeToCategoryMap2[\"stickersFake\"] = \"贴片\";\n  typeToCategoryMap2[\"music\"] = \"背景音乐\";\n  typeToCategoryMap2[\"textImage\"] = \"模板图片\";\n  typeToCategoryMap2[\"textVideo\"] = \"模板视频\";\n  typeToCategoryMap2[\"shortPlayVideo\"] = \"短剧视频\";\n  typeToCategoryMap2[\"shortPlayStickers\"] = \"短剧贴图\";\n  typeToCategoryMap2[\"shortPlayLastFrames\"] = \"短剧尾帧\";\n  return typeToCategoryMap2;\n})(typeToCategoryMap || {});\nconst _hoisted_1$b = { class: \"dialog-header\" };\nconst _hoisted_2$a = [\"id\"];\nconst _hoisted_3$9 = { class: \"editor-container\" };\nconst _hoisted_4$8 = { class: \"upload-btn-container\" };\nconst _hoisted_5$8 = {\n  key: 0,\n  class: \"files-container\"\n};\nconst _hoisted_6$8 = {\n  key: 0,\n  class: \"file-list-container\"\n};\nconst _hoisted_7$7 = { class: \"file-name\" };\nconst _hoisted_8$6 = {\n  key: 1,\n  class: \"file-list-container\"\n};\nconst _hoisted_9$6 = { class: \"file-name\" };\nconst _hoisted_10$6 = { class: \"dialog-footer\" };\nconst _sfc_main$c = /* @__PURE__ */ defineComponent({\n  __name: \"ComNovelAdd\",\n  emits: [\"submitForm\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n    const baseUrl = BASE_URL;\n    const dialogVisible = ref(false);\n    const dialogTitle = ref(\"\");\n    const otherForm = ref();\n    const loading = ref(false);\n    let addNovelFormInfo = new FormData();\n    const uploadCoverRef = ref();\n    const fileInput = ref();\n    const textContentUpload = ref();\n    const defaultImageFile = ref();\n    const myQuillEditor = ref();\n    const emit = __emit;\n    const dialogType = ref(\"add\");\n    const handleClose = () => {\n      dialogVisible.value = false;\n      refreshList();\n      resetTextContentUpload();\n    };\n    const refreshList = () => {\n      if (otherForm.value) {\n        otherForm.value.resetFields();\n      }\n      addNovelFormInfo = new FormData();\n      formData.title = \"\";\n      formData.tags = [];\n      formData.is_public = false;\n      formData.cover = [];\n      formData.audio = [];\n      formData.subtitle = [];\n      formData.quillEditorContent = \"<p></p>\";\n      formData.introduction = \"\";\n      formData.url = \"\";\n    };\n    const tabTypeRes = ref(\"\");\n    const resetTextContentUpload = () => {\n      if (textContentUpload.value) {\n        textContentUpload.value.clearFiles();\n      }\n    };\n    const loadDefaultImage = async () => {\n      try {\n        const response = await fetch(defaultImage);\n        const blob = await response.blob();\n        defaultImageFile.value = new File([blob], \"default.png\", {\n          type: blob.type\n        });\n      } catch (error) {\n        console.error(\"加载默认图片失败:\", error);\n        ElMessage.error(\"加载默认图片失败！\");\n      }\n    };\n    const { tagOptionsList, refreshTagLists } = useRefreshTagList();\n    const init = async (item, visible, checkedNovelList, tabType) => {\n      if (!visible) {\n        handleClose();\n        return;\n      }\n      loadDefaultImage();\n      tabTypeRes.value = tabType;\n      refreshList();\n      await refreshTagLists({ category: tabTypeRes.value });\n      dialogVisible.value = visible;\n      dialogTitle.value = item.title || \"\";\n      formData.type = item.type || \"\";\n      dialogType.value = item.type || \"\";\n      if (item.type == \"edit\" && checkedNovelList.length > 0) {\n        formData.id = checkedNovelList[0].id ? checkedNovelList[0].id : \"\";\n        formData.title = checkedNovelList[0].name ? checkedNovelList[0].name : \"\";\n        formData.is_public = checkedNovelList[0].is_public ? checkedNovelList[0].is_public : false;\n        let fetchedTags = [];\n        if (checkedNovelList[0].tags && checkedNovelList[0].tags.length > 0) {\n          fetchedTags = checkedNovelList[0].tags.map(\n            (item2) => `${item2.id}`\n          );\n        }\n        const existingTags = tagOptionsList.value.map(\n          (tag) => tag.value\n        );\n        const newTags = fetchedTags.filter(\n          (tag) => !existingTags.includes(tag)\n        );\n        newTags.forEach((tag) => {\n          tagOptionsList.value.push({\n            value: tag,\n            label: tag,\n            type: 3\n          });\n        });\n        formData.tags = fetchedTags;\n        formData.cover.push({\n          name: checkedNovelList[0].cover_name ? checkedNovelList[0].cover_name : \"\",\n          url: checkedNovelList[0].cover_url ? checkedNovelList[0].cover_url : \"\"\n        });\n        let fileURL = checkedNovelList[0].file_url ? checkedNovelList[0].file_url : \"\";\n        if (fileURL !== \"\") {\n          fetch(baseUrl + fileURL).then(\n            (response) => response.text().then((text) => {\n              formData.quillEditorContent = text;\n            })\n          );\n        }\n        if (checkedNovelList[0].subtitle_url || checkedNovelList[0].subtitle_name) {\n          formData.subtitle.push({\n            name: checkedNovelList[0].subtitle_name ? checkedNovelList[0].subtitle_name : \"\",\n            url: checkedNovelList[0].subtitle_url ? checkedNovelList[0].subtitle_url : \"\"\n          });\n        }\n        if (checkedNovelList[0].audio_url || checkedNovelList[0].audio_name) {\n          formData.audio.push({\n            name: checkedNovelList[0].audio_name ? checkedNovelList[0].audio_name : \"\",\n            url: checkedNovelList[0].audio_url ? checkedNovelList[0].audio_url : \"\"\n          });\n        }\n        formData.introduction = checkedNovelList[0].describe ? checkedNovelList[0].describe : \"\";\n        formData.url = checkedNovelList[0].web_url ? checkedNovelList[0].web_url : \"\";\n      }\n    };\n    const formData = reactive({\n      is_public: false,\n      title: \"\",\n      type: \"\",\n      file: [],\n      tags: [],\n      cover: [],\n      audio: [],\n      subtitle: [],\n      quillEditorContent: \"\",\n      introduction: \"\",\n      url: \"\"\n    });\n    const formRules = {\n      title: [{ required: true, message: \"请输入标题\", trigger: \"blur\" }],\n      tags: [{ required: true, message: \"请选择标签\", trigger: \"change\" }],\n      cover: [{ required: false, message: \"请选择封面\", trigger: \"change\" }],\n      quillEditorContent: [\n        { required: false, message: \"请输入正文\", trigger: \"blur\" }\n      ],\n      audio: [{ required: false, message: \"请上传音频\", trigger: \"change\" }],\n      subtitle: [\n        { required: false, message: \"请上传字幕\", trigger: \"change\" }\n      ],\n      is_public: [\n        { required: true, message: \"请选择是否公开\", trigger: \"change\" }\n      ]\n    };\n    const editorOption = {\n      modules: {\n        toolbar: [\n          [\"bold\", \"italic\", \"underline\", \"strike\"],\n          [{ size: [\"small\", false, \"large\", \"huge\"] }],\n          [{ font: [] }],\n          [{ align: [] }],\n          [{ list: \"ordered\" }, { list: \"bullet\" }],\n          [{ indent: \"-1\" }, { indent: \"+1\" }],\n          [{ header: 1 }, { header: 2 }],\n          [\"image\"],\n          [{ direction: \"rtl\" }],\n          [\n            { color: [] }\n            // { 'background': [] }\n          ]\n        ]\n      },\n      placeholder: \"请输入内容...\"\n    };\n    const handleSubmit = async (type) => {\n      var _a;\n      if (formData.audio.length > 0 || formData.subtitle.length > 0) {\n        formRules.quillEditorContent[0].required = false;\n        formRules.audio[0].required = true;\n        formRules.subtitle[0].required = true;\n        if (formData.audio.length === 0 || formData.subtitle.length === 0) {\n          if (formData.audio.length === 0) {\n            ElMessage.error(\n              \"必须同时上传音频和字幕文件，请上传音频文件\"\n            );\n          } else {\n            ElMessage.error(\n              \"必须同时上传音频和字幕文件，请上传字幕文件\"\n            );\n          }\n          return;\n        }\n      } else if (formData.quillEditorContent !== \"\") {\n        formRules.quillEditorContent[0].required = true;\n        formRules.audio[0].required = false;\n        formRules.subtitle[0].required = false;\n      }\n      if (!formData.audio.length && !formData.subtitle.length && (formData.quillEditorContent === \"<p></p>\" || formData.quillEditorContent === \"<p><br></p>\")) {\n        ElMessage.error(\"请选择字幕/音频或输入正文\");\n        return;\n      }\n      (_a = otherForm.value) == null ? void 0 : _a.validate((valid, fields) => {\n        if (valid) {\n          if (formData.type == \"edit\") {\n            addNovelFormInfo.append(\"novel_id\", formData.id);\n          }\n          if (formData.tags.length >= 1) {\n            let tags_id = getIdByName(\n              formData.tags,\n              tagOptionsList.value\n            );\n            tags_id.forEach((tag) => {\n              addNovelFormInfo.append(\"tag_ids\", tag);\n            });\n          }\n          addNovelFormInfo.append(\"title\", formData.title);\n          addNovelFormInfo.append(\n            \"text\",\n            formData.quillEditorContent === \"<p></p>\" || formData.quillEditorContent === \"<p><br></p>\" ? \"\" : formData.quillEditorContent\n          );\n          addNovelFormInfo.append(\"describe\", formData.introduction);\n          addNovelFormInfo.append(\"web_url\", formData.url);\n          addNovelFormInfo.append(\n            \"is_public\",\n            String(formData.is_public)\n          );\n          const coverFile = addNovelFormInfo.get(\"cover\");\n          if (!coverFile) {\n            const uploadFile = defaultImageFile.value;\n            if (!uploadFile) {\n              ElMessage.error(\"未选择文件且默认图片加载失败！\");\n              return;\n            }\n            addNovelFormInfo.append(\"cover\", uploadFile);\n          }\n          addNovelFormInfo.append(\"tabTypeRes\", \"小说\");\n          nextTick(() => {\n            emit(\"submitForm\", addNovelFormInfo, type);\n          });\n        }\n      });\n    };\n    const handleCoverUpload = async (options) => {\n      const { file } = options;\n      addNovelFormInfo.append(\"cover\", file);\n    };\n    const handleCoverExceed = (files) => {\n      uploadCoverRef.value.clearFiles();\n      const file = files[0];\n      file.uid = genFileId();\n      uploadCoverRef.value.handleStart(file);\n    };\n    const handleUploadClick = () => {\n      fileInput.value.click();\n    };\n    const handleFileChange = (event) => {\n      var _a, _b;\n      const target = event.target;\n      const files = target.files;\n      if (!files || files.length === 0) return;\n      let audioFile = null;\n      let subtitleFile = null;\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        if (file.type.startsWith(\"audio/\") && file.type !== \"video/mp4\") {\n          audioFile = file;\n        } else if (file.name.endsWith(\".srt\")) {\n          subtitleFile = file;\n        } else if (file.type === \"video/mp4\") {\n          ElMessage.warning(`不支持mp4格式的文件: ${file.name}`);\n        } else {\n          ElMessage.warning(`不支持的文件类型: ${file.name}`);\n        }\n      }\n      if (audioFile) {\n        const audioFileObj = {\n          name: audioFile.name,\n          raw: audioFile,\n          uid: genFileId(),\n          type: audioFile.type\n        };\n        formData.audio = [audioFileObj];\n        (_a = otherForm.value) == null ? void 0 : _a.validateField([\"audio\"]);\n        addNovelFormInfo.delete(\"audio\");\n        addNovelFormInfo.append(\"audio\", audioFile);\n      }\n      if (subtitleFile) {\n        const subtitleFileObj = {\n          name: subtitleFile.name,\n          raw: subtitleFile,\n          uid: genFileId(),\n          type: subtitleFile.type\n        };\n        formData.subtitle = [subtitleFileObj];\n        (_b = otherForm.value) == null ? void 0 : _b.validateField([\"subtitle\"]);\n        addNovelFormInfo.delete(\"subtitle\");\n        addNovelFormInfo.append(\"subtitle\", subtitleFile);\n      }\n      if (audioFile && subtitleFile) {\n        ElMessage.success(\"音频和字幕文件上传成功\");\n      } else if (audioFile) {\n        if (formData.subtitle.length > 0) {\n          ElMessage.success(\"音频文件上传成功\");\n        } else {\n          ElMessage.warning(\"请继续上传字幕文件\");\n        }\n      } else if (subtitleFile) {\n        if (formData.audio.length > 0) {\n          ElMessage.success(\"字幕文件上传成功\");\n        } else {\n          ElMessage.warning(\"请继续上传音频文件\");\n        }\n      } else {\n        ElMessage.warning(\"请选择音频和字幕文件\");\n      }\n      target.value = \"\";\n    };\n    const removeFiles = (type) => {\n      var _a, _b;\n      if (type === \"audio\") {\n        formData.audio = [];\n        (_a = otherForm.value) == null ? void 0 : _a.validateField([\"audio\"]);\n        addNovelFormInfo.delete(\"audio\");\n        ElMessage.success(\"已清除音频文件\");\n      } else if (type === \"subtitle\") {\n        formData.subtitle = [];\n        (_b = otherForm.value) == null ? void 0 : _b.validateField([\"subtitle\"]);\n        addNovelFormInfo.delete(\"subtitle\");\n        ElMessage.success(\"已清除字幕文件\");\n      }\n    };\n    const onChange = (file, fileList, type) => {\n      var _a;\n      {\n        (_a = otherForm.value) == null ? void 0 : _a.validateField([\"cover\"]);\n        addNovelFormInfo.delete(\"cover\");\n        addNovelFormInfo.append(\"cover\", file.raw);\n      }\n    };\n    const onRemove = (file, fileList, type) => {\n      nextTick(() => {\n        var _a;\n        if (fileList.length <= 0) {\n          {\n            (_a = otherForm.value) == null ? void 0 : _a.validateField([\"cover\"]);\n            addNovelFormInfo.delete(\"cover\");\n          }\n        }\n      });\n    };\n    const handleTextFileChange = async (file) => {\n      try {\n        if (file.name.endsWith(\".docx\")) {\n          const arrayBuffer = await readFileAsArrayBuffer(\n            file.raw\n          );\n          const content = await parseDocxFile(arrayBuffer);\n          formData.quillEditorContent = content;\n        } else if (file.name.endsWith(\".srt\")) {\n          const content = await readFileAsText(file.raw);\n          const res = parseSRTContent(content);\n          formData.quillEditorContent = formatTextWithPTags(res);\n        } else if (file.name.endsWith(\".txt\")) {\n          const content = await readFileAsText(file.raw);\n          formData.quillEditorContent = formatTextWithPTags(content);\n        } else {\n          ElMessage.error(\"不支持的文件格式\");\n        }\n      } catch (error) {\n        ElMessage.error(\"文件解析失败: \" + error.message);\n      }\n    };\n    const formatTextWithPTags = (text) => {\n      return text.split(\"\\n\").map((line) => `<p>${line}</p>`).join(\"\");\n    };\n    const handleExceed = (files) => {\n      textContentUpload.value.clearFiles();\n      const file = files[0];\n      file.uid = genFileId();\n      textContentUpload.value.handleStart(file);\n    };\n    const beforeCoverUpload = (file) => {\n      const isImage = file.type.startsWith(\"image/\");\n      if (!isImage) {\n        ElMessage.error(\"只能上传图片文件\");\n        return false;\n      }\n      return true;\n    };\n    __expose({\n      init\n    });\n    return (_ctx, _cache) => {\n      const _component_el_icon = ElIcon;\n      const _component_el_input = ElInput;\n      const _component_el_form_item = ElFormItem;\n      const _component_el_button = ElButton;\n      const _component_el_upload = ElUpload;\n      const _component_el_tooltip = ElTooltip;\n      const _component_el_form = ElForm;\n      const _component_el_dialog = ElDialog;\n      const _directive_loading = vLoading;\n      return openBlock(), createBlock(_component_el_dialog, {\n        modelValue: dialogVisible.value,\n        \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event) => dialogVisible.value = $event),\n        width: \"750\",\n        \"custom-class\": \"custom-dialog\",\n        class: \"upload-dialog\",\n        \"before-close\": handleClose,\n        \"show-close\": false,\n        fullscreen: false,\n        \"modal-append-to-body\": true,\n        \"close-on-click-modal\": false,\n        \"destroy-on-close\": true,\n        top: \"5vh\",\n        \"append-to-body\": true\n      }, {\n        header: withCtx(({ titleId, titleClass }) => [\n          createElementVNode(\"div\", _hoisted_1$b, [\n            createElementVNode(\"span\", {\n              id: titleId,\n              class: normalizeClass(titleClass)\n            }, toDisplayString(dialogTitle.value), 11, _hoisted_2$a),\n            createVNode(_component_el_icon, {\n              class: \"close-icon\",\n              onClick: handleClose\n            }, {\n              default: withCtx(() => [\n                createVNode(unref(close_default))\n              ]),\n              _: 1\n            })\n          ])\n        ]),\n        footer: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_10$6, [\n            createVNode(_component_el_button, {\n              onClick: _cache[9] || (_cache[9] = ($event) => handleClose())\n            }, {\n              default: withCtx(() => _cache[16] || (_cache[16] = [\n                createTextVNode(\"关闭\")\n              ])),\n              _: 1,\n              __: [16]\n            }),\n            createVNode(_component_el_button, {\n              class: \"btn-primary\",\n              onClick: _cache[10] || (_cache[10] = ($event) => handleSubmit(dialogType.value))\n            }, {\n              default: withCtx(() => _cache[17] || (_cache[17] = [\n                createTextVNode(\"提交\")\n              ])),\n              _: 1,\n              __: [17]\n            })\n          ])\n        ]),\n        default: withCtx(() => [\n          withDirectives((openBlock(), createBlock(_component_el_form, {\n            ref_key: \"otherForm\",\n            ref: otherForm,\n            model: formData,\n            rules: formRules,\n            \"label-width\": \"90px\"\n          }, {\n            default: withCtx(() => [\n              createVNode(_component_el_form_item, {\n                label: \"标题\",\n                prop: \"title\"\n              }, {\n                default: withCtx(() => [\n                  createVNode(_component_el_input, {\n                    modelValue: formData.title,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => formData.title = $event),\n                    placeholder: \"请输入标题\"\n                  }, null, 8, [\"modelValue\"])\n                ]),\n                _: 1\n              }),\n              createVNode(_component_el_form_item, {\n                label: \"标签\",\n                prop: \"tags\"\n              }, {\n                default: withCtx(() => [\n                  createVNode(ComSelectTag, {\n                    modelValue: formData.tags,\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => formData.tags = $event),\n                    tagsList: unref(tagOptionsList),\n                    category: tabTypeRes.value,\n                    onRefresh: _cache[2] || (_cache[2] = ($event) => unref(refreshTagLists)({ category: tabTypeRes.value }))\n                  }, null, 8, [\"modelValue\", \"tagsList\", \"category\"])\n                ]),\n                _: 1\n              }),\n              createVNode(_component_el_form_item, {\n                label: \"封面\",\n                prop: \"cover\"\n              }, {\n                default: withCtx(() => [\n                  createVNode(_component_el_upload, {\n                    ref_key: \"uploadCoverRef\",\n                    ref: uploadCoverRef,\n                    class: \"avatar-uploader\",\n                    action: \"#\",\n                    \"file-list\": formData.cover,\n                    \"onUpdate:fileList\": _cache[3] || (_cache[3] = ($event) => formData.cover = $event),\n                    \"http-request\": handleCoverUpload,\n                    accept: \"image/*\",\n                    limit: 1,\n                    \"on-exceed\": handleCoverExceed,\n                    \"on-change\": (file, fileList) => onChange(file),\n                    \"on-remove\": (file, fileList) => onRemove(file, fileList),\n                    \"before-upload\": beforeCoverUpload\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(_component_el_button, { size: \"small\" }, {\n                        default: withCtx(() => _cache[12] || (_cache[12] = [\n                          createTextVNode(\"上传封面\")\n                        ])),\n                        _: 1,\n                        __: [12]\n                      })\n                    ]),\n                    _: 1\n                  }, 8, [\"file-list\", \"on-change\", \"on-remove\"])\n                ]),\n                _: 1\n              }),\n              createVNode(_component_el_form_item, {\n                label: \"正文\",\n                prop: \"quillEditorContent\"\n              }, {\n                default: withCtx(() => [\n                  createVNode(_component_el_upload, {\n                    ref_key: \"textContentUpload\",\n                    ref: textContentUpload,\n                    action: \"#\",\n                    \"auto-upload\": false,\n                    \"on-change\": handleTextFileChange,\n                    accept: \".docx,.srt,.txt\",\n                    limit: 1,\n                    \"on-exceed\": handleExceed\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(_component_el_button, {\n                        type: \"primary\",\n                        class: \"btn-primary\"\n                      }, {\n                        default: withCtx(() => _cache[13] || (_cache[13] = [\n                          createTextVNode(\"上传文件 (.docx 或 .txt 或 .srt)\")\n                        ])),\n                        _: 1,\n                        __: [13]\n                      })\n                    ]),\n                    _: 1\n                  }, 512),\n                  createElementVNode(\"div\", _hoisted_3$9, [\n                    createVNode(unref(QuillEditor), {\n                      theme: \"snow\",\n                      ref_key: \"myQuillEditor\",\n                      ref: myQuillEditor,\n                      content: formData.quillEditorContent,\n                      \"onUpdate:content\": _cache[4] || (_cache[4] = ($event) => formData.quillEditorContent = $event),\n                      options: editorOption,\n                      contentType: \"html\"\n                    }, null, 8, [\"content\"])\n                  ])\n                ]),\n                _: 1\n              }),\n              createVNode(_component_el_form_item, {\n                label: \"音频和字幕\",\n                prop: \"audioSubtitle\",\n                class: \"subAudioOption\"\n              }, {\n                default: withCtx(() => [\n                  createElementVNode(\"div\", _hoisted_4$8, [\n                    createVNode(_component_el_button, {\n                      size: \"small\",\n                      onClick: handleUploadClick\n                    }, {\n                      default: withCtx(() => _cache[14] || (_cache[14] = [\n                        createTextVNode(\"选择音频和字幕文件\")\n                      ])),\n                      _: 1,\n                      __: [14]\n                    }),\n                    _cache[15] || (_cache[15] = createElementVNode(\"span\", { class: \"upload-tip\" }, \"可同时选择或分次选择音频(mp3)和字幕(.srt)，每种只能上传一个，新文件会替换旧文件\", -1)),\n                    createElementVNode(\"input\", {\n                      ref_key: \"fileInput\",\n                      ref: fileInput,\n                      type: \"file\",\n                      accept: \"audio/*,.srt\",\n                      style: { \"display\": \"none\" },\n                      onChange: handleFileChange,\n                      multiple: \"\"\n                    }, null, 544)\n                  ]),\n                  formData.audio.length > 0 || formData.subtitle.length > 0 ? (openBlock(), createElementBlock(\"div\", _hoisted_5$8, [\n                    formData.subtitle.length > 0 ? (openBlock(), createElementBlock(\"div\", _hoisted_6$8, [\n                      (openBlock(true), createElementBlock(Fragment, null, renderList(formData.subtitle, (file, index) => {\n                        return openBlock(), createElementBlock(\"div\", {\n                          key: index,\n                          class: \"file-item\"\n                        }, [\n                          createVNode(_component_el_tooltip, {\n                            content: file.name,\n                            placement: \"top\",\n                            \"show-after\": 500,\n                            \"popper-class\": \"custom-tooltip\",\n                            \"max-width\": 300\n                          }, {\n                            default: withCtx(() => [\n                              createElementVNode(\"span\", _hoisted_7$7, toDisplayString(file.name), 1)\n                            ]),\n                            _: 2\n                          }, 1032, [\"content\"]),\n                          createVNode(_component_el_icon, {\n                            class: \"file-remove-icon\",\n                            onClick: _cache[5] || (_cache[5] = () => removeFiles(\"subtitle\"))\n                          }, {\n                            default: withCtx(() => [\n                              createVNode(unref(close_default))\n                            ]),\n                            _: 1\n                          })\n                        ]);\n                      }), 128))\n                    ])) : createCommentVNode(\"\", true),\n                    formData.audio.length > 0 ? (openBlock(), createElementBlock(\"div\", _hoisted_8$6, [\n                      (openBlock(true), createElementBlock(Fragment, null, renderList(formData.audio, (file, index) => {\n                        return openBlock(), createElementBlock(\"div\", {\n                          key: index,\n                          class: \"file-item\"\n                        }, [\n                          createVNode(_component_el_tooltip, {\n                            content: file.name,\n                            placement: \"top\",\n                            \"show-after\": 500,\n                            \"popper-class\": \"custom-tooltip\",\n                            \"max-width\": 200\n                          }, {\n                            default: withCtx(() => [\n                              createElementVNode(\"span\", _hoisted_9$6, toDisplayString(file.name), 1)\n                            ]),\n                            _: 2\n                          }, 1032, [\"content\"]),\n                          createVNode(_component_el_icon, {\n                            class: \"file-remove-icon\",\n                            onClick: _cache[6] || (_cache[6] = () => removeFiles(\"audio\"))\n                          }, {\n                            default: withCtx(() => [\n                              createVNode(unref(close_default))\n                            ]),\n                            _: 1\n                          })\n                        ]);\n                      }), 128))\n                    ])) : createCommentVNode(\"\", true)\n                  ])) : createCommentVNode(\"\", true)\n                ]),\n                _: 1\n              }),\n              createVNode(_component_el_form_item, {\n                label: \"简介\",\n                prop: \"introduction\"\n              }, {\n                default: withCtx(() => [\n                  createVNode(_component_el_input, {\n                    modelValue: formData.introduction,\n                    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event) => formData.introduction = $event),\n                    placeholder: \"请输入简介\"\n                  }, null, 8, [\"modelValue\"])\n                ]),\n                _: 1\n              }),\n              createVNode(_component_el_form_item, {\n                label: \"网址\",\n                prop: \"url\"\n              }, {\n                default: withCtx(() => [\n                  createVNode(_component_el_input, {\n                    modelValue: formData.url,\n                    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event) => formData.url = $event),\n                    placeholder: \"请输入网址\"\n                  }, null, 8, [\"modelValue\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"model\"])), [\n            [_directive_loading, loading.value]\n          ])\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"]);\n    };\n  }\n});\nconst createNovel = /* @__PURE__ */ _export_sfc(_sfc_main$c, [[\"__scopeId\", \"data-v-c717351a\"]]);\nconst _hoisted_1$a = { class: \"dialog-header\" };\nconst _hoisted_2$9 = [\"id\"];\nconst _hoisted_3$8 = { class: \"dialog-footer\" };\nconst _sfc_main$b = /* @__PURE__ */ defineComponent({\n  __name: \"TagAdd\",\n  emits: [\"submitForm\", \"createNewTag\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n    const dialogVisible = ref(false);\n    const dialogTitle = ref(\"\");\n    const otherForm = ref();\n    const loading = ref(false);\n    const emit = __emit;\n    const formData = reactive({\n      tags: [],\n      type: \"\"\n    });\n    const { tagOptionsList, refreshTagLists } = useRefreshTagList();\n    const handleClose = () => {\n      dialogVisible.value = false;\n      refreshList();\n    };\n    const tabTypeRes = ref(\"\");\n    const init = async (item, visible) => {\n      dialogVisible.value = visible;\n      if (!visible) return;\n      dialogTitle.value = (item == null ? void 0 : item.title) || \"\";\n      tabTypeRes.value = (item == null ? void 0 : item.type) || \"\";\n      refreshList();\n      await refreshTagLists({\n        category: tabTypeRes.value\n      });\n    };\n    const refreshList = () => {\n      if (otherForm.value) {\n        otherForm.value.resetFields();\n      }\n      formData.type = \"\";\n    };\n    const formRules = {\n      tags: [{ required: true, message: \"请选择标签\", trigger: \"change\" }]\n    };\n    const handleSubmit = async () => {\n      var _a;\n      (_a = otherForm.value) == null ? void 0 : _a.validate((valid, fields) => {\n        if (valid) {\n          let formDataRes = JSON.parse(JSON.stringify(formData));\n          if (formData.tags.length > 0) {\n            formDataRes.tags = getIdByName(\n              formData.tags,\n              tagOptionsList.value\n            );\n          }\n          nextTick(() => {\n            emit(\"submitForm\", formDataRes.tags);\n          });\n        }\n      });\n    };\n    __expose({\n      init\n    });\n    return (_ctx, _cache) => {\n      const _component_el_icon = ElIcon;\n      const _component_el_form_item = ElFormItem;\n      const _component_el_form = ElForm;\n      const _component_el_button = ElButton;\n      const _component_el_dialog = ElDialog;\n      const _directive_loading = vLoading;\n      return openBlock(), createBlock(_component_el_dialog, {\n        modelValue: dialogVisible.value,\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => dialogVisible.value = $event),\n        width: \"800\",\n        \"custom-class\": \"custom-dialog\",\n        class: \"upload-dialog\",\n        \"before-close\": handleClose,\n        \"show-close\": false,\n        \"close-on-click-modal\": false,\n        heigth: \"400\"\n      }, {\n        header: withCtx(({ close, titleId, titleClass }) => [\n          createElementVNode(\"div\", _hoisted_1$a, [\n            createElementVNode(\"span\", {\n              id: titleId,\n              class: normalizeClass(titleClass)\n            }, toDisplayString(dialogTitle.value), 11, _hoisted_2$9),\n            createVNode(_component_el_icon, {\n              class: \"close-icon\",\n              onClick: handleClose\n            }, {\n              default: withCtx(() => [\n                createVNode(unref(close_default))\n              ]),\n              _: 1\n            })\n          ])\n        ]),\n        footer: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_3$8, [\n            createVNode(_component_el_button, {\n              onClick: _cache[3] || (_cache[3] = ($event) => handleClose())\n            }, {\n              default: withCtx(() => _cache[6] || (_cache[6] = [\n                createTextVNode(\"关闭\")\n              ])),\n              _: 1,\n              __: [6]\n            }),\n            createVNode(_component_el_button, {\n              type: \"primary\",\n              class: \"btn-primary\",\n              onClick: _cache[4] || (_cache[4] = ($event) => handleSubmit())\n            }, {\n              default: withCtx(() => _cache[7] || (_cache[7] = [\n                createTextVNode(\"提交\")\n              ])),\n              _: 1,\n              __: [7]\n            })\n          ])\n        ]),\n        default: withCtx(() => [\n          withDirectives((openBlock(), createBlock(_component_el_form, {\n            ref_key: \"otherForm\",\n            ref: otherForm,\n            model: formData,\n            rules: formRules,\n            \"label-position\": \"left\",\n            \"require-asterisk-position\": \"right\",\n            class: \"vertical-form\",\n            onSubmit: _cache[2] || (_cache[2] = withModifiers(() => {\n            }, [\"prevent\"]))\n          }, {\n            default: withCtx(() => [\n              createVNode(_component_el_form_item, {\n                label: \"标签\",\n                prop: \"tags\",\n                style: { \"height\": \"400px\" }\n              }, {\n                default: withCtx(() => [\n                  createVNode(ComSelectTag, {\n                    modelValue: formData.tags,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => formData.tags = $event),\n                    tagsList: unref(tagOptionsList),\n                    category: tabTypeRes.value,\n                    onRefresh: _cache[1] || (_cache[1] = ($event) => unref(refreshTagLists)({\n                      category: tabTypeRes.value\n                    }))\n                  }, null, 8, [\"modelValue\", \"tagsList\", \"category\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"model\"])), [\n            [_directive_loading, loading.value]\n          ])\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"]);\n    };\n  }\n});\nconst tagAdd = /* @__PURE__ */ _export_sfc(_sfc_main$b, [[\"__scopeId\", \"data-v-720f2734\"]]);\nconst _hoisted_1$9 = { class: \"dialog-header\" };\nconst _hoisted_2$8 = [\"id\"];\nconst _hoisted_3$7 = { class: \"upload-type-tabs\" };\nconst _hoisted_4$7 = [\"onClick\"];\nconst _hoisted_5$7 = {\n  key: 0,\n  class: \"upload-count-tip\"\n};\nconst _hoisted_6$7 = {\n  key: 0,\n  class: \"tips_label\"\n};\nconst _hoisted_7$6 = {\n  key: 1,\n  class: \"tips_label\"\n};\nconst _hoisted_8$5 = { class: \"custom-file-item\" };\nconst _hoisted_9$5 = {\n  key: 0,\n  class: \"file-prefix\"\n};\nconst _hoisted_10$5 = {\n  key: 1,\n  class: \"file-prefix-placeholder\"\n};\nconst _hoisted_11$4 = [\"title\"];\nconst _hoisted_12$4 = { class: \"upload-progress\" };\nconst _hoisted_13$4 = {\n  key: 0,\n  class: \"processing-text\"\n};\nconst _hoisted_14$3 = { class: \"dialog-footer\" };\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  __name: \"ComMaterialAdd\",\n  props: {\n    propUploadTypeChange: { type: Boolean },\n    propUploadTypeDisabled: { type: Boolean }\n  },\n  emits: [\"submitForm\", \"createNewTag\", \"resetLoading\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n    const dialogVisible = ref(false);\n    const dialogTitle = ref(\"\");\n    const otherForm = ref();\n    const loading = ref(false);\n    const emit = __emit;\n    const { tagOptionsList, refreshTagLists } = useRefreshTagList();\n    const handleClose = () => {\n      dialogVisible.value = false;\n      isProcessing.value = false;\n      uploadProgress.value = 0;\n      emit(\"resetLoading\");\n      refreshList();\n    };\n    const tabTypeRes = ref(\"\");\n    const dialogLoading = ref(true);\n    const limitNum = ref(void 0);\n    const uploadProgress = ref(0);\n    const isProcessing = ref(false);\n    const isShortPlay = computed(() => {\n      return tabTypeRes.value === \"短剧贴图\" || tabTypeRes.value === \"短剧视频\" || tabTypeRes.value === \"短剧尾帧\";\n    });\n    const handleUploadProgress = (progress) => {\n      uploadProgress.value = progress;\n      if (progress === 100) {\n        isProcessing.value = true;\n      }\n    };\n    const handleUploadComplete = () => {\n      isProcessing.value = false;\n      uploadProgress.value = 0;\n    };\n    const uploadTypeOptions = computed(() => {\n      const allOptions = {\n        image: [\n          { label: \"贴图\", value: \"贴片\" },\n          { label: \"带文字图片\", value: \"模板图片\" }\n        ],\n        video: [\n          { label: \"尾帧视频\", value: \"尾帧视频\" },\n          { label: \"带文字视频\", value: \"模板视频\" }\n        ]\n      };\n      if (tabTypeRes.value === \"贴片\" || tabTypeRes.value === \"模板图片\") {\n        return allOptions.image;\n      } else if (tabTypeRes.value === \"尾帧视频\" || tabTypeRes.value === \"模板视频\") {\n        return allOptions.video;\n      }\n      return [];\n    });\n    const init = async (item, visible, tabType, num, loading2) => {\n      if (visible == false) {\n        dialogVisible.value = visible;\n        uploadProgress.value = 0;\n        isProcessing.value = false;\n        dialogLoading.value = false;\n        return;\n      }\n      console.log(item, 11221);\n      dialogLoading.value = loading2 ?? false;\n      dialogVisible.value = visible;\n      limitNum.value = num;\n      tabTypeRes.value = tabType;\n      refreshList();\n      !isShortPlay.value && await refreshTagLists({ category: tabTypeRes.value });\n      dialogTitle.value = (item == null ? void 0 : item.title) || \"\";\n      formData.type = (item == null ? void 0 : item.type) || \"\";\n    };\n    const handleUploadTypeChange = async (newType) => {\n      if (newType !== tabTypeRes.value) {\n        tabTypeRes.value = newType;\n        formData.uploadType = newType;\n        dialogTitle.value = determineType(newType);\n        formData.tags = [];\n        await refreshTagLists({ category: tabTypeRes.value });\n        console.log(\"标签刷新完成，当前标签列表:\", tagOptionsList.value);\n      }\n    };\n    function determineType(newType) {\n      switch (newType) {\n        case \"贴片\":\n          return \"添加贴图\";\n        case \"模板图片\":\n          return \"添加带文字图片\";\n        case \"尾帧视频\":\n          return \"添加尾帧视频\";\n        case \"模板视频\":\n          return \"添加带文字视频\";\n        default:\n          return \"添加素材\";\n      }\n    }\n    const uploadRef = ref();\n    const formData = reactive({\n      is_public: false,\n      name: \"\",\n      type: \"\",\n      file: [],\n      fileData: [],\n      tags: [],\n      uploadType: \"\"\n    });\n    const handleRemove = (file) => {\n      var _a;\n      const index = formData.fileData.findIndex(\n        (item) => item.uid === file.uid\n      );\n      if (index !== -1) {\n        formData.fileData.splice(index, 1);\n      }\n      const fileIndex = formData.file.findIndex(\n        (item) => item.uid === file.uid\n      );\n      if (fileIndex !== -1) {\n        formData.file.splice(fileIndex, 1);\n      }\n      if (formData.file.length === 0 && formData.fileData.length === 0) {\n        (_a = otherForm.value) == null ? void 0 : _a.validateField(\"file\");\n      }\n    };\n    watch(\n      () => tabTypeRes.value,\n      (newValue) => {\n        formData.uploadType = newValue;\n      },\n      { immediate: true }\n    );\n    const refreshList = () => {\n      if (otherForm.value) {\n        otherForm.value.resetFields();\n      }\n      formData.file = [];\n      formData.fileData = [];\n      formData.name = \"\";\n      formData.type = \"\";\n    };\n    const formRules = {\n      tags: [{ required: true, message: \"请选择标签\", trigger: \"change\" }],\n      file: [\n        {\n          required: true,\n          message: \"请上传至少一个文件\",\n          trigger: \"change\"\n        }\n      ]\n    };\n    const handleSubmit = async () => {\n      var _a;\n      let formDataRes = deepCopyWithFiles(formData);\n      (_a = otherForm.value) == null ? void 0 : _a.validate((valid) => {\n        if (valid) {\n          dialogLoading.value = true;\n          nextTick(() => {\n            emit(\"submitForm\", formDataRes);\n          });\n        }\n      });\n    };\n    const deepCopyWithFiles = (obj) => {\n      if (obj === null || typeof obj !== \"object\") {\n        return obj;\n      }\n      if (obj instanceof Date) {\n        return new Date(obj);\n      }\n      if (obj instanceof File || obj instanceof Blob) {\n        return obj;\n      }\n      if (Array.isArray(obj)) {\n        return obj.map((item) => deepCopyWithFiles(item));\n      }\n      const copiedObj = {};\n      for (let key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          copiedObj[key] = deepCopyWithFiles(obj[key]);\n        }\n      }\n      return copiedObj;\n    };\n    const handleMaterialsUpload = async (options) => {\n      var _a;\n      const { file } = options;\n      const fileList = [];\n      fileList.push(file);\n      fileList.forEach((fileItem) => {\n        formData.fileData.push(fileItem);\n      });\n      (_a = otherForm.value) == null ? void 0 : _a.clearValidate([\"file\"]);\n    };\n    const handleMaterialsBeforeUpload = async (file) => {\n      const allowedTypes = getAllowedTypes();\n      const isValidType = allowedTypes.includes(file.type);\n      if (!isValidType) {\n        let typeName = \"\";\n        switch (tabTypeRes.value) {\n          case \"背景图片\":\n          case \"贴片\":\n          case \"模板图片\":\n          case \"短剧贴图\":\n            typeName = \"图片\";\n            break;\n          case \"解压视频\":\n          case \"首帧视频\":\n          case \"尾帧视频\":\n          case \"模板视频\":\n          case \"短剧视频\":\n          case \"短剧尾帧\":\n            typeName = \"视频\";\n            break;\n          case \"背景音乐\":\n            typeName = \"音频\";\n            break;\n        }\n        ElMessage.error(`请上传${typeName}格式文件!`);\n        return false;\n      }\n      console.log(\"file\", file.name);\n      const isValid1 = /^.*?\\.\\d{1,4}\\.\\d{1,4}\\.\\d{1,4}\\.\\d{1,4}\\.[0-9a-f]{6}\\.[0-9a-f]{6}(?:\\..+)?$/i.test(\n        file.name\n      );\n      const isValid2 = /^.*?\\.\\d{1,4}\\.\\d{1,4}\\.\\d{1,4}\\.\\d{1,4}(?:\\..+)?$/i.test(\n        file.name\n      );\n      if (tabTypeRes.value == \"模板图片\") {\n        if (!isValid1) {\n          ElMessage.error(\n            `文件名格式应为：自定义名.x坐标.y坐标.宽度.高度.字体色.描边色`\n          );\n          return false;\n        }\n      } else if (tabTypeRes.value == \"模板视频\") {\n        if (!isValid2) {\n          ElMessage.error(\n            `文件名格式应为：自定义名.x坐标.y坐标.宽度.高度.`\n          );\n          return false;\n        }\n      }\n      return true;\n    };\n    const getAllowedTypes = () => {\n      switch (tabTypeRes.value) {\n        case \"背景图片\":\n        case \"贴片\":\n        case \"模板图片\":\n        case \"短剧贴图\":\n          return [\"image/jpeg\", \"image/png\", \"image/gif\", \"image/webp\"];\n        case \"解压视频\":\n        case \"首帧视频\":\n        case \"尾帧视频\":\n        case \"模板视频\":\n        case \"短剧视频\":\n        case \"短剧尾帧\":\n          return [\"video/mp4\", \"video/webm\", \"video/quicktime\"];\n        case \"背景音乐\":\n          return [\"audio/mpeg\", \"audio/wav\", \"audio/ogg\", \"video/mp4\"];\n        default:\n          return [];\n      }\n    };\n    const handleExceed = (file) => {\n      ElMessage.error(\"超出上传个数限制!\");\n    };\n    __expose({\n      init,\n      handleUploadProgress,\n      handleUploadComplete\n    });\n    return (_ctx, _cache) => {\n      const _component_el_icon = ElIcon;\n      const _component_el_form_item = ElFormItem;\n      const _component_el_upload = ElUpload;\n      const _component_el_progress = ElProgress;\n      const _component_el_form = ElForm;\n      const _component_el_button = ElButton;\n      const _component_el_dialog = ElDialog;\n      const _directive_loading = vLoading;\n      return openBlock(), createBlock(_component_el_dialog, {\n        modelValue: dialogVisible.value,\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => dialogVisible.value = $event),\n        title: dialogTitle.value,\n        width: \"600\",\n        \"custom-class\": \"custom-dialog\",\n        class: \"upload-dialog\",\n        \"before-close\": handleClose,\n        \"show-close\": false,\n        \"close-on-click-modal\": false\n      }, {\n        header: withCtx(({ close, titleId, titleClass }) => [\n          createElementVNode(\"div\", _hoisted_1$9, [\n            createElementVNode(\"span\", {\n              id: titleId,\n              class: normalizeClass(titleClass)\n            }, toDisplayString(dialogTitle.value), 11, _hoisted_2$8),\n            createVNode(_component_el_icon, {\n              class: \"close-icon\",\n              onClick: handleClose\n            }, {\n              default: withCtx(() => [\n                createVNode(unref(close_default))\n              ]),\n              _: 1\n            })\n          ])\n        ]),\n        footer: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_14$3, [\n            createVNode(_component_el_button, {\n              onClick: _cache[4] || (_cache[4] = ($event) => handleClose())\n            }, {\n              default: withCtx(() => _cache[8] || (_cache[8] = [\n                createTextVNode(\"关闭\")\n              ])),\n              _: 1,\n              __: [8]\n            }),\n            createVNode(_component_el_button, {\n              loading: dialogLoading.value,\n              class: \"btn-primary\",\n              onClick: handleSubmit\n            }, {\n              default: withCtx(() => _cache[9] || (_cache[9] = [\n                createTextVNode(\"提交\")\n              ])),\n              _: 1,\n              __: [9]\n            }, 8, [\"loading\"])\n          ])\n        ]),\n        default: withCtx(() => [\n          withDirectives((openBlock(), createBlock(_component_el_form, {\n            ref_key: \"otherForm\",\n            ref: otherForm,\n            model: formData,\n            rules: formRules,\n            \"label-position\": \"left\",\n            \"require-asterisk-position\": \"right\",\n            class: \"vertical-form\",\n            onSubmit: _cache[3] || (_cache[3] = withModifiers(() => {\n            }, [\"prevent\"]))\n          }, {\n            default: withCtx(() => [\n              _ctx.propUploadTypeChange ? (openBlock(), createBlock(_component_el_form_item, {\n                key: 0,\n                label: \"上传到\",\n                prop: \"uploadType\"\n              }, {\n                default: withCtx(() => [\n                  createElementVNode(\"div\", _hoisted_3$7, [\n                    (openBlock(true), createElementBlock(Fragment, null, renderList(uploadTypeOptions.value, (item) => {\n                      return openBlock(), createElementBlock(\"div\", {\n                        key: item.value,\n                        onClick: ($event) => !_ctx.propUploadTypeDisabled && handleUploadTypeChange(item.value),\n                        class: normalizeClass([\n                          \"tab-item\",\n                          formData.uploadType === item.value ? \"active\" : \"\",\n                          _ctx.propUploadTypeDisabled && formData.uploadType !== item.value ? \"disabled\" : \"\"\n                        ]),\n                        style: normalizeStyle(\n                          _ctx.propUploadTypeDisabled && formData.uploadType !== item.value ? { cursor: \"not-allowed\", opacity: 0.6 } : {}\n                        )\n                      }, toDisplayString(item.label), 15, _hoisted_4$7);\n                    }), 128))\n                  ])\n                ]),\n                _: 1\n              })) : createCommentVNode(\"\", true),\n              createVNode(_component_el_form_item, {\n                label: \"上传文件\",\n                prop: \"file\"\n              }, {\n                label: withCtx(() => {\n                  var _a;\n                  return [\n                    createElementVNode(\"span\", null, [\n                      _cache[6] || (_cache[6] = createTextVNode(\" 上传文件 \")),\n                      limitNum.value !== void 0 && limitNum.value !== null ? (openBlock(), createElementBlock(\"span\", _hoisted_5$7, \" (还可上传 \" + toDisplayString(Math.max(\n                        0,\n                        limitNum.value - (((_a = formData.file) == null ? void 0 : _a.length) || 0)\n                      )) + \" 个文件) \", 1)) : createCommentVNode(\"\", true)\n                    ])\n                  ];\n                }),\n                default: withCtx(() => [\n                  tabTypeRes.value == \"模板图片\" ? (openBlock(), createElementBlock(\"div\", _hoisted_6$7, \" 文件命名规则：自定义名.x1.y1.x2.y2.字体色.描边色 \")) : tabTypeRes.value == \"模板视频\" ? (openBlock(), createElementBlock(\"div\", _hoisted_7$6, \" 文件命名规则：自定义名.x1.y1.x2.y2 \")) : createCommentVNode(\"\", true),\n                  createVNode(_component_el_upload, {\n                    ref_key: \"uploadRef\",\n                    ref: uploadRef,\n                    action: \"#\",\n                    \"file-list\": formData.file,\n                    \"onUpdate:fileList\": _cache[0] || (_cache[0] = ($event) => formData.file = $event),\n                    \"http-request\": handleMaterialsUpload,\n                    \"before-upload\": handleMaterialsBeforeUpload,\n                    \"on-exceed\": handleExceed,\n                    multiple: \"\",\n                    limit: limitNum.value ?? void 0\n                  }, {\n                    trigger: withCtx(() => _cache[7] || (_cache[7] = [\n                      createElementVNode(\"div\", { class: \"upload-btn\" }, [\n                        createElementVNode(\"div\", { class: \"upload-btn-icon\" }, \"+\"),\n                        createElementVNode(\"div\", { class: \"upload-btn-text\" }, \"选择文件\")\n                      ], -1)\n                    ])),\n                    file: withCtx(({ file, index }) => [\n                      createElementVNode(\"div\", _hoisted_8$5, [\n                        index === 0 ? (openBlock(), createElementBlock(\"span\", _hoisted_9$5, \"已选择：\")) : (openBlock(), createElementBlock(\"span\", _hoisted_10$5)),\n                        createElementVNode(\"span\", {\n                          class: \"file-name\",\n                          title: file.name\n                        }, toDisplayString(file.name), 9, _hoisted_11$4),\n                        createVNode(_component_el_icon, {\n                          class: \"delete-icon\",\n                          size: \"16px\",\n                          onClick: ($event) => handleRemove(file)\n                        }, {\n                          default: withCtx(() => [\n                            createVNode(unref(close_default))\n                          ]),\n                          _: 2\n                        }, 1032, [\"onClick\"])\n                      ])\n                    ]),\n                    _: 1\n                  }, 8, [\"file-list\", \"limit\"])\n                ]),\n                _: 1\n              }),\n              uploadProgress.value < 100 && uploadProgress.value > 0 || isProcessing.value ? (openBlock(), createBlock(_component_el_form_item, {\n                key: 1,\n                label: \"上传进度\",\n                prop: \"uploadProgress\"\n              }, {\n                default: withCtx(() => [\n                  createElementVNode(\"div\", _hoisted_12$4, [\n                    createVNode(_component_el_progress, {\n                      percentage: uploadProgress.value,\n                      \"show-text\": true\n                    }, null, 8, [\"percentage\"]),\n                    isProcessing.value ? (openBlock(), createElementBlock(\"div\", _hoisted_13$4, \" 上传结束,用户可关闭弹框,不会影响数据更新... \")) : createCommentVNode(\"\", true)\n                  ])\n                ]),\n                _: 1\n              })) : createCommentVNode(\"\", true),\n              !isShortPlay.value ? (openBlock(), createBlock(_component_el_form_item, {\n                key: 2,\n                label: \"标签\",\n                prop: \"tags\"\n              }, {\n                default: withCtx(() => [\n                  createVNode(ComSelectTag, {\n                    modelValue: formData.tags,\n                    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => formData.tags = $event),\n                    tagsList: unref(tagOptionsList),\n                    category: tabTypeRes.value,\n                    onRefresh: _cache[2] || (_cache[2] = ($event) => unref(refreshTagLists)({ category: tabTypeRes.value }))\n                  }, null, 8, [\"modelValue\", \"tagsList\", \"category\"])\n                ]),\n                _: 1\n              })) : createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"model\"])), [\n            [_directive_loading, loading.value]\n          ])\n        ]),\n        _: 1\n      }, 8, [\"modelValue\", \"title\"]);\n    };\n  }\n});\nconst createVideo = /* @__PURE__ */ _export_sfc(_sfc_main$a, [[\"__scopeId\", \"data-v-0e725092\"]]);\nconst _imports_0 = \"data:image/svg+xml,%3csvg%20t='1743603038515'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6743'%20width='200'%20height='200'%3e%3cpath%20d='M826.48%20660.9c-60.456%200-109.88%2032.358-132.9%2082.596L401.373%20619.203c17.045-26.404%2026.41-58.768%2026.41-93.666%200-14.459-1.706-28.943-5.12-42.573l186.572-144.752c24.72%2018.729%2056.253%2029.798%2091.177%2029.798%2084.347%200%20147.38-63.012%20147.38-146.432%200-83.45-63.054-146.462-147.38-146.462-84.352%200-146.535%2063.011-146.535%20146.462%200%2021.29%204.265%2040.868%2011.07%2057.892L392.837%20411.433c-34.068-51.087-90.301-86.856-154.194-86.856-104.192-0.26-188.866%2083.989-189.122%20188.18a23.803%2023.803%200%200%200%200%200.856c-0.2%20104.192%2084.106%20188.815%20188.298%20189.015h0.83c39.188%200%2075.811-10.194%20105.635-28.928l335.683%20143.032c4.27%2079.176%2065.602%20137.923%20146.509%20137.923%2084.372%200%20146.554-62.992%20146.554-146.437s-63.058-147.313-146.529-147.313h-0.02z'%20p-id='6744'%20fill='%238e97e6'%3e%3c/path%3e%3c/svg%3e\";\nconst _hoisted_1$8 = { class: \"left-panel\" };\nconst _hoisted_2$7 = { class: \"tab-selector\" };\nconst _hoisted_3$6 = { class: \"my-tags-list\" };\nconst _hoisted_4$6 = [\"onClick\"];\nconst _hoisted_5$6 = { class: \"tag-name\" };\nconst _hoisted_6$6 = {\n  key: 0,\n  class: \"public-badge\"\n};\nconst _hoisted_7$5 = [\"onClick\"];\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  __name: \"ComTagList\",\n  props: {\n    activeTabType: {},\n    tagValue: {},\n    tagOptionsList: {},\n    fromSelf: { type: Boolean, default: false }\n  },\n  emits: [\"update:activeTabType\", \"clearTagFilter\", \"toggleTagFilter\", \"shareTag\", \"changeShare\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit = __emit;\n    const handleChangeShare = (type) => {\n      if (props.activeTabType === type) return;\n      emit(\"update:activeTabType\", type);\n      emit(\"changeShare\", type);\n    };\n    const clearTagFilter = () => {\n      emit(\"clearTagFilter\");\n    };\n    const toggleTagFilter = (value) => {\n      emit(\"toggleTagFilter\", value);\n    };\n    const shareTag = (tag) => {\n      emit(\"shareTag\", tag);\n    };\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$8, [\n        createElementVNode(\"div\", _hoisted_2$7, [\n          createElementVNode(\"div\", {\n            class: normalizeClass([\"tab-option\", { active: _ctx.activeTabType === \"share\" }]),\n            onClick: _cache[0] || (_cache[0] = ($event) => handleChangeShare(\"share\"))\n          }, \" 共享 \", 2),\n          createElementVNode(\"div\", {\n            class: normalizeClass([\"tab-option\", { active: _ctx.activeTabType === \"person\" }]),\n            onClick: _cache[1] || (_cache[1] = ($event) => handleChangeShare(\"person\"))\n          }, \" 个人 \", 2)\n        ]),\n        _cache[4] || (_cache[4] = createElementVNode(\"div\", { class: \"my-tags-header\" }, [\n          createElementVNode(\"h3\", null, \"标签筛选\")\n        ], -1)),\n        createElementVNode(\"div\", _hoisted_3$6, [\n          createElementVNode(\"div\", {\n            class: normalizeClass([\"tag-item all-tag\", { active: _ctx.tagValue.length === 0 }]),\n            onClick: clearTagFilter\n          }, [\n            createElementVNode(\"span\", {\n              class: normalizeClass([\"tag-icon\", {\n                \"shared-tag-icon\": _ctx.activeTabType === \"share\",\n                \"personal-tag-icon\": _ctx.activeTabType === \"person\"\n              }])\n            }, null, 2),\n            _cache[2] || (_cache[2] = createElementVNode(\"span\", { class: \"tag-name\" }, \"全部\", -1))\n          ], 2),\n          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.tagOptionsList, (item, index) => {\n            return openBlock(), createElementBlock(\"div\", {\n              key: index,\n              class: normalizeClass([\"tag-item\", {\n                active: _ctx.tagValue.includes(item.value),\n                \"public-tag\": item.is_public\n              }]),\n              onClick: ($event) => toggleTagFilter(item.value)\n            }, [\n              createElementVNode(\"span\", {\n                class: normalizeClass([\"tag-icon\", {\n                  \"shared-tag-icon\": item.is_public || _ctx.activeTabType === \"share\",\n                  \"personal-tag-icon\": !item.is_public && _ctx.activeTabType === \"person\"\n                }])\n              }, null, 2),\n              createElementVNode(\"span\", _hoisted_5$6, toDisplayString(item.label), 1),\n              item.is_public && _ctx.activeTabType !== \"share\" ? (openBlock(), createElementBlock(\"span\", _hoisted_6$6, \"已共享\")) : createCommentVNode(\"\", true),\n              !item.is_public && _ctx.fromSelf && _ctx.activeTabType === \"person\" ? (openBlock(), createElementBlock(\"span\", {\n                key: 1,\n                class: \"share-tag-button\",\n                onClick: withModifiers(($event) => shareTag(item), [\"stop\"]),\n                title: \"共享此标签\"\n              }, _cache[3] || (_cache[3] = [\n                createElementVNode(\"img\", {\n                  src: _imports_0,\n                  alt: \"共享\",\n                  class: \"share-icon\"\n                }, null, -1)\n              ]), 8, _hoisted_7$5)) : createCommentVNode(\"\", true)\n            ], 10, _hoisted_4$6);\n          }), 128))\n        ])\n      ]);\n    };\n  }\n});\nconst ComTagList = /* @__PURE__ */ _export_sfc(_sfc_main$9, [[\"__scopeId\", \"data-v-dbe3a7ee\"]]);\nconst _hoisted_1$7 = { class: \"music-library\" };\nconst _hoisted_2$6 = { class: \"music-table table-scrollbar\" };\nconst _hoisted_3$5 = { class: \"table-body-container\" };\nconst _hoisted_4$5 = { class: \"table-content\" };\nconst _hoisted_5$5 = { class: \"table-body\" };\nconst _hoisted_6$5 = [\"onClick\"];\nconst _hoisted_7$4 = { class: \"td td-select\" };\nconst _hoisted_8$4 = {\n  key: 0,\n  class: \"check-mark\"\n};\nconst _hoisted_9$4 = [\"title\"];\nconst _hoisted_10$4 = { class: \"td td-player\" };\nconst _hoisted_11$3 = [\"src\"];\nconst _hoisted_12$3 = { class: \"td td-tags\" };\nconst _hoisted_13$3 = { class: \"td td-time\" };\nconst _hoisted_14$2 = { class: \"td td-duration\" };\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  __name: \"MusicLibrary\",\n  props: {\n    propList: { default: () => [] },\n    maxChecked: { default: void 0 },\n    fromSelf: { type: Boolean, default: false },\n    checkedData: { default: () => [] }\n  },\n  emits: [\"transferCheckedList\", \"loadMore\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n    const props = __props;\n    const musicList = computed(() => props.propList);\n    const baseUrl = BASE_URL;\n    const checkedNames = ref([]);\n    const emits = __emit;\n    onMounted(() => {\n      checkedNames.value = [...props.checkedData];\n      const scrollContainer = document.querySelector(\".table-body-container\");\n      if (scrollContainer) {\n        scrollContainer.addEventListener(\"scroll\", debouncedHandleScroll);\n      }\n    });\n    watch(\n      () => props.checkedData,\n      (newVal) => {\n        if (!Array.isArray(newVal)) {\n          checkedNames.value = [];\n          return;\n        }\n        console.log(newVal, \"新的\");\n        checkedNames.value = [...newVal];\n      },\n      { immediate: true }\n    );\n    const handlePlay = (event) => {\n      event.stopPropagation();\n      const currentAudio = event.target;\n      const allAudios = document.querySelectorAll(\"audio\");\n      allAudios.forEach((audio) => {\n        if (audio !== currentAudio) {\n          audio.pause();\n        }\n      });\n    };\n    const toggleSelection = (item) => {\n      let newCheckedNames = [...checkedNames.value];\n      let newCheckedList = [];\n      const index = newCheckedNames.indexOf(item.id);\n      if (props.maxChecked === 1) {\n        if (index > -1) {\n          newCheckedNames = [];\n        } else {\n          newCheckedNames = [item.id];\n        }\n      } else {\n        if (index > -1) {\n          newCheckedNames.splice(index, 1);\n        } else {\n          if (props.maxChecked && newCheckedNames.length >= props.maxChecked) {\n            ElMessage.warning(`最多只能选择${props.maxChecked}项`);\n            return;\n          }\n          newCheckedNames.push(item.id);\n        }\n      }\n      newCheckedList = newCheckedNames.map((id) => {\n        const item2 = props.propList.find((i) => i.id === id);\n        return item2 ? JSON.parse(JSON.stringify(item2)) : null;\n      }).filter(Boolean);\n      checkedNames.value = newCheckedNames;\n      emits(\"transferCheckedList\", newCheckedList, \"music\");\n    };\n    const isMaxSelected = computed(() => {\n      return props.maxChecked && checkedNames.value.length >= props.maxChecked;\n    });\n    const checkSelectable = (row) => {\n      if (props.fromSelf) {\n        return false;\n      }\n      if (props.maxChecked === 1) {\n        return false;\n      }\n      if (isMaxSelected.value && !checkedNames.value.includes(row.id)) {\n        return true;\n      }\n      return false;\n    };\n    onBeforeUnmount(() => {\n      const scrollContainer = document.querySelector(\".table-body-container\");\n      if (scrollContainer) {\n        scrollContainer.removeEventListener(\n          \"scroll\",\n          debouncedHandleScroll\n        );\n      }\n    });\n    const debouncedHandleScroll = debounce((event) => {\n      const el = event.target;\n      const { scrollTop, scrollHeight, clientHeight } = el;\n      if (scrollHeight - scrollTop <= clientHeight + 10) {\n        emits(\"loadMore\");\n      }\n    }, 200);\n    const isChecked = (item) => {\n      return checkedNames.value.includes(item.id);\n    };\n    const sortedMusicList = computed(() => {\n      if (!musicList.value || !Array.isArray(musicList.value)) {\n        return [];\n      }\n      if (props.fromSelf) {\n        return musicList.value;\n      }\n      return [...musicList.value].sort((a, b) => {\n        const aChecked = isChecked(a);\n        const bChecked = isChecked(b);\n        if (aChecked && !bChecked) return -1;\n        if (!aChecked && bChecked) return 1;\n        return 0;\n      });\n    });\n    const clearMaterialDialogChecked = (type) => {\n      if (type === \"music\") {\n        checkedNames.value = [];\n        emits(\"transferCheckedList\", checkedNames.value, \"music\");\n      }\n    };\n    __expose({\n      // init,\n      // handleMore,\n      // resetSelection,\n      clearMaterialDialogChecked\n    });\n    return (_ctx, _cache) => {\n      const _component_el_tag = ElTag;\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$7, [\n        createElementVNode(\"div\", _hoisted_2$6, [\n          createElementVNode(\"div\", _hoisted_3$5, [\n            createElementVNode(\"div\", _hoisted_4$5, [\n              _cache[2] || (_cache[2] = createStaticVNode('<div class=\"table-header\" data-v-d708b8b0><div class=\"th th-name\" data-v-d708b8b0>名称</div><div class=\"th th-player\" data-v-d708b8b0>播放器</div><div class=\"th th-tags\" data-v-d708b8b0>标签</div><div class=\"th th-time\" data-v-d708b8b0>创建时间</div><div class=\"th th-duration\" data-v-d708b8b0>时长</div></div>', 1)),\n              createElementVNode(\"div\", _hoisted_5$5, [\n                (openBlock(true), createElementBlock(Fragment, null, renderList(sortedMusicList.value, (item, index) => {\n                  var _a;\n                  return openBlock(), createElementBlock(\"div\", {\n                    key: index,\n                    class: normalizeClass([\"table-row\", { selected: isChecked(item) }]),\n                    onClick: ($event) => toggleSelection(item)\n                  }, [\n                    createElementVNode(\"div\", _hoisted_7$4, [\n                      createElementVNode(\"div\", {\n                        class: normalizeClass([\"checkbox-indicator\", {\n                          checked: isChecked(item),\n                          \"cant-check\": checkSelectable(item)\n                        }])\n                      }, [\n                        isChecked(item) ? (openBlock(), createElementBlock(\"span\", _hoisted_8$4, \"✓\")) : createCommentVNode(\"\", true)\n                      ], 2)\n                    ]),\n                    createElementVNode(\"div\", {\n                      class: \"td td-name\",\n                      title: item.name\n                    }, toDisplayString(item.name), 9, _hoisted_9$4),\n                    createElementVNode(\"div\", _hoisted_10$4, [\n                      (openBlock(), createElementBlock(\"audio\", {\n                        key: item.id + \"_\" + item.file_url,\n                        controls: \"\",\n                        preload: \"metadata\",\n                        onPlay: handlePlay,\n                        class: \"compact-audio\",\n                        onClick: _cache[0] || (_cache[0] = withModifiers(() => {\n                        }, [\"stop\"]))\n                      }, [\n                        createElementVNode(\"source\", {\n                          src: unref(baseUrl) + item.file_url\n                        }, null, 8, _hoisted_11$3)\n                      ], 32))\n                    ]),\n                    createElementVNode(\"div\", _hoisted_12$3, [\n                      (openBlock(true), createElementBlock(Fragment, null, renderList(item.tags, (tag, tagIndex) => {\n                        return openBlock(), createBlock(_component_el_tag, {\n                          key: tagIndex,\n                          type: \"info\",\n                          class: \"tag-item\",\n                          style: normalizeStyle({\n                            backgroundColor: tag.is_public ? \"#eaebfb\" : \"\",\n                            color: tag.is_public ? \"#8087ff\" : \"\"\n                          }),\n                          onClick: _cache[1] || (_cache[1] = withModifiers(() => {\n                          }, [\"stop\"]))\n                        }, {\n                          default: withCtx(() => [\n                            createTextVNode(toDisplayString(tag.name), 1)\n                          ]),\n                          _: 2\n                        }, 1032, [\"style\"]);\n                      }), 128))\n                    ]),\n                    createElementVNode(\"div\", _hoisted_13$3, toDisplayString(unref(dayjs)(item.create_time).format(\"YYYY-MM-DD\")), 1),\n                    createElementVNode(\"div\", _hoisted_14$2, toDisplayString(item.duration ? `${(_a = parseFloat(item.duration)) == null ? void 0 : _a.toFixed(1)}s` : \"暂无\"), 1)\n                  ], 10, _hoisted_6$5);\n                }), 128))\n              ])\n            ])\n          ])\n        ])\n      ]);\n    };\n  }\n});\nconst musicLibrary = /* @__PURE__ */ _export_sfc(_sfc_main$8, [[\"__scopeId\", \"data-v-d708b8b0\"]]);\nconst _hoisted_1$6 = {\n  class: \"resizeArea\",\n  ref: \"resizeAreaDom\"\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  __name: \"ResizeArea\",\n  props: {\n    left: {\n      type: Number,\n      default: 0\n    },\n    right: {\n      type: Number,\n      default: 1\n    },\n    top: {\n      type: Number,\n      default: 0\n    },\n    bottom: {\n      type: Number,\n      default: 1\n    },\n    resizable: {\n      type: Boolean,\n      default: false\n      // 默认不允许 Resize\n    }\n  },\n  emits: [\"resize\", \"stopResize\"],\n  setup(__props, { emit: __emit }) {\n    const resizeArea2 = useTemplateRef(\"resizeAreaDom\");\n    const emit = __emit;\n    const props = __props;\n    let isResizing = false;\n    let resizeDirection = \"\";\n    let startX = 0;\n    let startY = 0;\n    let startWidth = 0;\n    let startHeight = 0;\n    let startLeft = 0;\n    let startTop = 0;\n    const initResizeArea = () => {\n      if (resizeArea2.value && resizeArea2.value.parentElement) {\n        const mainPreviewRect = resizeArea2.value.parentElement.getBoundingClientRect();\n        const width = mainPreviewRect.width * (props.right - props.left);\n        const height = mainPreviewRect.height * (props.bottom - props.top);\n        const left = mainPreviewRect.width * props.left;\n        const top = mainPreviewRect.height * props.top;\n        resizeArea2.value.style.width = `${width}px`;\n        resizeArea2.value.style.height = `${height}px`;\n        resizeArea2.value.style.left = `${left}px`;\n        resizeArea2.value.style.top = `${top}px`;\n      }\n    };\n    watch(\n      () => [props.left, props.right, props.top, props.bottom],\n      () => {\n        nextTick(() => {\n          initResizeArea();\n        });\n      },\n      {\n        immediate: true\n      }\n    );\n    const startResize = (event, direction) => {\n      if (!props.resizable || !resizeArea2.value) return;\n      isResizing = true;\n      resizeDirection = direction;\n      startX = event.clientX;\n      startY = event.clientY;\n      startWidth = resizeArea2.value.offsetWidth;\n      startHeight = resizeArea2.value.offsetHeight;\n      startLeft = resizeArea2.value.offsetLeft;\n      startTop = resizeArea2.value.offsetTop;\n      document.addEventListener(\"mousemove\", handleResize);\n      document.addEventListener(\"mouseup\", stopResize);\n    };\n    const handleResize = (event) => {\n      if (!isResizing || !resizeArea2.value || !resizeArea2.value.parentElement) return;\n      const deltaX = event.clientX - startX;\n      const deltaY = event.clientY - startY;\n      const mainPreviewRect = resizeArea2.value.parentElement.getBoundingClientRect();\n      const minWidth = 50;\n      const minHeight = 50;\n      let newWidth = startWidth;\n      let newHeight = startHeight;\n      let newLeft = startLeft;\n      let newTop = startTop;\n      if (resizeDirection === \"top-left\") {\n        newWidth = startWidth - deltaX;\n        newHeight = startHeight - deltaY;\n        newLeft = startLeft + deltaX;\n        newTop = startTop + deltaY;\n        if (newLeft < 0) {\n          newLeft = 0;\n          newWidth = startWidth + startLeft;\n        }\n        if (newTop < 0) {\n          newTop = 0;\n          newHeight = startHeight + startTop;\n        }\n        if (newWidth < minWidth) {\n          newWidth = minWidth;\n          newLeft = startLeft + startWidth - minWidth;\n        }\n        if (newHeight < minHeight) {\n          newHeight = minHeight;\n          newTop = startTop + startHeight - minHeight;\n        }\n      } else if (resizeDirection === \"top-right\") {\n        newWidth = startWidth + deltaX;\n        newHeight = startHeight - deltaY;\n        newTop = startTop + deltaY;\n        if (newTop < 0) {\n          newTop = 0;\n          newHeight = startHeight + startTop;\n        }\n        if (newWidth < minWidth) {\n          newWidth = minWidth;\n        }\n        if (newHeight < minHeight) {\n          newHeight = minHeight;\n          newTop = startTop + startHeight - minHeight;\n        }\n        if (newLeft + newWidth > mainPreviewRect.width) {\n          newWidth = mainPreviewRect.width - newLeft;\n        }\n      } else if (resizeDirection === \"bottom-left\") {\n        newWidth = startWidth - deltaX;\n        newHeight = startHeight + deltaY;\n        newLeft = startLeft + deltaX;\n        if (newLeft < 0) {\n          newLeft = 0;\n          newWidth = startWidth + startLeft;\n        }\n        if (newWidth < minWidth) {\n          newWidth = minWidth;\n          newLeft = startLeft + startWidth - minWidth;\n        }\n        if (newHeight < minHeight) {\n          newHeight = minHeight;\n        }\n        if (newTop + newHeight > mainPreviewRect.height) {\n          newHeight = mainPreviewRect.height - newTop;\n        }\n      } else if (resizeDirection === \"bottom-right\") {\n        newWidth = startWidth + deltaX;\n        newHeight = startHeight + deltaY;\n        if (newWidth < minWidth) {\n          newWidth = minWidth;\n        }\n        if (newHeight < minHeight) {\n          newHeight = minHeight;\n        }\n        if (newLeft + newWidth > mainPreviewRect.width) {\n          newWidth = mainPreviewRect.width - newLeft;\n        }\n        if (newTop + newHeight > mainPreviewRect.height) {\n          newHeight = mainPreviewRect.height - newTop;\n        }\n      }\n      resizeArea2.value.style.width = `${newWidth}px`;\n      resizeArea2.value.style.height = `${newHeight}px`;\n      resizeArea2.value.style.left = `${newLeft}px`;\n      resizeArea2.value.style.top = `${newTop}px`;\n      const leftPercent = (newLeft / mainPreviewRect.width).toFixed(3);\n      const rightPercent = ((newLeft + newWidth) / mainPreviewRect.width).toFixed(3);\n      const topPercent = (newTop / mainPreviewRect.height).toFixed(3);\n      const bottomPercent = ((newTop + newHeight) / mainPreviewRect.height).toFixed(3);\n      emit(\"resize\", {\n        left: leftPercent,\n        right: rightPercent,\n        top: topPercent,\n        bottom: bottomPercent\n      });\n    };\n    const stopResize = () => {\n      isResizing = false;\n      emit(\"stopResize\");\n      document.removeEventListener(\"mousemove\", handleResize);\n      document.removeEventListener(\"mouseup\", stopResize);\n    };\n    const handleWindowResize = () => {\n      initResizeArea();\n    };\n    onMounted(() => {\n      window.addEventListener(\"resize\", handleWindowResize);\n    });\n    onUnmounted(() => {\n      document.removeEventListener(\"mousemove\", handleResize);\n      document.removeEventListener(\"mouseup\", stopResize);\n      window.removeEventListener(\"resize\", handleWindowResize);\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$6, [\n        renderSlot(_ctx.$slots, \"default\", {}, void 0, true),\n        createElementVNode(\"div\", {\n          class: normalizeClass([\"resize-handle top-left\", { hidden: !__props.resizable }]),\n          onMousedown: _cache[0] || (_cache[0] = ($event) => startResize($event, \"top-left\"))\n        }, null, 34),\n        createElementVNode(\"div\", {\n          class: normalizeClass([\"resize-handle top-right\", { hidden: !__props.resizable }]),\n          onMousedown: _cache[1] || (_cache[1] = ($event) => startResize($event, \"top-right\"))\n        }, null, 34),\n        createElementVNode(\"div\", {\n          class: normalizeClass([\"resize-handle bottom-left\", { hidden: !__props.resizable }]),\n          onMousedown: _cache[2] || (_cache[2] = ($event) => startResize($event, \"bottom-left\"))\n        }, null, 34),\n        createElementVNode(\"div\", {\n          class: normalizeClass([\"resize-handle bottom-right\", { hidden: !__props.resizable }]),\n          onMousedown: _cache[3] || (_cache[3] = ($event) => startResize($event, \"bottom-right\"))\n        }, null, 34)\n      ], 512);\n    };\n  }\n});\nconst resizeArea = /* @__PURE__ */ _export_sfc(_sfc_main$7, [[\"__scopeId\", \"data-v-0aec4903\"]]);\nconst _sfc_main$6 = /* @__PURE__ */ defineComponent({\n  __name: \"InnerArea\",\n  props: {\n    left: {\n      type: Number,\n      default: 0.05\n    },\n    right: {\n      type: Number,\n      default: 0.95\n    },\n    top: {\n      type: Number,\n      default: 0.05\n    },\n    bottom: {\n      type: Number,\n      default: 0.95\n    },\n    needMask: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(__props) {\n    const innerArea2 = useTemplateRef(\"innerAreaDom\");\n    const props = __props;\n    onMounted(() => {\n      nextTick(() => {\n        initResizeArea();\n      });\n    });\n    const initResizeArea = () => {\n      if (innerArea2.value && innerArea2.value.parentElement) {\n        const mainPreviewRect = innerArea2.value.parentElement.getBoundingClientRect();\n        const width = mainPreviewRect.width * (props.right - props.left);\n        const height = mainPreviewRect.height * (props.bottom - props.top);\n        const left = mainPreviewRect.width * props.left;\n        const top = mainPreviewRect.height * props.top;\n        innerArea2.value.style.width = `${width}px`;\n        innerArea2.value.style.height = `${height}px`;\n        innerArea2.value.style.left = `${left}px`;\n        innerArea2.value.style.top = `${top}px`;\n      }\n    };\n    watch(\n      () => [props.left, props.right, props.top, props.bottom],\n      () => {\n        initResizeArea();\n      }\n    );\n    const handleWindowResize = () => {\n      initResizeArea();\n    };\n    onMounted(() => {\n      window.addEventListener(\"resize\", handleWindowResize);\n    });\n    onUnmounted(() => {\n      window.removeEventListener(\"resize\", handleWindowResize);\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\"innerArea\", { needMask: __props.needMask }]),\n        ref: \"innerAreaDom\"\n      }, [\n        renderSlot(_ctx.$slots, \"default\", {}, void 0, true)\n      ], 2);\n    };\n  }\n});\nconst innerArea = /* @__PURE__ */ _export_sfc(_sfc_main$6, [[\"__scopeId\", \"data-v-7425f5b5\"]]);\nconst _hoisted_1$5 = { class: \"wrapper\" };\nconst _hoisted_2$5 = { class: \"config-section\" };\nconst _hoisted_3$4 = { class: \"tab-selector\" };\nconst _hoisted_4$4 = { class: \"my-tags-list\" };\nconst _hoisted_5$4 = { class: \"tag-content\" };\nconst _hoisted_6$4 = {\n  key: 0,\n  class: \"public-badge\"\n};\nconst _hoisted_7$3 = { class: \"color-option\" };\nconst _hoisted_8$3 = { class: \"preview-section\" };\nconst _hoisted_9$3 = { class: \"preview-container\" };\nconst _hoisted_10$3 = { class: \"preview-image\" };\nconst _sfc_main$5 = /* @__PURE__ */ defineComponent({\n  __name: \"BackgroundEditContent\",\n  props: {\n    backgroundInfo: {}\n  },\n  emits: [\"transferBackgroundInfo\"],\n  setup(__props, { emit: __emit }) {\n    const loading = ref(false);\n    const baseUrl = BASE_URL;\n    const props = __props;\n    const emits = __emit;\n    const form = reactive({\n      tag_ids: [],\n      text_fill: \"white\"\n    });\n    const activeTabType = ref(\"share\");\n    const formRef = ref();\n    const tagOptionsList = ref([]);\n    const formRules = {\n      tag_ids: [{ required: true, message: \"请选择标签\", trigger: \"change\" }]\n    };\n    const border = reactive({\n      top: 0,\n      bottom: 1,\n      left: 0,\n      right: 1\n    });\n    const maskAreaPosition = reactive({\n      top: 0,\n      bottom: 1,\n      left: 0,\n      right: 1\n    });\n    const handleChangeShare = async (val) => {\n      activeTabType.value = val;\n      await getTagList();\n    };\n    const getTagList = async () => {\n      try {\n        const currentPublicTags = new Set(\n          tagOptionsList.value.filter((tag) => tag.is_public).map((tag) => tag.value)\n        );\n        const params = {\n          category: \"背景图片\",\n          // 使用当前参数中的category，这样可以跟随库类型变化\n          ...activeTabType.value === \"share\" ? { is_public: true } : {}\n        };\n        const list = await treeTagsList(params, true);\n        const newTagsList = list.map((tag) => {\n          if (currentPublicTags.has(tag.value)) {\n            return { ...tag, is_public: true };\n          }\n          return tag;\n        });\n        if (activeTabType.value === \"share\") {\n          newTagsList.forEach((tag) => {\n            tag.tagType = \"shared\";\n          });\n        } else if (activeTabType.value === \"personal\") {\n          newTagsList.forEach((tag) => {\n            tag.tagType = \"personal\";\n          });\n        }\n        tagOptionsList.value = newTagsList;\n      } catch (error) {\n        ElMessage.error(\"获取标签列表失败\");\n      }\n    };\n    const initColor = () => {\n      form.text_fill = transferColor();\n      loading.value = false;\n    };\n    onMounted(async () => {\n      var _a, _b, _c, _d;\n      loading.value = true;\n      initColor();\n      const obj = {\n        left: ((_a = props.backgroundInfo.border) == null ? void 0 : _a.left) || 0,\n        right: ((_b = props.backgroundInfo.border) == null ? void 0 : _b.right) || 0,\n        top: ((_c = props.backgroundInfo.border) == null ? void 0 : _c.top) || 0,\n        bottom: ((_d = props.backgroundInfo.border) == null ? void 0 : _d.bottom) || 0\n      };\n      handleResize(obj);\n    });\n    const computedTextColor = computed(() => {\n      return {\n        color: form.text_fill\n      };\n    });\n    const handleResize = (percentages) => {\n      Object.assign(border, percentages);\n      const borderHeight = percentages.bottom - percentages.top;\n      const borderWidth = percentages.right - percentages.left;\n      const left = Math.max(percentages.left - 0.05 * borderWidth, 0);\n      const right = Math.min(\n        parseFloat(String(percentages.right)) + 0.05 * borderWidth,\n        1\n      );\n      const top = Math.max(\n        parseFloat(String(percentages.top)) - 0.05 * borderHeight,\n        0\n      );\n      const bottom = Math.min(\n        parseFloat(String(percentages.bottom)) + 0.05 * borderHeight,\n        1\n      );\n      const obj = {\n        left,\n        right,\n        top,\n        bottom\n      };\n      Object.assign(maskAreaPosition, obj);\n    };\n    const COLORS = {\n      WHITE: [255, 255, 255, 1],\n      BLACK: [0, 0, 0, 1],\n      YELLOW: [255, 255, 0, 1]\n    };\n    const transferRgbaColor = () => {\n      switch (form.text_fill) {\n        case \"white\":\n          return COLORS.WHITE;\n        case \"black\":\n          return COLORS.BLACK;\n        case \"yellow\":\n          return COLORS.YELLOW;\n        default:\n          return COLORS.BLACK;\n      }\n    };\n    const transferColor = () => {\n      if (props.backgroundInfo.text_fill) {\n        const textFill = JSON.parse(\n          JSON.stringify(props.backgroundInfo.text_fill)\n        );\n        if (JSON.stringify(textFill) === JSON.stringify(COLORS.WHITE))\n          return \"white\";\n        if (JSON.stringify(textFill) === JSON.stringify(COLORS.BLACK))\n          return \"black\";\n        if (JSON.stringify(textFill) === JSON.stringify(COLORS.YELLOW))\n          return \"yellow\";\n        return \"black\";\n      }\n      return \"black\";\n    };\n    watch(\n      () => props.backgroundInfo,\n      async (newVal) => {\n        tagOptionsList.value = await treeTagsList({\n          category: \"背景图片\",\n          is_public: newVal.is_public\n        });\n        let fetchedTags = [];\n        if (newVal.tags && newVal.tags.length > 0) {\n          fetchedTags = newVal.tags.map((item) => `${item.id}`);\n        }\n        form.tag_ids = fetchedTags;\n      },\n      { deep: true, immediate: true }\n    );\n    watch(\n      [() => form, () => border],\n      (newVal) => {\n        const editInfo = {\n          border: {\n            left: border.left ?? 0.1,\n            top: border.top ?? 0.1,\n            right: border.right ?? 0.9,\n            bottom: border.bottom ?? 0.9\n            // radius: null,\n            // fill: [255, 255, 255, 0.7]\n          },\n          tag_ids: form.tag_ids,\n          text_fill: transferRgbaColor(),\n          id: props.backgroundInfo.id,\n          need_mask: props.backgroundInfo.need_mask || false\n        };\n        emits(\"transferBackgroundInfo\", editInfo, formRef.value);\n      },\n      {\n        deep: true\n      }\n    );\n    return (_ctx, _cache) => {\n      const _component_el_checkbox = ElCheckbox;\n      const _component_el_checkbox_group = ElCheckboxGroup;\n      const _component_el_form_item = ElFormItem;\n      const _component_el_form = ElForm;\n      const _component_el_image = ElImage;\n      const _directive_loading = vLoading;\n      return openBlock(), createBlock(_component_el_form, {\n        model: form,\n        \"label-width\": \"auto\",\n        class: \"edit-form\"\n      }, {\n        default: withCtx(() => {\n          var _a, _b, _c, _d;\n          return [\n            withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_1$5, [\n              createElementVNode(\"div\", _hoisted_2$5, [\n                createVNode(_component_el_form, {\n                  ref_key: \"formRef\",\n                  ref: formRef,\n                  model: form,\n                  rules: formRules,\n                  \"label-width\": \"100px\"\n                }, {\n                  default: withCtx(() => [\n                    createVNode(_component_el_form_item, {\n                      label: \"图片标签\",\n                      \"label-position\": \"top\",\n                      prop: \"tag_ids\"\n                    }, {\n                      default: withCtx(() => [\n                        createElementVNode(\"div\", null, [\n                          createElementVNode(\"div\", _hoisted_3$4, [\n                            createElementVNode(\"div\", {\n                              class: normalizeClass([\"tab-option\", {\n                                active: activeTabType.value === \"share\"\n                              }]),\n                              onClick: _cache[0] || (_cache[0] = ($event) => handleChangeShare(\"share\"))\n                            }, \" 共享 \", 2),\n                            createElementVNode(\"div\", {\n                              class: normalizeClass([\"tab-option\", {\n                                active: activeTabType.value === \"person\"\n                              }]),\n                              onClick: _cache[1] || (_cache[1] = ($event) => handleChangeShare(\"person\"))\n                            }, \" 个人 \", 2)\n                          ]),\n                          createElementVNode(\"div\", _hoisted_4$4, [\n                            createVNode(_component_el_checkbox_group, {\n                              modelValue: form.tag_ids,\n                              \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => form.tag_ids = $event),\n                              class: \"custom-tags-group\"\n                            }, {\n                              default: withCtx(() => [\n                                (openBlock(true), createElementBlock(Fragment, null, renderList(tagOptionsList.value, (item) => {\n                                  return openBlock(), createBlock(_component_el_checkbox, {\n                                    key: item.value,\n                                    value: item.value,\n                                    class: \"tag-checkbox tag-checkbox-personal\"\n                                  }, {\n                                    default: withCtx(() => [\n                                      createElementVNode(\"span\", {\n                                        class: \"tag-label\",\n                                        ref_for: true,\n                                        ref: \"tagLabel\"\n                                      }, [\n                                        createElementVNode(\"div\", _hoisted_5$4, [\n                                          createElementVNode(\"span\", {\n                                            class: normalizeClass([\n                                              \"tag-icon\",\n                                              item.tagType === \"shared\" || item.is_public ? \"shared-tag-icon\" : \"personal-tag-icon\"\n                                            ])\n                                          }, null, 2),\n                                          createTextVNode(\" \" + toDisplayString(item.label), 1)\n                                        ]),\n                                        activeTabType.value === \"person\" && item.is_public ? (openBlock(), createElementBlock(\"span\", _hoisted_6$4, \"已共享\")) : createCommentVNode(\"\", true)\n                                      ], 512)\n                                    ]),\n                                    _: 2\n                                  }, 1032, [\"value\"]);\n                                }), 128))\n                              ]),\n                              _: 1\n                            }, 8, [\"modelValue\"])\n                          ])\n                        ])\n                      ]),\n                      _: 1\n                    }),\n                    createVNode(_component_el_form_item, {\n                      label: \"文字颜色\",\n                      \"label-position\": \"top\"\n                    }, {\n                      default: withCtx(() => [\n                        createElementVNode(\"div\", _hoisted_7$3, [\n                          createElementVNode(\"span\", {\n                            class: normalizeClass([\"color-label\", {\n                              option_checked: form.text_fill === \"white\"\n                            }]),\n                            onClick: _cache[3] || (_cache[3] = ($event) => form.text_fill = \"white\")\n                          }, _cache[6] || (_cache[6] = [\n                            createElementVNode(\"span\", { class: \"color-icon color-white\" }, null, -1),\n                            createElementVNode(\"span\", null, \"白色\", -1)\n                          ]), 2),\n                          createElementVNode(\"span\", {\n                            class: normalizeClass([\"color-label\", {\n                              option_checked: form.text_fill === \"black\"\n                            }]),\n                            onClick: _cache[4] || (_cache[4] = ($event) => form.text_fill = \"black\")\n                          }, _cache[7] || (_cache[7] = [\n                            createElementVNode(\"span\", { class: \"color-icon color-black\" }, null, -1),\n                            createElementVNode(\"span\", null, \"黑色\", -1)\n                          ]), 2),\n                          createElementVNode(\"span\", {\n                            class: normalizeClass([\"color-label\", {\n                              option_checked: form.text_fill === \"yellow\"\n                            }]),\n                            onClick: _cache[5] || (_cache[5] = ($event) => form.text_fill = \"yellow\")\n                          }, _cache[8] || (_cache[8] = [\n                            createElementVNode(\"span\", { class: \"color-icon color-yellow\" }, null, -1),\n                            createElementVNode(\"span\", null, \"黄色\", -1)\n                          ]), 2)\n                        ])\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"model\"])\n              ]),\n              createElementVNode(\"div\", _hoisted_8$3, [\n                _cache[9] || (_cache[9] = createElementVNode(\"div\", { class: \"preview-title\" }, \"文本框编辑区\", -1)),\n                createElementVNode(\"div\", _hoisted_9$3, [\n                  createVNode(_component_el_image, {\n                    src: unref(baseUrl) + _ctx.backgroundInfo.file_url,\n                    fit: \"fill\"\n                  }, null, 8, [\"src\"]),\n                  createVNode(resizeArea, {\n                    resizable: !_ctx.backgroundInfo.need_mask,\n                    left: ((_a = _ctx.backgroundInfo.border) == null ? void 0 : _a.left) ?? 0.1,\n                    right: ((_b = _ctx.backgroundInfo.border) == null ? void 0 : _b.right) ?? 0.9,\n                    top: ((_c = _ctx.backgroundInfo.border) == null ? void 0 : _c.top) ?? 0.1,\n                    bottom: ((_d = _ctx.backgroundInfo.border) == null ? void 0 : _d.bottom) ?? 0.9,\n                    onResize: handleResize\n                  }, {\n                    default: withCtx(() => [\n                      createElementVNode(\"div\", _hoisted_10$3, [\n                        createElementVNode(\"div\", {\n                          class: \"text-edit-area\",\n                          style: normalizeStyle(computedTextColor.value)\n                        }, \" 示例文本 \", 4)\n                      ])\n                    ]),\n                    _: 1\n                  }, 8, [\"resizable\", \"left\", \"right\", \"top\", \"bottom\"]),\n                  _ctx.backgroundInfo.need_mask ? (openBlock(), createBlock(innerArea, {\n                    key: 0,\n                    left: maskAreaPosition.left,\n                    right: maskAreaPosition.right,\n                    top: maskAreaPosition.top,\n                    bottom: maskAreaPosition.bottom,\n                    needMask: \"\"\n                  }, null, 8, [\"left\", \"right\", \"top\", \"bottom\"])) : createCommentVNode(\"\", true)\n                ])\n              ])\n            ])), [\n              [_directive_loading, loading.value]\n            ])\n          ];\n        }),\n        _: 1\n      }, 8, [\"model\"]);\n    };\n  }\n});\nconst BackgroundEditContent = /* @__PURE__ */ _export_sfc(_sfc_main$5, [[\"__scopeId\", \"data-v-7fa00115\"]]);\nconst _hoisted_1$4 = [\"data-tab-type\"];\nconst _hoisted_2$4 = [\"src\"];\nconst _hoisted_3$3 = {\n  key: 0,\n  class: \"check-mark\"\n};\nconst _hoisted_4$3 = { class: \"material-info\" };\nconst _hoisted_5$3 = { class: \"material-title-row\" };\nconst _hoisted_6$3 = { class: \"material-name\" };\nconst _hoisted_7$2 = { class: \"material-tags-row\" };\nconst _hoisted_8$2 = { class: \"tags-container\" };\nconst _hoisted_9$2 = { class: \"tag-text\" };\nconst _hoisted_10$2 = {\n  key: 1,\n  class: \"no-tags\"\n};\nconst _hoisted_11$2 = { class: \"material-info-row\" };\nconst _hoisted_12$2 = {\n  key: 0,\n  class: \"material-size\"\n};\nconst _hoisted_13$2 = {\n  key: 1,\n  class: \"material-duration\"\n};\nconst _hoisted_14$1 = { class: \"dialog-header\" };\nconst _hoisted_15$1 = [\"id\"];\nconst _hoisted_16$1 = { class: \"dialog-footer\" };\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  __name: \"ComMaterialList\",\n  props: {\n    tabType: { default: \"\" },\n    propList: { default: () => [] },\n    propActiveTabType: { default: \"\" },\n    propFrom: { default: \"video\" },\n    maxChecked: { default: 0 },\n    isFromReading: { type: Boolean, default: true },\n    fromSelf: { type: Boolean, default: false },\n    checkedData: { default: () => [] }\n  },\n  emits: [\n    `transferCheckedList`,\n    \"loadMore\",\n    \"editBackgroundGetList\",\n    \"updateBackgroundPreview\",\n    \"refreshList\"\n  ],\n  setup(__props, { expose: __expose, emit: __emit }) {\n    useCssVars((_ctx) => ({\n      \"3fcf1aa5\": _ctx.fromSelf ? \"calc(100vh - 280px)\" : \"calc(100vh - 450px)\",\n      \"7f82bb9e\": _ctx.fromSelf ? \"crosshair\" : \"default\"\n    }));\n    const baseUrl = BASE_URL;\n    const checkboxGroup = ref();\n    const isSelecting = ref(false);\n    const selectionStart = ref({ x: 0, y: 0 });\n    const selectionBox = ref({ left: 0, top: 0, width: 0, height: 0 });\n    const props = __props;\n    const emits = __emit;\n    const checkboxList = computed(() => {\n      if (!props.propList || !Array.isArray(props.propList)) {\n        return [];\n      }\n      return props.propList.map((item) => {\n        const newItem = { ...item };\n        if (props.tabType === \"video\" || props.tabType === \"firstFrames\" || props.tabType === \"lastFrames\" || props.tabType === \"textVideo\" || props.tabType === \"shortPlayLastFrames\") {\n          newItem.showUrl = item.key_frame_url || \"\";\n        } else if (props.tabType === \"background\" || props.tabType === \"stickers\" || props.tabType === \"textImage\" || props.tabType === \"shortPlayStickers\") {\n          newItem.showUrl = item.file_url || \"\";\n        }\n        if (props.tabType === \"background\") {\n          if (!newItem.border || newItem.border.top === null) {\n            newItem.border = {\n              left: 0.1,\n              right: 0.9,\n              top: 0.1,\n              bottom: 0.9\n            };\n          }\n          const borderHeight = newItem.border.bottom - newItem.border.top;\n          const borderWidth = newItem.border.right - newItem.border.left;\n          newItem.innerBorder = {\n            left: Math.max(\n              parseFloat(String(newItem.border.left)) - 0.05 * borderWidth,\n              0\n            ),\n            right: Math.min(\n              parseFloat(String(newItem.border.right)) + 0.05 * borderWidth,\n              1\n            ),\n            top: Math.max(\n              parseFloat(String(newItem.border.top)) - 0.05 * borderHeight,\n              0\n            ),\n            bottom: Math.min(\n              parseFloat(String(newItem.border.bottom)) + 0.05 * borderHeight,\n              1\n            )\n          };\n        }\n        return newItem;\n      });\n    });\n    const checkedNames = ref([]);\n    watch(\n      () => props.checkedData,\n      (newVal) => {\n        if (newVal) {\n          checkedNames.value = [...newVal];\n        }\n      },\n      { immediate: true }\n      // immediate: true 确保组件创建时就执行一次\n    );\n    const backgroundEditVisible = ref(false);\n    const backgroundInfo = ref({});\n    const editBackgroundInfo = ref({});\n    const backgroundEditForm = ref();\n    const editDisabled = ref(false);\n    const maxNum = ref();\n    onMounted(() => {\n      if (!props.fromSelf && (props.tabType == \"shortPlayVideo\" || props.tabType == \"shortPlayLastFrames\")) {\n        maxNum.value = 1;\n        return;\n      }\n      if (!props.fromSelf && props.tabType == \"video\") {\n        if (props.propFrom == \"video\") {\n          maxNum.value = props.maxChecked * 10;\n        } else if (props.propFrom == \"topVideo\") {\n          maxNum.value = 10;\n        }\n      } else if (!props.fromSelf) {\n        maxNum.value = props.maxChecked;\n      }\n    });\n    const sortedCheckboxList = computed(() => {\n      if (!checkboxList.value || !Array.isArray(checkboxList.value)) {\n        return [];\n      }\n      if (props.fromSelf) {\n        return checkboxList.value;\n      }\n      return [...checkboxList.value].sort((a, b) => {\n        const aChecked = checkedNames.value.includes(a.id);\n        const bChecked = checkedNames.value.includes(b.id);\n        if (aChecked && !bChecked) return -1;\n        if (!aChecked && bChecked) return 1;\n        return 0;\n      });\n    });\n    const handleCheckChange = (val) => {\n      const checkedList = checkboxList.value.filter(\n        (item) => val.includes(item.id)\n      );\n      emits(\"transferCheckedList\", checkedList);\n    };\n    const handleScroll = debounce((event) => {\n      const el = event.target;\n      const { scrollTop, scrollHeight, clientHeight } = el;\n      if (scrollHeight - scrollTop <= clientHeight + 10) {\n        emits(\"loadMore\");\n      }\n    }, 200);\n    const editBackground = (item) => {\n      backgroundInfo.value = item;\n      if (props.propActiveTabType === \"person\") {\n        backgroundInfo.value.is_public = false;\n      } else if (props.propActiveTabType === \"share\") {\n        backgroundInfo.value.is_public = true;\n      }\n      backgroundEditVisible.value = true;\n    };\n    const transferBackgroundInfo = (info, formRef) => {\n      editBackgroundInfo.value = info;\n      backgroundEditForm.value = formRef;\n    };\n    const handleConfirm = async () => {\n      var _a;\n      (_a = backgroundEditForm.value) == null ? void 0 : _a.validate(async (valid, fields) => {\n        if (valid) {\n          editDisabled.value = true;\n          const tagOptionsList = await treeTagsList({ category: \"背景图片\" });\n          const tagRes = getIdByName(\n            editBackgroundInfo.value.tag_ids,\n            tagOptionsList\n          );\n          const params = {\n            ...editBackgroundInfo.value,\n            tag_ids: tagRes\n          };\n          try {\n            const res = await editBackgroundRequest(params);\n            if (res.code === 0) {\n              ElMessage.success(\"编辑成功!\");\n              emits(\"updateBackgroundPreview\", res.data);\n              backgroundEditVisible.value = false;\n              emits(\"editBackgroundGetList\", [params.id]);\n            } else {\n              ElMessage.error(res.message);\n              throw new Error(res.message);\n            }\n            editDisabled.value = false;\n          } catch (error) {\n            ElMessage.error(error);\n            editDisabled.value = false;\n          }\n        } else {\n          console.log(\"校验失败\", fields);\n        }\n      });\n    };\n    const handleClose = () => {\n      backgroundEditVisible.value = false;\n      editDisabled.value = false;\n    };\n    const isChecked = (item) => {\n      return checkedNames.value.includes(item.id);\n    };\n    const handleResize = (newBorder) => {\n      backgroundInfo.value.border = newBorder;\n    };\n    const startSelection = (event) => {\n      if (!props.fromSelf) return;\n      const target = event.target;\n      if (target.closest(\".checkbox-indicator\") || target.closest(\".edit-btn\") || target.closest(\".material-item\")) {\n        return;\n      }\n      const container = event.currentTarget;\n      const scrollTop = container.scrollTop;\n      const scrollLeft = container.scrollLeft;\n      const rect = container.getBoundingClientRect();\n      const x = event.clientX - rect.left + scrollLeft;\n      const y = event.clientY - rect.top + scrollTop;\n      selectionStart.value = { x, y };\n      selectionBox.value = { left: x, top: y, width: 0, height: 0 };\n      isSelecting.value = true;\n      if (!event.ctrlKey && !event.metaKey) {\n        checkedNames.value = [];\n        handleCheckChange(checkedNames.value);\n      }\n    };\n    const updateSelection = (event) => {\n      if (!isSelecting.value || !props.fromSelf) return;\n      const container = event.currentTarget;\n      const scrollTop = container.scrollTop;\n      const scrollLeft = container.scrollLeft;\n      const rect = container.getBoundingClientRect();\n      const currentX = event.clientX - rect.left + scrollLeft;\n      const currentY = event.clientY - rect.top + scrollTop;\n      const left = Math.min(selectionStart.value.x, currentX);\n      const top = Math.min(selectionStart.value.y, currentY);\n      const width = Math.abs(currentX - selectionStart.value.x);\n      const height = Math.abs(currentY - selectionStart.value.y);\n      selectionBox.value = { left, top, width, height };\n      if (width > 5 && height > 5) {\n        updateSelectedItems();\n      }\n    };\n    const updateSelectedItems = () => {\n      if (!checkboxGroup.value) return;\n      const container = document.querySelector(\".material-list\");\n      if (!container) return;\n      const scrollTop = container.scrollTop;\n      const scrollLeft = container.scrollLeft;\n      const checkboxes = checkboxGroup.value.querySelectorAll(\".material-item\");\n      const newCheckedNames = [...checkedNames.value];\n      const selectionArea = {\n        left: selectionBox.value.left,\n        top: selectionBox.value.top,\n        right: selectionBox.value.left + selectionBox.value.width,\n        bottom: selectionBox.value.top + selectionBox.value.height\n      };\n      checkboxes.forEach((checkbox, index) => {\n        if (checkbox.classList.contains(\"is-disabled\")) return;\n        const checkboxRect = checkbox.getBoundingClientRect();\n        const containerRect = container.getBoundingClientRect();\n        const relativeRect = {\n          left: checkboxRect.left - containerRect.left + scrollLeft,\n          top: checkboxRect.top - containerRect.top + scrollTop,\n          right: checkboxRect.right - containerRect.left + scrollLeft,\n          bottom: checkboxRect.bottom - containerRect.top + scrollTop\n        };\n        const isIntersecting = relativeRect.right >= selectionArea.left && relativeRect.left <= selectionArea.right && relativeRect.bottom >= selectionArea.top && relativeRect.top <= selectionArea.bottom;\n        if (isIntersecting) {\n          const item = sortedCheckboxList.value[index];\n          if (item && item.id && !newCheckedNames.includes(item.id)) {\n            newCheckedNames.push(item.id);\n          }\n        }\n      });\n      checkedNames.value = newCheckedNames;\n      handleCheckChange(checkedNames.value);\n    };\n    const endSelection = () => {\n      if (!isSelecting.value || !props.fromSelf) return;\n      isSelecting.value = false;\n    };\n    const clearMaterialDialogChecked = () => {\n      checkedNames.value = [];\n    };\n    __expose({\n      // init\n      clearMaterialDialogChecked\n    });\n    return (_ctx, _cache) => {\n      const _component_el_button = ElButton;\n      const _component_el_tag = ElTag;\n      const _component_el_tooltip = ElTooltip;\n      const _component_el_checkbox = ElCheckbox;\n      const _component_el_checkbox_group = ElCheckboxGroup;\n      const _component_el_icon = ElIcon;\n      const _component_el_dialog = ElDialog;\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"div\", {\n          class: \"material-list\",\n          onScroll: _cache[1] || (_cache[1] = //@ts-ignore\n          (...args) => unref(handleScroll) && unref(handleScroll)(...args)),\n          onMousedown: _cache[2] || (_cache[2] = ($event) => _ctx.fromSelf && startSelection($event)),\n          onMousemove: _cache[3] || (_cache[3] = ($event) => _ctx.fromSelf && updateSelection($event)),\n          onMouseup: _cache[4] || (_cache[4] = ($event) => _ctx.fromSelf && endSelection()),\n          onMouseleave: _cache[5] || (_cache[5] = ($event) => _ctx.fromSelf && endSelection())\n        }, [\n          _ctx.fromSelf && isSelecting.value ? (openBlock(), createElementBlock(\"div\", {\n            key: 0,\n            class: \"selection-box\",\n            style: normalizeStyle({\n              left: `${selectionBox.value.left}px`,\n              top: `${selectionBox.value.top}px`,\n              width: `${selectionBox.value.width}px`,\n              height: `${selectionBox.value.height}px`\n            })\n          }, null, 4)) : createCommentVNode(\"\", true),\n          createVNode(_component_el_checkbox_group, {\n            ref_key: \"checkboxGroup\",\n            ref: checkboxGroup,\n            modelValue: checkedNames.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => checkedNames.value = $event),\n            onChange: handleCheckChange,\n            class: \"card-grid\",\n            max: maxNum.value\n          }, {\n            default: withCtx(() => [\n              (openBlock(true), createElementBlock(Fragment, null, renderList(sortedCheckboxList.value, (item, index) => {\n                return openBlock(), createBlock(_component_el_checkbox, {\n                  key: index,\n                  label: item.name,\n                  value: item.id,\n                  class: \"material-item\",\n                  disabled: !_ctx.fromSelf && props.tabType === \"novel\" && (_ctx.isFromReading && !item.file_id || !_ctx.isFromReading && !item.subtitle_id)\n                }, {\n                  default: withCtx(() => {\n                    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n                    return [\n                      createElementVNode(\"div\", {\n                        class: \"material-card\",\n                        \"data-tab-type\": props.tabType\n                      }, [\n                        createElementVNode(\"div\", {\n                          class: normalizeClass([\"material-preview\", { \"has-image\": item.showUrl }])\n                        }, [\n                          createElementVNode(\"img\", {\n                            src: unref(baseUrl) + item.showUrl,\n                            class: \"direct-image\",\n                            alt: \"failed\"\n                          }, null, 8, _hoisted_2$4),\n                          createElementVNode(\"div\", {\n                            class: normalizeClass([\"checkbox-indicator\", { checked: isChecked(item) }])\n                          }, [\n                            isChecked(item) ? (openBlock(), createElementBlock(\"span\", _hoisted_3$3, \"✓\")) : createCommentVNode(\"\", true)\n                          ], 2),\n                          props.tabType === \"background\" ? (openBlock(), createBlock(_component_el_button, {\n                            key: 0,\n                            class: \"edit-btn\",\n                            onClick: withModifiers(($event) => editBackground(item), [\"stop\"])\n                          }, {\n                            default: withCtx(() => _cache[7] || (_cache[7] = [\n                              createTextVNode(\" 编辑 \")\n                            ])),\n                            _: 2,\n                            __: [7]\n                          }, 1032, [\"onClick\"])) : createCommentVNode(\"\", true),\n                          props.tabType === \"background\" ? (openBlock(), createBlock(resizeArea, {\n                            key: 1,\n                            class: \"overlay resize-overlay\",\n                            left: ((_a = item.border) == null ? void 0 : _a.left) ?? 0.1,\n                            right: ((_b = item.border) == null ? void 0 : _b.right) ?? 0.9,\n                            top: ((_c = item.border) == null ? void 0 : _c.top) ?? 0.1,\n                            bottom: ((_d = item.border) == null ? void 0 : _d.bottom) ?? 0.9,\n                            onResize: handleResize\n                          }, {\n                            default: withCtx(() => [\n                              createElementVNode(\"p\", {\n                                class: \"overlay_text\",\n                                style: normalizeStyle({\n                                  color: unref(arrayToRgba)(\n                                    item.text_fill || [0, 0, 0, 1]\n                                  )\n                                })\n                              }, \" 预览文本 \", 4)\n                            ]),\n                            _: 2\n                          }, 1032, [\"left\", \"right\", \"top\", \"bottom\"])) : createCommentVNode(\"\", true),\n                          item.need_mask ? (openBlock(), createBlock(innerArea, {\n                            key: 2,\n                            class: \"overlay inner-overlay\",\n                            left: ((_e = item.innerBorder) == null ? void 0 : _e.left) ?? 0.1,\n                            right: ((_f = item.innerBorder) == null ? void 0 : _f.right) ?? 0.9,\n                            top: ((_g = item.innerBorder) == null ? void 0 : _g.top) ?? 0.1,\n                            bottom: ((_h = item.innerBorder) == null ? void 0 : _h.bottom) ?? 0.9,\n                            needMask: \"\"\n                          }, null, 8, [\"left\", \"right\", \"top\", \"bottom\"])) : createCommentVNode(\"\", true)\n                        ], 2),\n                        createElementVNode(\"div\", _hoisted_4$3, [\n                          createElementVNode(\"div\", _hoisted_5$3, [\n                            createElementVNode(\"div\", _hoisted_6$3, toDisplayString(item.name), 1)\n                          ]),\n                          createElementVNode(\"div\", _hoisted_7$2, [\n                            createVNode(_component_el_tooltip, {\n                              placement: \"top\",\n                              \"show-after\": 500,\n                              \"hide-after\": 0,\n                              effect: \"light\"\n                            }, {\n                              content: withCtx(() => [\n                                createElementVNode(\"div\", null, [\n                                  (openBlock(true), createElementBlock(Fragment, null, renderList(item.tags, (tag, tagIndexs) => {\n                                    return openBlock(), createBlock(_component_el_tag, {\n                                      key: tagIndexs,\n                                      type: \"info\",\n                                      class: \"tag-item\",\n                                      style: normalizeStyle({\n                                        backgroundColor: tag.is_public ? \"#eaebfb\" : \"\",\n                                        color: tag.is_public ? \"#8087ff\" : \"\"\n                                      })\n                                    }, {\n                                      default: withCtx(() => [\n                                        createTextVNode(toDisplayString(tag.name), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1032, [\"style\"]);\n                                  }), 128))\n                                ])\n                              ]),\n                              default: withCtx(() => [\n                                createElementVNode(\"div\", _hoisted_8$2, [\n                                  item.tags && item.tags.length > 0 ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(item.tags, (tag, tagIndex) => {\n                                    return openBlock(), createBlock(_component_el_tag, {\n                                      key: tagIndex,\n                                      type: \"info\",\n                                      class: \"tag-item\",\n                                      style: normalizeStyle({\n                                        backgroundColor: tag.is_public ? \"#eaebfb\" : \"\",\n                                        color: tag.is_public ? \"#8087ff\" : \"\"\n                                      })\n                                    }, {\n                                      default: withCtx(() => [\n                                        createElementVNode(\"span\", _hoisted_9$2, toDisplayString(tag.name), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1032, [\"style\"]);\n                                  }), 128)) : (openBlock(), createElementBlock(\"span\", _hoisted_10$2, \"无标签\"))\n                                ])\n                              ]),\n                              _: 2\n                            }, 1024)\n                          ]),\n                          createElementVNode(\"div\", _hoisted_11$2, [\n                            item.width && item.height ? (openBlock(), createElementBlock(\"div\", _hoisted_12$2, toDisplayString(item.width) + \"×\" + toDisplayString(item.height), 1)) : createCommentVNode(\"\", true),\n                            props.tabType == \"video\" || props.tabType == \"firstFrames\" || props.tabType == \"lastFrames\" ? (openBlock(), createElementBlock(\"div\", _hoisted_13$2, \" 时长: \" + toDisplayString(item.duration ? `${(_i = parseFloat(item.duration)) == null ? void 0 : _i.toFixed(2)}s` : \"暂无\"), 1)) : createCommentVNode(\"\", true)\n                          ])\n                        ])\n                      ], 8, _hoisted_1$4)\n                    ];\n                  }),\n                  _: 2\n                }, 1032, [\"label\", \"value\", \"disabled\"]);\n              }), 128))\n            ]),\n            _: 1\n          }, 8, [\"modelValue\", \"max\"])\n        ], 32),\n        createVNode(_component_el_dialog, {\n          modelValue: backgroundEditVisible.value,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event) => backgroundEditVisible.value = $event),\n          title: \"图片设置\",\n          width: \"700\",\n          \"custom-class\": \"custom-dialog\",\n          class: \"upload-dialog\",\n          \"before-close\": handleClose,\n          \"show-close\": false,\n          \"close-on-click-modal\": false\n        }, {\n          header: withCtx(({ close, titleId, titleClass }) => [\n            createElementVNode(\"div\", _hoisted_14$1, [\n              createElementVNode(\"span\", {\n                id: titleId,\n                class: normalizeClass(titleClass)\n              }, \"图片设置\", 10, _hoisted_15$1),\n              createVNode(_component_el_icon, {\n                class: \"close-icon cursor-pointer\",\n                onClick: handleClose\n              }, {\n                default: withCtx(() => [\n                  createVNode(unref(close_default))\n                ]),\n                _: 1\n              })\n            ])\n          ]),\n          footer: withCtx(() => [\n            createElementVNode(\"div\", _hoisted_16$1, [\n              createVNode(_component_el_button, { onClick: handleClose }, {\n                default: withCtx(() => _cache[8] || (_cache[8] = [\n                  createTextVNode(\"取消\")\n                ])),\n                _: 1,\n                __: [8]\n              }),\n              createVNode(_component_el_button, {\n                type: \"primary\",\n                class: \"btn-primary\",\n                onClick: handleConfirm,\n                disabled: editDisabled.value,\n                loading: editDisabled.value\n              }, {\n                default: withCtx(() => _cache[9] || (_cache[9] = [\n                  createTextVNode(\" 确定 \")\n                ])),\n                _: 1,\n                __: [9]\n              }, 8, [\"disabled\", \"loading\"])\n            ])\n          ]),\n          default: withCtx(() => [\n            createVNode(BackgroundEditContent, {\n              backgroundInfo: backgroundInfo.value,\n              onTransferBackgroundInfo: transferBackgroundInfo\n            }, null, 8, [\"backgroundInfo\"])\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"])\n      ], 64);\n    };\n  }\n});\nconst comMaterialList = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"__scopeId\", \"data-v-ec89b7a4\"]]);\nconst _hoisted_1$3 = { class: \"novel-library\" };\nconst _hoisted_2$3 = { class: \"novel-table\" };\nconst _hoisted_3$2 = { class: \"table-body-container\" };\nconst _hoisted_4$2 = { class: \"table-content\" };\nconst _hoisted_5$2 = { class: \"table-body\" };\nconst _hoisted_6$2 = [\"onClick\"];\nconst _hoisted_7$1 = { class: \"td td-select\" };\nconst _hoisted_8$1 = {\n  key: 0,\n  class: \"check-mark\"\n};\nconst _hoisted_9$1 = [\"onClick\", \"title\"];\nconst _hoisted_10$1 = { class: \"td td-tags\" };\nconst _hoisted_11$1 = { class: \"td td-time\" };\nconst _hoisted_12$1 = { class: \"td td-status\" };\nconst _hoisted_13$1 = { class: \"td td-actions\" };\nconst _sfc_main$3 = /* @__PURE__ */ defineComponent({\n  __name: \"NovelLibrary\",\n  props: {\n    maxChecked: { default: null },\n    fromSelf: { type: Boolean, default: false },\n    loading: { type: Boolean, default: true },\n    isFromReading: { type: Boolean, default: false },\n    propList: { default: () => [] },\n    checkedData: { default: () => [] }\n  },\n  emits: [\n    \"transferCheckedList\",\n    \"loadMore\",\n    \"refreshList\",\n    \"toEditNovel\"\n  ],\n  setup(__props, { expose: __expose, emit: __emit }) {\n    const props = __props;\n    const novelList = computed(() => props.propList);\n    const checkedNames = ref([]);\n    const checkedList = ref([]);\n    const emits = __emit;\n    onMounted(() => {\n      checkedNames.value = props.checkedData;\n      const scrollContainer = document.querySelector(\".table-body-container\");\n      if (scrollContainer) {\n        scrollContainer.addEventListener(\"scroll\", debouncedHandleScroll);\n      }\n    });\n    watch(\n      () => props.checkedData,\n      (newVal) => {\n        if (!Array.isArray(newVal)) {\n          checkedNames.value = [];\n          checkedList.value = [];\n          return;\n        }\n        checkedNames.value = [...newVal];\n        checkedList.value = newVal.map((id) => {\n          const item = props.propList.find((item2) => item2.id === id);\n          return item ? JSON.parse(JSON.stringify(item)) : null;\n        }).filter(Boolean);\n      },\n      { immediate: true, deep: true }\n    );\n    const isChecked = (item) => {\n      return checkedNames.value.includes(item.id);\n    };\n    const handleDeleteNovel = async (id) => {\n      ElMessageBox.confirm(`确定要删除选中的小说吗？`, \"删除\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n        customClass: \"resource-list-dialog\",\n        showClose: true,\n        beforeClose: async (action, instance, done) => {\n          if (action === \"confirm\") {\n            instance.confirmButtonLoading = true;\n            instance.confirmButtonText = \"删除中...\";\n            done();\n          } else {\n            done();\n          }\n        }\n      }).then(async () => {\n        await deleteNovelRequest(id).then(() => {\n          ElMessage.success(\"删除成功!\");\n          emits(\"refreshList\");\n        }).catch((error) => {\n          ElMessage.error(error);\n          emits(\"refreshList\");\n        });\n      }).catch(() => {\n      });\n    };\n    onBeforeUnmount(() => {\n      const scrollContainer = document.querySelector(\".table-body-container\");\n      if (scrollContainer) {\n        scrollContainer.removeEventListener(\n          \"scroll\",\n          debouncedHandleScroll\n        );\n      }\n    });\n    const debouncedHandleScroll = debounce((event) => {\n      const el = event.target;\n      const { scrollTop, scrollHeight, clientHeight } = el;\n      if (scrollHeight - scrollTop <= clientHeight + 10) {\n        emits(\"loadMore\");\n      }\n    }, 200);\n    const checkSelectable = (row) => {\n      if (props.fromSelf) {\n        return false;\n      }\n      if (props.isFromReading) {\n        return !row.file_url;\n      } else {\n        return !row.audio_url;\n      }\n    };\n    const editNovel = (row) => {\n      emits(\"toEditNovel\", row);\n    };\n    const clearMaterialDialogChecked = (type) => {\n      if (type === \"novel\") {\n        checkedNames.value = [];\n        emits(\"transferCheckedList\", checkedNames.value, \"novel\");\n      }\n    };\n    const handleRowClick = (item, event) => {\n      if (checkSelectable(item)) {\n        event.stopPropagation();\n        return;\n      }\n      const index = checkedNames.value.findIndex((i) => i === item.id);\n      if (props.fromSelf) {\n        if (index > -1) {\n          checkedNames.value.splice(index, 1);\n          checkedList.value = checkedList.value.filter(\n            (i) => i.id !== item.id\n          );\n        } else {\n          checkedNames.value.push(item.id);\n          checkedList.value.push(item);\n        }\n      } else {\n        if (index > -1) {\n          checkedNames.value = [];\n          checkedList.value = [];\n        } else {\n          checkedNames.value = [item.id];\n          checkedList.value = [item];\n        }\n      }\n      emits(\"transferCheckedList\", checkedList.value, \"novel\");\n    };\n    __expose({\n      clearMaterialDialogChecked\n    });\n    return (_ctx, _cache) => {\n      const _component_el_tag = ElTag;\n      const _component_el_button = ElButton;\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$3, [\n        createElementVNode(\"div\", _hoisted_2$3, [\n          createElementVNode(\"div\", _hoisted_3$2, [\n            createElementVNode(\"div\", _hoisted_4$2, [\n              _cache[2] || (_cache[2] = createStaticVNode('<div class=\"table-header\" data-v-b5df44c5><div class=\"th th-select\" data-v-b5df44c5></div><div class=\"th th-name\" data-v-b5df44c5>小说名称</div><div class=\"th th-tags\" data-v-b5df44c5>标签</div><div class=\"th th-time\" data-v-b5df44c5>创建时间</div><div class=\"th th-status\" data-v-b5df44c5>状态</div><div class=\"th th-actions\" data-v-b5df44c5>操作</div></div>', 1)),\n              createElementVNode(\"div\", _hoisted_5$2, [\n                (openBlock(true), createElementBlock(Fragment, null, renderList(novelList.value, (item, index) => {\n                  return openBlock(), createElementBlock(\"div\", {\n                    key: index,\n                    class: normalizeClass([\"table-row\", { selected: isChecked(item) }]),\n                    onClick: ($event) => handleRowClick(item, $event)\n                  }, [\n                    createElementVNode(\"div\", _hoisted_7$1, [\n                      createElementVNode(\"div\", {\n                        class: normalizeClass([\"checkbox-indicator\", {\n                          checked: isChecked(item),\n                          \"cant-check\": checkSelectable(item)\n                        }])\n                      }, [\n                        isChecked(item) ? (openBlock(), createElementBlock(\"span\", _hoisted_8$1, \"✓\")) : createCommentVNode(\"\", true)\n                      ], 2)\n                    ]),\n                    createElementVNode(\"div\", {\n                      class: \"td td-name\",\n                      onClick: withModifiers(($event) => editNovel(item), [\"stop\"]),\n                      title: item.name\n                    }, toDisplayString(item.name), 9, _hoisted_9$1),\n                    createElementVNode(\"div\", _hoisted_10$1, [\n                      (openBlock(true), createElementBlock(Fragment, null, renderList(item.tags, (tag, tagIndex) => {\n                        return openBlock(), createBlock(_component_el_tag, {\n                          key: tagIndex,\n                          type: \"info\",\n                          class: \"tag-item\",\n                          style: normalizeStyle({\n                            backgroundColor: tag.is_public ? \"#eaebfb\" : \"\",\n                            color: tag.is_public ? \"#8087ff\" : \"\"\n                          }),\n                          onClick: _cache[0] || (_cache[0] = withModifiers(() => {\n                          }, [\"stop\"]))\n                        }, {\n                          default: withCtx(() => [\n                            createTextVNode(toDisplayString(tag.name), 1)\n                          ]),\n                          _: 2\n                        }, 1032, [\"style\"]);\n                      }), 128))\n                    ]),\n                    createElementVNode(\"div\", _hoisted_11$1, toDisplayString(unref(dayjs)(item.create_time).format(\"YYYY-MM-DD\")), 1),\n                    createElementVNode(\"div\", _hoisted_12$1, [\n                      createElementVNode(\"span\", {\n                        class: normalizeClass([\"status-tag\", item.file_url ? \"yes\" : \"no\"])\n                      }, \" 正文: \" + toDisplayString(item.file_url ? \"有\" : \"无\"), 3),\n                      createElementVNode(\"span\", {\n                        class: normalizeClass([\"status-tag\", item.audio_url ? \"yes\" : \"no\"])\n                      }, \" 音频: \" + toDisplayString(item.audio_url ? \"有\" : \"无\"), 3)\n                    ]),\n                    createElementVNode(\"div\", _hoisted_13$1, [\n                      createVNode(_component_el_button, {\n                        type: \"danger\",\n                        size: \"small\",\n                        onClick: withModifiers(($event) => handleDeleteNovel(item.id), [\"stop\"]),\n                        class: \"delete-btn\"\n                      }, {\n                        default: withCtx(() => _cache[1] || (_cache[1] = [\n                          createTextVNode(\" 删除 \")\n                        ])),\n                        _: 2,\n                        __: [1]\n                      }, 1032, [\"onClick\"])\n                    ])\n                  ], 10, _hoisted_6$2);\n                }), 128))\n              ])\n            ])\n          ])\n        ])\n      ]);\n    };\n  }\n});\nconst novelLibrary = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"__scopeId\", \"data-v-b5df44c5\"]]);\nvar TagTypeEnum = /* @__PURE__ */ ((TagTypeEnum2) => {\n  TagTypeEnum2[\"SHARE\"] = \"share\";\n  TagTypeEnum2[\"PERSON\"] = \"person\";\n  return TagTypeEnum2;\n})(TagTypeEnum || {});\nconst _hoisted_1$2 = { class: \"material-list-hint\" };\nconst _hoisted_2$2 = { key: 0 };\nconst _sfc_main$2 = /* @__PURE__ */ defineComponent({\n  __name: \"Tips\",\n  props: {\n    fromSelf: { type: Boolean },\n    length: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$2, [\n        !_ctx.fromSelf ? (openBlock(), createElementBlock(\"span\", _hoisted_2$2, \"素材列表（可选，默认按标签随机抽取）\")) : createCommentVNode(\"\", true),\n        createElementVNode(\"span\", null, \"符合条件共 \" + toDisplayString(_ctx.length) + \" 项\", 1)\n      ]);\n    };\n  }\n});\nconst Tips = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"__scopeId\", \"data-v-8e978c6b\"]]);\nconst _hoisted_1$1 = { class: \"resource-list\" };\nconst _hoisted_2$1 = { class: \"resource-layout\" };\nconst _hoisted_3$1 = { class: \"left-panel\" };\nconst _hoisted_4$1 = { class: \"tab-selector\" };\nconst _hoisted_5$1 = { class: \"my-tags-list\" };\nconst _hoisted_6$1 = [\"onClick\"];\nconst _hoisted_7 = { class: \"tag-name\" };\nconst _hoisted_8 = {\n  key: 0,\n  class: \"public-badge\"\n};\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = { class: \"right-panel\" };\nconst _hoisted_11 = { class: \"top-controls\" };\nconst _hoisted_12 = { class: \"title-area\" };\nconst _hoisted_13 = { class: \"material-title\" };\nconst _hoisted_14 = { class: \"title-type\" };\nconst _hoisted_15 = { class: \"action-buttons\" };\nconst _hoisted_16 = { class: \"filter-controls\" };\nconst _hoisted_17 = { class: \"time-filter\" };\nconst _hoisted_18 = { class: \"time-options\" };\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = { class: \"keyword-search\" };\nconst _hoisted_21 = { class: \"materials-display\" };\nconst pagesize = 50;\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"ResourceList\",\n  props: {\n    tabType: { default: void 0 },\n    propFrom: { default: \"video\" },\n    maxChecked: { default: 0 },\n    isFromReading: { type: Boolean, default: true },\n    fromSelf: { type: Boolean, default: false },\n    propCheckedList: { default: () => [] },\n    propTagsObject: { default: () => {\n      return {};\n    } },\n    propActiveTabType: { default: null }\n  },\n  emits: [\"transferCheckedList\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n    const props = __props;\n    const libraryRef = useTemplateRef(\"libraryEl\");\n    const novelRef = useTemplateRef(\"novelEl\");\n    const musicRef = useTemplateRef(\"musicEl\");\n    const tagValue = ref([]);\n    const tagOptionsList = ref([]);\n    const totalCount = ref(0);\n    const hasMore = ref(true);\n    const activeTabType = ref(TagTypeEnum.SHARE);\n    const emits = __emit;\n    const isShortPlay = computed(() => {\n      return props.tabType === \"shortPlayVideo\" || props.tabType === \"shortPlayStickers\" || props.tabType === \"shortPlayLastFrames\";\n    });\n    onMounted(() => {\n      var _a;\n      comLoading.value = true;\n      if (!props.fromSelf) {\n        activeTabType.value = props.propActiveTabType || TagTypeEnum.PERSON;\n        paramsList.value.is_public = activeTabType.value === TagTypeEnum.SHARE;\n        checkedIds.value = ((_a = props.propCheckedList) == null ? void 0 : _a.length) ? props.propCheckedList.map((item) => item.id) : [];\n        if (props.propTagsObject) {\n          const currentTags = activeTabType.value === \"share\" ? props.propTagsObject.shared : props.propTagsObject.personal;\n          if (currentTags && currentTags.length > 0) {\n            tagValue.value = currentTags.map((option) => option.value);\n          }\n          tempSharedTags.value = props.propTagsObject.shared !== void 0 ? props.propTagsObject.shared.map((item) => item.value) : [];\n          tempPersonalTags.value = props.propTagsObject.personal !== void 0 ? props.propTagsObject.personal.map(\n            (item) => item.value\n          ) : [];\n          tagsListData.value.shared = props.propTagsObject.shared !== void 0 ? props.propTagsObject.shared : [];\n          tagsListData.value.personal = props.propTagsObject.personal !== void 0 ? props.propTagsObject.personal : [];\n        }\n      }\n      paramsList.value.category = TypeToCategory(props.tabType);\n      getMaterialList(paramsList.value);\n      getTagList();\n    });\n    const checkedIds = ref([]);\n    const checkedList = ref([]);\n    watch(\n      () => props.propCheckedList,\n      (newVal) => {\n        if (newVal) {\n          checkedList.value = [...newVal];\n        }\n      },\n      { immediate: true }\n      // immediate: true 确保组件创建时就执行一次\n    );\n    const tempSharedTags = ref([]);\n    const tempPersonalTags = ref([]);\n    const tagsListData = ref({\n      shared: [],\n      personal: []\n    });\n    const getTagList = async () => {\n      if (isShortPlay.value) {\n        return;\n      }\n      try {\n        const currentPublicTags = new Set(\n          tagOptionsList.value.filter((tag) => tag.is_public).map((tag) => tag.value)\n        );\n        const params = {\n          category: paramsList.value.category,\n          // 使用当前参数中的category，这样可以跟随库类型变化\n          ...activeTabType.value === \"share\" ? { is_public: true } : {}\n        };\n        const tagListData = await treeTagsList(params, true);\n        const newTagsList = tagListData.map((tag) => {\n          if (currentPublicTags.has(tag.value)) {\n            return { ...tag, is_public: true };\n          }\n          return tag;\n        });\n        tagOptionsList.value = newTagsList;\n      } catch (error) {\n        ElMessage.error(\"获取标签列表失败\");\n      }\n    };\n    const componentList = ref([]);\n    const paramsList = ref({\n      is_public: true,\n      // 是否共享 -默认共享\n      name: \"\",\n      //搜索条件 默认为空\n      category: \"\",\n      // tab类型\n      page: 1,\n      pagesize\n    });\n    const handleChangeShare = async (val) => {\n      console.log(\"切换共享/个人标签:\", val);\n      if (activeTabType.value === val) {\n        return;\n      }\n      searchKey.value = \"\";\n      paramsList.value.page = 1;\n      activeTabType.value = val;\n      paramsList.value.is_public = val === TagTypeEnum.SHARE ? true : false;\n      comLoading.value = true;\n      if (activeTabType.value === TagTypeEnum.SHARE) {\n        tagValue.value = tempSharedTags.value;\n      } else {\n        tagValue.value = tempPersonalTags.value;\n      }\n      await getTagList();\n      await getMaterialList({\n        ...paramsList.value\n      });\n      if (libraryRef.value) {\n        await nextTick();\n      }\n    };\n    const handleTransferCheckedList = (val) => {\n      checkedIds.value = val.map((item) => item.id);\n      checkedList.value = val;\n      const selectedItems = tagOptionsList.value.filter(\n        (item) => tagValue.value.includes(item.value)\n      );\n      if (activeTabType.value === \"share\") {\n        tagsListData.value.shared = selectedItems;\n      } else if (activeTabType.value === \"person\") {\n        tagsListData.value.personal = selectedItems;\n      }\n      emits(\n        \"transferCheckedList\",\n        val,\n        tagsListData.value,\n        activeTabType.value,\n        props.tabType,\n        componentList.value,\n        start_date.value,\n        end_date.value\n      );\n    };\n    const createVideoRef = useTemplateRef(\"createVideo\");\n    const createNovelRef = useTemplateRef(\"createNovel\");\n    const tagAddRef = useTemplateRef(\"tagAdd\");\n    const uploadTimeFilter = ref(\"all\");\n    const start_date = ref(\"\");\n    const end_date = ref(\"\");\n    ref([]);\n    const handleAdd = () => {\n      var _a, _b;\n      let initDate = {\n        type: props.tabType,\n        title: \"\"\n      };\n      if (props.tabType == \"novel\") {\n        initDate.title = \"新增小说\";\n        (_a = createNovelRef.value) == null ? void 0 : _a.init(\n          initDate,\n          true,\n          [],\n          TypeToCategory(props.tabType)\n        );\n      } else {\n        initDate.title = \"新增素材\";\n        (_b = createVideoRef.value) == null ? void 0 : _b.init(\n          initDate,\n          true,\n          TypeToCategory(props.tabType)\n        );\n      }\n    };\n    const handleEdit = async (row) => {\n      var _a;\n      let editList = [];\n      editList.push(row);\n      try {\n        (_a = createNovelRef.value) == null ? void 0 : _a.init(\n          { type: \"edit\", title: \"编辑小说\" },\n          true,\n          editList,\n          TypeToCategory(props.tabType)\n        );\n      } catch (error) {\n      }\n    };\n    const comLoading = ref(false);\n    const handleCreateNewTagRes = async (data) => {\n      let params = {\n        name: data,\n        is_public: false,\n        category: TypeToCategory(props.tabType)\n      };\n      comLoading.value = true;\n      try {\n        const res = await addMaterialTag(params);\n        if (res.code === 0) {\n          ElMessage.success(\"新增标签成功!\");\n          await getTagList();\n          comLoading.value = false;\n        } else {\n          ElMessage.error(\"新增标签失败!\");\n          comLoading.value = false;\n          throw new Error(res.message);\n        }\n      } catch (error) {\n        ElMessage.error(\"新增标签报错!\");\n        comLoading.value = false;\n      }\n    };\n    const handleSubmitFormRes = async (data) => {\n      let materialsFormInfo = new FormData();\n      let chineseType = TypeToCategory(props.tabType);\n      if (data.fileData.length >= 1) {\n        data.fileData.forEach((file) => {\n          materialsFormInfo.append(\"file\", file);\n        });\n      }\n      materialsFormInfo.append(\"category\", chineseType);\n      materialsFormInfo.append(\"is_public\", isShortPlay.value ? String(activeTabType.value === \"share\") : String(data.is_public));\n      if (data.tags.length >= 1) {\n        data.tags.forEach((tag) => {\n          materialsFormInfo.append(\"tag_ids\", tag);\n        });\n      }\n      comLoading.value = true;\n      addMaterialsRequest(isShortPlay.value, materialsFormInfo, (num) => {\n        var _a;\n        (_a = createVideoRef.value) == null ? void 0 : _a.handleUploadProgress(num);\n      }).then(async (response) => {\n        var _a, _b;\n        (_a = createVideoRef.value) == null ? void 0 : _a.handleUploadComplete();\n        (_b = createVideoRef.value) == null ? void 0 : _b.init(\n          null,\n          false,\n          TypeToCategory(props.tabType),\n          void 0,\n          false\n        );\n        return Promise.all([\n          getTagList(),\n          getMaterialList(paramsList.value, true)\n        ]).then(() => {\n          ElMessage.success(\"新增成功!\");\n        });\n      }).catch((error) => {\n        var _a;\n        (_a = createVideoRef.value) == null ? void 0 : _a.handleUploadComplete();\n        const errorMessage = error.message || \"新增素材失败\";\n        if (errorMessage == \"Cannot read properties of null (reading 'init')\") {\n          ElMessage.success(\"新增成功!\");\n        } else {\n          ElMessage.error(errorMessage);\n        }\n        comLoading.value = false;\n      });\n    };\n    const handleSubmitNovelRes = async (data, type) => {\n      comLoading.value = true;\n      if (type == \"edit\") {\n        let addNovelFormInfo = new FormData();\n        addNovelFormInfo.append(\"novel_id\", \"609\");\n        await updateNovelRequest(data).then((res) => {\n          var _a;\n          (_a = createNovelRef.value) == null ? void 0 : _a.init(\n            {},\n            false,\n            [],\n            TypeToCategory(props.tabType)\n          );\n          getMaterialList(paramsList.value);\n          getTagList();\n          ElMessage.success(\"更新成功!\");\n        }).catch((error) => {\n          var _a;\n          ElMessage.error(error);\n          comLoading.value = false;\n          getMaterialList(paramsList.value);\n          getTagList();\n          (_a = createNovelRef.value) == null ? void 0 : _a.init(\n            {},\n            false,\n            [],\n            TypeToCategory(props.tabType)\n          );\n        });\n      } else {\n        await addNovelRequest(data).then((res) => {\n          var _a, _b;\n          if (res.code === 0) {\n            (_a = createNovelRef.value) == null ? void 0 : _a.init(\n              {},\n              false,\n              [],\n              TypeToCategory(props.tabType)\n            );\n            getMaterialList(paramsList.value);\n            getTagList();\n            ElMessage.success(\"新增成功!\");\n          } else {\n            ElMessage.error(\"新增失败!\");\n            (_b = createNovelRef.value) == null ? void 0 : _b.init(\n              {},\n              false,\n              [],\n              TypeToCategory(props.tabType)\n            );\n            throw new Error(res.message);\n          }\n        }).catch((error) => {\n          var _a;\n          ElMessage.error(error);\n          comLoading.value = false;\n          getMaterialList(paramsList.value);\n          getTagList();\n          (_a = createNovelRef.value) == null ? void 0 : _a.init(\n            {},\n            false,\n            [],\n            TypeToCategory(props.tabType)\n          );\n        });\n      }\n    };\n    const searchKey = ref(\"\");\n    const handleBatchDelete = async () => {\n      let checkedLength = checkedIds.value.length;\n      ElMessageBox.confirm(\n        `确定要移除选中的 ${checkedLength} 项吗？`,\n        \"移除标签\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n          customClass: \"resource-list-dialog\",\n          showClose: true,\n          beforeClose: (action, instance, done) => {\n            if (action === \"confirm\") {\n              instance.confirmButtonLoading = true;\n              instance.confirmButtonText = \"移除中...\";\n              done();\n            } else {\n              done();\n            }\n          }\n        }\n      ).then(async () => {\n        var _a;\n        const params = {\n          id_list: checkedIds.value,\n          tags: ((_a = tagValue.value) == null ? void 0 : _a.map(Number)) ?? []\n        };\n        await batchRemoveTags(params).then(async (res) => {\n          if (res.code === 0) {\n            ElMessage.success(\"批量移除标签成功!\");\n            checkedIds.value = [];\n            await nextTick();\n            await deleteBackgroundGetList();\n          } else {\n            ElMessage.error(res.message);\n            checkedIds.value = [];\n            await nextTick();\n            await deleteBackgroundGetList();\n          }\n        }).catch(async (error) => {\n          ElMessage.error(error);\n          await deleteBackgroundGetList();\n        });\n      }).catch(() => {\n      });\n    };\n    const handleTagAdd = async () => {\n      var _a;\n      let initDate = {\n        type: TypeToCategory(props.tabType),\n        title: \"添加标签\"\n      };\n      (_a = tagAddRef.value) == null ? void 0 : _a.init(initDate, true);\n    };\n    const handleSubmitTagRes = async (data) => {\n      var _a;\n      let params = {\n        tags: data,\n        id_list: checkedIds.value\n      };\n      try {\n        const response = await batchUpdate(params);\n        if (response.code === 0) {\n          ElMessage.success(\"标签添加成功!\");\n          await getTagList();\n          (_a = tagAddRef.value) == null ? void 0 : _a.init(null, false);\n          editBackgroundGetList(checkedIds.value);\n        } else {\n          ElMessage.error(\"标签添加失败: \" + response.message);\n          throw new Error(response.message);\n        }\n      } catch (error) {\n        ElMessage.error(\"标签更新失败: \" + error.message);\n      }\n    };\n    const handleSearch = () => {\n      paramsList.value.name = searchKey.value;\n      paramsList.value.page = 1;\n      comLoading.value = true;\n      getMaterialList(paramsList.value);\n    };\n    const getMaterialList = async (params, isLoadMore) => {\n      const apiParams = { ...params };\n      const topIds = ref([]);\n      if (!props.fromSelf) {\n        if (props.propCheckedList && props.propCheckedList.length > 0) {\n          topIds.value = checkedList.value.map((item) => item.id);\n        }\n      }\n      try {\n        const res = await getNovelMaterialRequest(\n          isShortPlay.value,\n          apiParams,\n          topIds.value,\n          tagValue.value,\n          true\n        );\n        if (res.code === 0) {\n          const resultList = res.data.list;\n          if (params.page === 1) {\n            componentList.value = resultList;\n          } else if (isLoadMore) {\n            const existingIds = new Set(\n              componentList.value.map((item) => item.id)\n            );\n            const newItems = resultList.filter(\n              (item) => !existingIds.has(item.id)\n            );\n            componentList.value = [...componentList.value, ...newItems];\n          }\n          totalCount.value = res.data.count;\n          hasMore.value = componentList.value.length < totalCount.value;\n          comLoading.value = false;\n        } else {\n          ElMessage.error(\"接口返回报错!\");\n          throw new Error(res);\n        }\n      } catch (error) {\n        ElMessage.error(\"获取素材列表失败!\");\n        comLoading.value = false;\n      }\n    };\n    const getEditMaterialList = async (params, ids) => {\n      if (!ids || !Array.isArray(ids) || ids.length === 0) {\n        return;\n      }\n      comLoading.value = true;\n      try {\n        const res = await getNovelMaterialRequest(\n          isShortPlay.value,\n          params,\n          [],\n          tagValue.value,\n          true\n        );\n        if (res.code !== 0) {\n          ElMessage.error(`素材数据请求失败: ${res.message}`);\n          comLoading.value = false;\n          return;\n        }\n        if (!res.data || !res.data.list || res.data.list.length === 0) {\n          comLoading.value = false;\n          return;\n        }\n        const updatedItems = res.data.list.filter(\n          (item) => ids.includes(item.id)\n        );\n        if (updatedItems.length === 0) {\n          comLoading.value = false;\n          return;\n        }\n        updatedItems.forEach((updatedItem) => {\n          const index = componentList.value.findIndex(\n            (ele) => ele.id === updatedItem.id\n          );\n          if (index !== -1) {\n            updatedItem.showUrl = updatedItem.file_url || \"\";\n            componentList.value.splice(index, 1, updatedItem);\n          }\n        });\n        comLoading.value = false;\n      } catch (error) {\n        ElMessage.error(\"获取素材数据失败\");\n        comLoading.value = false;\n      }\n    };\n    const getDeleteMaterialList = async (params) => {\n      try {\n        const currentPage = params.page;\n        let allData = [];\n        for (let page = 1; page <= currentPage; page++) {\n          const pageParams = { ...params, page };\n          if (activeTabType.value === TagTypeEnum.SHARE) {\n            tagValue.value = tempSharedTags.value;\n          } else {\n            tagValue.value = tempPersonalTags.value;\n          }\n          const res = await getNovelMaterialRequest(\n            isShortPlay.value,\n            pageParams,\n            [],\n            tagValue.value,\n            true\n          );\n          if (!res.data || !res.data.list || res.data.list.length === 0) {\n            continue;\n          }\n          allData = [...allData, ...res.data.list];\n          totalCount.value = res.data.count;\n        }\n        componentList.value = allData;\n        hasMore.value = componentList.value.length < totalCount.value;\n      } catch (error) {\n        ElMessage.error(\"获取素材数据失败\");\n      }\n    };\n    const handleLoadMore = () => {\n      if (hasMore.value && !comLoading.value) {\n        paramsList.value.page++;\n        comLoading.value = true;\n        getMaterialList(paramsList.value, true);\n      }\n    };\n    const TypeToCategory = (type) => {\n      let category = typeToCategoryMap[type] || null;\n      if (category === typeToCategoryMap.stickers) {\n        category = typeToCategoryMap.stickersFake;\n      }\n      return category;\n    };\n    const toEditNovel = (row) => {\n      handleEdit(row);\n    };\n    const editBackgroundGetList = async (ids) => {\n      if (!(ids == null ? void 0 : ids.length)) {\n        console.warn(\"未提供有效ID数组\");\n        return;\n      }\n      comLoading.value = true;\n      try {\n        const pageRequests = [];\n        for (let i = 1; i <= paramsList.value.page; i++) {\n          const params = { ...paramsList.value, page: i };\n          pageRequests.push(getEditMaterialList(params, ids));\n        }\n        await Promise.all(pageRequests);\n      } catch (error) {\n        console.error(\"批量请求失败:\", error);\n        ElMessage.error(\"部分数据加载失败\");\n      } finally {\n        comLoading.value = false;\n      }\n    };\n    const deleteBackgroundGetList = async () => {\n      comLoading.value = true;\n      for (let i = 1; i <= paramsList.value.page; i++) {\n        const params = {\n          ...paramsList.value,\n          page: i\n        };\n        await getDeleteMaterialList(params);\n      }\n      comLoading.value = false;\n    };\n    const clearTagFilter = () => {\n      tagValue.value = [];\n      if (activeTabType.value === \"share\") {\n        tempSharedTags.value = [];\n        tagsListData.value.shared = [];\n      } else {\n        tempPersonalTags.value = [];\n        tagsListData.value.personal = [];\n      }\n      paramsList.value.page = 1;\n      comLoading.value = true;\n      getMaterialList(paramsList.value);\n      nextTick(() => {\n        emits(\n          \"transferCheckedList\",\n          checkedList.value,\n          tagsListData.value,\n          activeTabType.value,\n          props.tabType,\n          componentList.value,\n          start_date.value,\n          end_date.value\n        );\n      });\n    };\n    const toggleTagFilter = async (tagId) => {\n      const index = tagValue.value.indexOf(tagId);\n      if (index > -1) {\n        tagValue.value.splice(index, 1);\n      } else {\n        tagValue.value.push(tagId);\n      }\n      paramsList.value.page = 1;\n      comLoading.value = true;\n      if (activeTabType.value === \"share\") {\n        tempSharedTags.value = [...tagValue.value];\n      } else {\n        tempPersonalTags.value = [...tagValue.value];\n      }\n      await getMaterialList(paramsList.value);\n      const selectedItems = tagOptionsList.value.filter(\n        (item) => tagValue.value.includes(item.value)\n      );\n      if (activeTabType.value === \"share\") {\n        tagsListData.value.shared = selectedItems;\n      } else if (activeTabType.value === \"person\") {\n        tagsListData.value.personal = selectedItems;\n      }\n      nextTick(() => {\n        emits(\n          \"transferCheckedList\",\n          checkedList.value,\n          tagsListData.value,\n          activeTabType.value,\n          props.tabType,\n          componentList.value,\n          start_date.value,\n          end_date.value\n        );\n      });\n    };\n    const handleTimeFilterChange = (value) => {\n      uploadTimeFilter.value = value;\n      paramsList.value.page = 1;\n      const today = /* @__PURE__ */ new Date();\n      end_date.value = formatDate(today);\n      switch (value) {\n        case \"all\":\n          if (\"start_date\" in paramsList.value) {\n            delete paramsList.value.start_date;\n          }\n          if (\"end_date\" in paramsList.value) {\n            delete paramsList.value.end_date;\n          }\n          comLoading.value = true;\n          getMaterialList(paramsList.value);\n          break;\n        case \"3days\":\n          start_date.value = getPastDate(3);\n          paramsList.value.start_date = start_date.value;\n          paramsList.value.end_date = end_date.value;\n          comLoading.value = true;\n          getMaterialList(paramsList.value);\n          break;\n        case \"7days\":\n          start_date.value = getPastDate(7);\n          paramsList.value.start_date = start_date.value;\n          paramsList.value.end_date = end_date.value;\n          comLoading.value = true;\n          getMaterialList(paramsList.value);\n          break;\n        case \"15days\":\n          start_date.value = getPastDate(15);\n          paramsList.value.start_date = start_date.value;\n          paramsList.value.end_date = end_date.value;\n          comLoading.value = true;\n          getMaterialList(paramsList.value);\n          break;\n        case \"30days\":\n          start_date.value = getPastDate(30);\n          paramsList.value.start_date = start_date.value;\n          paramsList.value.end_date = end_date.value;\n          comLoading.value = true;\n          getMaterialList(paramsList.value);\n          break;\n        default:\n          start_date.value = \"\";\n          end_date.value = \"\";\n      }\n      const selectedItems = tagOptionsList.value.filter(\n        (item) => tagValue.value.includes(item.value)\n      );\n      emits(\n        \"transferCheckedList\",\n        checkedList.value,\n        selectedItems,\n        activeTabType.value,\n        props.tabType,\n        componentList.value,\n        start_date.value,\n        end_date.value\n      );\n    };\n    const getPastDate = (days) => {\n      const date = /* @__PURE__ */ new Date();\n      date.setDate(date.getDate() - days);\n      date.setHours(0, 0, 0, 0);\n      return formatDate(date);\n    };\n    const formatDate = (date) => {\n      const year = date.getFullYear();\n      const month = String(date.getMonth() + 1).padStart(2, \"0\");\n      const day = String(date.getDate()).padStart(2, \"0\");\n      const hours = String(date.getHours()).padStart(2, \"0\");\n      const minutes = String(date.getMinutes()).padStart(2, \"0\");\n      const seconds = String(date.getSeconds()).padStart(2, \"0\");\n      return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n    };\n    const shareTag = async (tag) => {\n      ElMessageBox.confirm(\n        `确定要将标签\"${tag.label}\"共享吗？`,\n        \"共享标签确认\",\n        {\n          confirmButtonText: \"确定共享\",\n          cancelButtonText: \"取消\",\n          type: \"warning\",\n          customClass: \"resource-list-dialog\",\n          showClose: true,\n          beforeClose: (action, instance, done) => {\n            if (action === \"confirm\") {\n              instance.confirmButtonLoading = true;\n              instance.confirmButtonText = \"共享中...\";\n              done();\n            } else {\n              done();\n            }\n          }\n        }\n      ).then(async () => {\n        try {\n          const res = await tagsShare(tag.value);\n          if (res.code === 0) {\n            ElMessage.success(`标签\"${tag.label}\"已成功共享!`);\n            getTagList();\n          } else {\n            ElMessage.error(res.message || \"共享标签失败!\");\n          }\n        } catch (error) {\n          ElMessage.error(\"共享标签接口报错!\");\n        }\n      }).catch(() => {\n      });\n    };\n    const handleResetLoading = () => {\n      comLoading.value = false;\n    };\n    const clearMaterialDialogChecked = (type) => {\n      var _a, _b, _c;\n      checkedIds.value = [];\n      checkedList.value = [];\n      tagValue.value = [];\n      tagsListData.value.shared = [];\n      tagsListData.value.personal = [];\n      tempSharedTags.value = [];\n      tempPersonalTags.value = [];\n      if (props.tabType === \"music\") {\n        (_a = musicRef.value) == null ? void 0 : _a.clearMaterialDialogChecked(type);\n      } else if (props.tabType === \"novel\") {\n        (_b = novelRef.value) == null ? void 0 : _b.clearMaterialDialogChecked(type);\n      } else {\n        (_c = libraryRef.value) == null ? void 0 : _c.clearMaterialDialogChecked();\n      }\n      emits(\n        \"transferCheckedList\",\n        checkedList.value,\n        tagsListData.value,\n        activeTabType.value,\n        props.tabType,\n        componentList.value,\n        start_date.value,\n        end_date.value\n      );\n      paramsList.value.page = 1;\n      paramsList.value.category = TypeToCategory(props.tabType);\n      getMaterialList(paramsList.value);\n    };\n    const refreshLibrary = async (libraryType, forceRefreshTags = false) => {\n      checkedIds.value = [];\n      checkedList.value = [];\n      searchKey.value = \"\";\n      paramsList.value.page = 1;\n      tagValue.value = [];\n      tagsListData.value.shared = [];\n      tagsListData.value.personal = [];\n      tempSharedTags.value = [];\n      tempPersonalTags.value = [];\n      const category = TypeToCategory(libraryType);\n      paramsList.value.category = category;\n      comLoading.value = true;\n      if (forceRefreshTags) {\n        tagOptionsList.value = [];\n        await getTagList();\n      } else {\n        await getTagList();\n      }\n      await getMaterialList(paramsList.value);\n      emits(\n        \"transferCheckedList\",\n        checkedList.value,\n        tagsListData.value,\n        activeTabType.value,\n        libraryType,\n        componentList.value,\n        start_date.value,\n        end_date.value\n      );\n    };\n    watch(\n      () => props.tabType,\n      (newType, oldType) => {\n        if (newType !== oldType) {\n          if (activeTabType.value === TagTypeEnum.SHARE) {\n            tempSharedTags.value = [...tagValue.value];\n          } else {\n            tempPersonalTags.value = [...tagValue.value];\n          }\n          checkedIds.value = [];\n          searchKey.value = \"\";\n          tagValue.value = [];\n          paramsList.value.page = 1;\n          paramsList.value.category = TypeToCategory(\n            newType\n          );\n          comLoading.value = true;\n          getMaterialList(paramsList.value);\n        }\n      }\n    );\n    __expose({\n      refreshLibrary,\n      handleChangeShare,\n      clearMaterialDialogChecked\n    });\n    return (_ctx, _cache) => {\n      const _component_el_icon = ElIcon;\n      const _component_el_button = ElButton;\n      const _component_el_input = ElInput;\n      const _directive_loading = vLoading;\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"div\", _hoisted_1$1, [\n          createElementVNode(\"div\", _hoisted_2$1, [\n            createElementVNode(\"div\", _hoisted_3$1, [\n              createElementVNode(\"div\", _hoisted_4$1, [\n                createElementVNode(\"div\", {\n                  class: normalizeClass([\"tab-option\", { active: activeTabType.value === unref(TagTypeEnum).SHARE }]),\n                  onClick: _cache[0] || (_cache[0] = ($event) => handleChangeShare(unref(TagTypeEnum).SHARE))\n                }, \" 共享 \", 2),\n                createElementVNode(\"div\", {\n                  class: normalizeClass([\"tab-option\", {\n                    active: activeTabType.value === unref(TagTypeEnum).PERSON\n                  }]),\n                  onClick: _cache[1] || (_cache[1] = ($event) => handleChangeShare(unref(TagTypeEnum).PERSON))\n                }, \" 个人 \", 2)\n              ]),\n              _cache[6] || (_cache[6] = createElementVNode(\"div\", { class: \"my-tags-header\" }, [\n                createElementVNode(\"h3\", null, \"标签筛选\")\n              ], -1)),\n              createElementVNode(\"div\", _hoisted_5$1, [\n                createElementVNode(\"div\", {\n                  class: normalizeClass([\"tag-item all-tag\", { active: tagValue.value.length === 0 }]),\n                  onClick: _cache[2] || (_cache[2] = ($event) => clearTagFilter())\n                }, [\n                  createElementVNode(\"span\", {\n                    class: normalizeClass([\"tag-icon\", {\n                      \"shared-tag-icon\": activeTabType.value === unref(TagTypeEnum).SHARE,\n                      \"personal-tag-icon\": activeTabType.value === unref(TagTypeEnum).PERSON\n                    }])\n                  }, null, 2),\n                  _cache[4] || (_cache[4] = createElementVNode(\"span\", { class: \"tag-name\" }, \"全部\", -1))\n                ], 2),\n                (openBlock(true), createElementBlock(Fragment, null, renderList(tagOptionsList.value, (item, index) => {\n                  return openBlock(), createElementBlock(\"div\", {\n                    key: index,\n                    class: normalizeClass([\"tag-item\", {\n                      active: tagValue.value.includes(item.value),\n                      \"public-tag\": item.is_public\n                    }]),\n                    onClick: ($event) => toggleTagFilter(item.value)\n                  }, [\n                    createElementVNode(\"span\", {\n                      class: normalizeClass([\"tag-icon\", {\n                        \"shared-tag-icon\": item.is_public || activeTabType.value === unref(TagTypeEnum).SHARE,\n                        \"personal-tag-icon\": !item.is_public && activeTabType.value === unref(TagTypeEnum).PERSON\n                      }])\n                    }, null, 2),\n                    createElementVNode(\"span\", _hoisted_7, toDisplayString(item.label), 1),\n                    item.is_public && activeTabType.value !== unref(TagTypeEnum).SHARE ? (openBlock(), createElementBlock(\"span\", _hoisted_8, \"已共享\")) : createCommentVNode(\"\", true),\n                    !item.is_public && _ctx.fromSelf && activeTabType.value === unref(TagTypeEnum).PERSON ? (openBlock(), createElementBlock(\"span\", {\n                      key: 1,\n                      class: \"share-tag-button\",\n                      onClick: withModifiers(($event) => shareTag(item), [\"stop\"]),\n                      title: \"共享此标签\"\n                    }, _cache[5] || (_cache[5] = [\n                      createElementVNode(\"img\", {\n                        src: _imports_0,\n                        alt: \"共享\",\n                        class: \"share-icon\"\n                      }, null, -1)\n                    ]), 8, _hoisted_9)) : createCommentVNode(\"\", true)\n                  ], 10, _hoisted_6$1);\n                }), 128))\n              ])\n            ]),\n            createElementVNode(\"div\", _hoisted_10, [\n              createElementVNode(\"div\", _hoisted_11, [\n                createElementVNode(\"div\", _hoisted_12, [\n                  createElementVNode(\"h2\", _hoisted_13, [\n                    createElementVNode(\"span\", _hoisted_14, toDisplayString(activeTabType.value === \"share\" ? \"共享\" : \"个人\"), 1),\n                    _cache[7] || (_cache[7] = createTextVNode(\"素材库 \"))\n                  ])\n                ]),\n                createElementVNode(\"div\", _hoisted_15, [\n                  createVNode(_component_el_button, {\n                    type: \"primary\",\n                    class: \"add-material-btn\",\n                    onClick: handleAdd\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(_component_el_icon, null, {\n                        default: withCtx(() => [\n                          createVNode(unref(plus_default))\n                        ]),\n                        _: 1\n                      }),\n                      _cache[8] || (_cache[8] = createTextVNode(\" 新增素材 \"))\n                    ]),\n                    _: 1,\n                    __: [8]\n                  }),\n                  _ctx.fromSelf && !isShortPlay.value ? (openBlock(), createBlock(_component_el_button, {\n                    key: 0,\n                    type: \"primary\",\n                    class: \"add-tag-btn\",\n                    onClick: handleTagAdd,\n                    disabled: checkedIds.value.length === 0\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(_component_el_icon, null, {\n                        default: withCtx(() => [\n                          createVNode(unref(plus_default))\n                        ]),\n                        _: 1\n                      }),\n                      _cache[9] || (_cache[9] = createTextVNode(\" 添加标签 \"))\n                    ]),\n                    _: 1,\n                    __: [9]\n                  }, 8, [\"disabled\"])) : createCommentVNode(\"\", true),\n                  _ctx.fromSelf && activeTabType.value === \"person\" && tagValue.value.length !== 0 ? (openBlock(), createBlock(_component_el_button, {\n                    key: 1,\n                    type: \"danger\",\n                    class: \"batch-delete-btn\",\n                    onClick: handleBatchDelete,\n                    disabled: checkedIds.value.length === 0\n                  }, {\n                    default: withCtx(() => [\n                      createVNode(_component_el_icon, null, {\n                        default: withCtx(() => [\n                          createVNode(unref(delete_default))\n                        ]),\n                        _: 1\n                      }),\n                      _cache[10] || (_cache[10] = createTextVNode(\" 批量移除标签 \"))\n                    ]),\n                    _: 1,\n                    __: [10]\n                  }, 8, [\"disabled\"])) : createCommentVNode(\"\", true)\n                ])\n              ]),\n              createElementVNode(\"div\", _hoisted_16, [\n                createElementVNode(\"div\", _hoisted_17, [\n                  _cache[11] || (_cache[11] = createElementVNode(\"span\", { class: \"filter-label\" }, \"添加时间：\", -1)),\n                  createElementVNode(\"div\", _hoisted_18, [\n                    (openBlock(), createElementBlock(Fragment, null, renderList([\n                      { label: \"全部\", value: \"all\" },\n                      { label: \"近3天\", value: \"3days\" },\n                      { label: \"近7天\", value: \"7days\" },\n                      { label: \"近15天\", value: \"15days\" },\n                      { label: \"近30天\", value: \"30days\" }\n                    ], (option) => {\n                      return createElementVNode(\"span\", {\n                        key: option.value,\n                        class: normalizeClass({\n                          active: uploadTimeFilter.value === option.value\n                        }),\n                        onClick: ($event) => handleTimeFilterChange(option.value)\n                      }, toDisplayString(option.label), 11, _hoisted_19);\n                    }), 64))\n                  ])\n                ]),\n                createElementVNode(\"div\", _hoisted_20, [\n                  createVNode(_component_el_input, {\n                    modelValue: searchKey.value,\n                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => searchKey.value = $event),\n                    placeholder: \"搜索关键字...\",\n                    clearable: \"\",\n                    onClear: handleSearch,\n                    onInput: handleSearch\n                  }, {\n                    prefix: withCtx(() => [\n                      createVNode(_component_el_icon, null, {\n                        default: withCtx(() => [\n                          createVNode(unref(search_default))\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  }, 8, [\"modelValue\"])\n                ])\n              ]),\n              createVNode(Tips, {\n                fromSelf: _ctx.fromSelf,\n                length: componentList.value.length\n              }, null, 8, [\"fromSelf\", \"length\"]),\n              withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_21, [\n                _ctx.tabType === \"novel\" ? (openBlock(), createBlock(novelLibrary, {\n                  key: 0,\n                  ref: \"novelEl\",\n                  \"max-checked\": _ctx.maxChecked,\n                  fromSelf: _ctx.fromSelf,\n                  isFromReading: _ctx.isFromReading,\n                  propList: componentList.value,\n                  checkedData: checkedIds.value,\n                  onToEditNovel: toEditNovel,\n                  onTransferCheckedList: handleTransferCheckedList,\n                  onRefreshList: deleteBackgroundGetList,\n                  onLoadMore: handleLoadMore\n                }, null, 8, [\"max-checked\", \"fromSelf\", \"isFromReading\", \"propList\", \"checkedData\"])) : _ctx.tabType === \"music\" ? (openBlock(), createBlock(musicLibrary, {\n                  key: 1,\n                  ref: \"musicEl\",\n                  checkedData: checkedIds.value,\n                  fromSelf: _ctx.fromSelf,\n                  propList: componentList.value,\n                  \"max-checked\": _ctx.maxChecked,\n                  onTransferCheckedList: handleTransferCheckedList,\n                  onLoadMore: handleLoadMore\n                }, null, 8, [\"checkedData\", \"fromSelf\", \"propList\", \"max-checked\"])) : (openBlock(), createBlock(comMaterialList, {\n                  key: 2,\n                  ref: \"libraryEl\",\n                  tabType: _ctx.tabType,\n                  propFrom: _ctx.propFrom,\n                  propActiveTabType: activeTabType.value,\n                  propList: componentList.value,\n                  checkedData: checkedIds.value,\n                  \"max-checked\": _ctx.maxChecked,\n                  isFromReading: _ctx.isFromReading,\n                  fromSelf: _ctx.fromSelf,\n                  onTransferCheckedList: handleTransferCheckedList,\n                  onRefreshList: deleteBackgroundGetList,\n                  onLoadMore: handleLoadMore,\n                  onEditBackgroundGetList: editBackgroundGetList\n                }, null, 8, [\"tabType\", \"propFrom\", \"propActiveTabType\", \"propList\", \"checkedData\", \"max-checked\", \"isFromReading\", \"fromSelf\"]))\n              ])), [\n                [_directive_loading, comLoading.value]\n              ])\n            ])\n          ])\n        ]),\n        createVNode(createVideo, {\n          ref: \"createVideo\",\n          onSubmitForm: handleSubmitFormRes,\n          onCreateNewTag: handleCreateNewTagRes,\n          onResetLoading: handleResetLoading\n        }, null, 512),\n        createVNode(createNovel, {\n          ref: \"createNovel\",\n          onSubmitForm: handleSubmitNovelRes,\n          onCreateNewTag: handleCreateNewTagRes\n        }, null, 512),\n        createVNode(tagAdd, {\n          ref: \"tagAdd\",\n          onSubmitForm: handleSubmitTagRes\n        }, null, 512)\n      ], 64);\n    };\n  }\n});\nconst resourceList = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__scopeId\", \"data-v-6de1d5f3\"]]);\nconst _hoisted_1 = { class: \"dialog-header\" };\nconst _hoisted_2 = [\"id\"];\nconst _hoisted_3 = { class: \"dialog-content\" };\nconst _hoisted_4 = {\n  key: 0,\n  class: \"material-type-switch\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"material-type-switch\"\n};\nconst _hoisted_6 = { class: \"dialog-footer\" };\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...{\n    name: \"ComSelectDialog\"\n  },\n  __name: \"ComSelectDialog\",\n  props: {\n    title: { default: \"选择素材\" },\n    tabType: { default: \"\" },\n    count: { default: 0 },\n    propCheckedList: { default: () => [] },\n    propComponentList: { default: () => [] },\n    propTagsObject: { default: () => {\n      return {};\n    } },\n    propActiveTabType: {},\n    from: { default: \"\" },\n    isFromReading: { type: Boolean, default: false },\n    isGroupSelection: { type: Boolean, default: false }\n  },\n  emits: [\"submit\", \"closeDialog\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n    const dialogVisible = ref(false);\n    const loading = ref(false);\n    const emit = __emit;\n    const props = __props;\n    const checkedList = ref([]);\n    const tagsList = ref({\n      shared: [],\n      personal: []\n    });\n    const activeTabType = ref();\n    const type = ref(\"\");\n    const componentList = ref([]);\n    const startDate = ref();\n    const endDate = ref();\n    const dialogRef = ref(null);\n    const resourceListRef = useTemplateRef(\"resourceListEL\");\n    onMounted(() => {\n      dialogVisible.value = true;\n      switch (props.tabType) {\n        case \"stickers\":\n          showStickersTab.value = true;\n          showLastFramesTab.value = false;\n          break;\n        case \"textImage\":\n          showStickersTab.value = false;\n          showLastFramesTab.value = false;\n          break;\n        case \"lastFrames\":\n          showStickersTab.value = false;\n          showLastFramesTab.value = true;\n          break;\n        case \"textVideo\":\n          showStickersTab.value = false;\n          showLastFramesTab.value = false;\n          break;\n        default:\n          showStickersTab.value = false;\n          showLastFramesTab.value = false;\n      }\n      if (props.propCheckedList && props.propCheckedList.length > 0) {\n        transferCheckedList(\n          props.propCheckedList,\n          props.propTagsObject || {},\n          props.propActiveTabType || TagTypeEnum.SHARE,\n          props.tabType,\n          props.propComponentList || []\n        );\n      } else if (props.tabType == \"video\") {\n        if (typeof props.propCheckedList === \"object\" && props.propCheckedList !== null && !Array.isArray(props.propCheckedList)) {\n          transferCheckedList(\n            props.propCheckedList,\n            props.propTagsObject || {},\n            props.propActiveTabType || TagTypeEnum.SHARE,\n            props.tabType,\n            props.propComponentList || []\n          );\n        }\n      }\n    });\n    const showStickersTab = ref(props.tabType === \"stickers\");\n    const showLastFramesTab = ref(props.tabType === \"lastFrames\");\n    const currentTabType = computed(() => {\n      if (props.tabType === \"stickers\" || props.tabType === \"textImage\") {\n        return showStickersTab.value ? \"stickers\" : \"textImage\";\n      } else if (props.tabType === \"lastFrames\" || props.tabType === \"textVideo\") {\n        return showLastFramesTab.value ? \"lastFrames\" : \"textVideo\";\n      }\n      return props.tabType;\n    });\n    const currentTitle = computed(() => {\n      if (props.tabType !== \"stickers\" && props.tabType !== \"textImage\" && props.tabType !== \"lastFrames\" && props.tabType !== \"textVideo\") {\n        return unref(props.title);\n      }\n      const titleMap = {\n        stickers: \"选择贴图\",\n        textImage: \"选择搜索框\",\n        lastFrames: \"选择尾帧视频\",\n        textVideo: \"选择尾帧搜索框\"\n      };\n      return titleMap[currentTabType.value] || props.title;\n    });\n    const switchTab = (isStickers) => {\n      if (showStickersTab.value === isStickers) return;\n      showStickersTab.value = isStickers;\n      const newLibraryType = isStickers ? \"stickers\" : \"textImage\";\n      checkedList.value = [];\n      if (resourceListRef.value) {\n        resourceListRef.value.refreshLibrary(newLibraryType, true);\n        nextTick(() => {\n          var _a, _b;\n          if (resourceListRef.value && activeTabType.value) {\n            (_b = (_a = resourceListRef.value).handleChangeShare) == null ? void 0 : _b.call(\n              _a,\n              activeTabType.value\n            );\n          }\n        });\n      }\n    };\n    const switchLastFramesTab = (isLastFrames) => {\n      if (showLastFramesTab.value === isLastFrames) return;\n      showLastFramesTab.value = isLastFrames;\n      const newLibraryType = isLastFrames ? \"lastFrames\" : \"textVideo\";\n      checkedList.value = [];\n      if (resourceListRef.value) {\n        resourceListRef.value.refreshLibrary(newLibraryType, true);\n        nextTick(() => {\n          var _a, _b;\n          if (resourceListRef.value && activeTabType.value) {\n            (_b = (_a = resourceListRef.value).handleChangeShare) == null ? void 0 : _b.call(\n              _a,\n              activeTabType.value\n            );\n          }\n        });\n      }\n    };\n    onUnmounted(() => {\n      document.body.style.overflow = \"\";\n    });\n    const handleClose = () => {\n      dialogVisible.value = false;\n      emit(\"closeDialog\");\n    };\n    const transferCheckedList = (checkedListData, tagsListData, activeTabTypeData, typeData, componentListData, startDateData, endDateData) => {\n      checkedList.value = checkedListData;\n      if (tagsListData) {\n        const deduplicateArray = (arr) => {\n          if (!Array.isArray(arr) || arr.length === 0) {\n            return [];\n          }\n          const seen = /* @__PURE__ */ new Set();\n          return arr.filter((item) => {\n            if ((item == null ? void 0 : item.value) == null) {\n              return false;\n            }\n            if (seen.has(item.value)) {\n              return false;\n            }\n            seen.add(item.value);\n            return true;\n          });\n        };\n        tagsList.value = {\n          shared: deduplicateArray(tagsListData.shared),\n          personal: deduplicateArray(tagsListData.personal)\n        };\n      }\n      activeTabType.value = activeTabTypeData;\n      type.value = typeData;\n      componentList.value = componentListData;\n      startDate.value = startDateData;\n      endDate.value = endDateData;\n    };\n    const handleSubmit = async () => {\n      if (type.value == \"novel\" && checkedList.value.length == 0) {\n        ElMessage({\n          message: \"请选择素材\",\n          type: \"warning\"\n        });\n        return;\n      }\n      const actualType = currentTabType.value || type.value;\n      if (props.tabType == \"video\" && (props.from === \"video\" || props.from === \"topVideo\")) {\n        if (checkedList.value.length == 0 && (tagsList.value.shared && tagsList.value.shared.length > 0 || tagsList.value.personal && tagsList.value.personal.length > 0)) {\n          const shuffledList = shuffle([...componentList.value]);\n          let randomItems = [];\n          if (props.from === \"topVideo\") {\n            randomItems = componentList.value.length === 0 ? [] : componentList.value.length <= props.count * 10 ? shuffledList : shuffledList.slice(0, props.count * 10);\n            checkedList.value = randomItems;\n          } else if (props.from === \"video\") {\n            randomItems = componentList.value.length === 0 ? [] : componentList.value.length <= 10 ? shuffledList : shuffledList.slice(0, 10);\n            checkedList.value = randomItems;\n          }\n          emit(\n            \"submit\",\n            checkedList.value,\n            tagsList.value,\n            activeTabType.value,\n            type.value,\n            componentList.value,\n            startDate.value,\n            endDate.value,\n            props.from,\n            false\n          );\n        } else {\n          emit(\n            \"submit\",\n            checkedList.value,\n            tagsList.value,\n            activeTabType.value,\n            type.value,\n            componentList.value,\n            startDate.value,\n            endDate.value,\n            props.from,\n            true\n          );\n        }\n      } else if (!props.isGroupSelection && checkedList.value.length == 0 && (tagsList.value.shared && tagsList.value.shared.length > 0 || tagsList.value.personal && tagsList.value.personal.length > 0)) {\n        const shuffledList = shuffle([...componentList.value]);\n        const randomItems = componentList.value.length === 0 ? [] : componentList.value.length <= props.count ? shuffledList : shuffledList.slice(0, props.count);\n        emit(\n          \"submit\",\n          randomItems,\n          tagsList.value,\n          activeTabType.value,\n          actualType,\n          componentList.value,\n          startDate.value,\n          endDate.value,\n          props.from,\n          false\n        );\n      } else {\n        emit(\n          \"submit\",\n          checkedList.value,\n          tagsList.value,\n          activeTabType.value,\n          actualType,\n          componentList.value,\n          startDate.value,\n          endDate.value,\n          props.from,\n          true\n        );\n      }\n    };\n    const handleClearChecked = () => {\n      var _a;\n      (_a = resourceListRef.value) == null ? void 0 : _a.clearMaterialDialogChecked(currentTabType.value);\n    };\n    __expose({});\n    return (_ctx, _cache) => {\n      const _component_el_icon = ElIcon;\n      const _component_el_button = ElButton;\n      const _component_el_dialog = ElDialog;\n      return openBlock(), createBlock(_component_el_dialog, {\n        ref_key: \"dialogRef\",\n        ref: dialogRef,\n        modelValue: dialogVisible.value,\n        \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => dialogVisible.value = $event),\n        width: \"70%\",\n        \"before-close\": handleClose,\n        top: \"5vh\",\n        class: \"custom-dialog select-dialog\",\n        \"close-on-click-modal\": false,\n        \"show-close\": false\n      }, {\n        header: withCtx(({ titleId, titleClass }) => [\n          createElementVNode(\"div\", _hoisted_1, [\n            createElementVNode(\"span\", {\n              id: titleId,\n              class: normalizeClass(titleClass)\n            }, toDisplayString(currentTitle.value), 11, _hoisted_2),\n            createVNode(_component_el_icon, {\n              class: \"close-icon\",\n              onClick: handleClose\n            }, {\n              default: withCtx(() => [\n                createVNode(unref(close_default))\n              ]),\n              _: 1\n            })\n          ])\n        ]),\n        footer: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_6, [\n            createVNode(_component_el_button, {\n              onClick: handleClearChecked,\n              disabled: loading.value\n            }, {\n              default: withCtx(() => _cache[6] || (_cache[6] = [\n                createTextVNode(\"清除选中\")\n              ])),\n              _: 1,\n              __: [6]\n            }, 8, [\"disabled\"]),\n            createVNode(_component_el_button, {\n              type: \"primary\",\n              onClick: _cache[4] || (_cache[4] = ($event) => handleSubmit()),\n              disabled: loading.value\n            }, {\n              default: withCtx(() => _cache[7] || (_cache[7] = [\n                createTextVNode(\"确定\")\n              ])),\n              _: 1,\n              __: [7]\n            }, 8, [\"disabled\"])\n          ])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_3, [\n            props.tabType === \"stickers\" || props.tabType === \"textImage\" ? (openBlock(), createElementBlock(\"div\", _hoisted_4, [\n              createElementVNode(\"div\", {\n                class: normalizeClass([\"switch-item\", showStickersTab.value ? \"active\" : \"\"]),\n                onClick: _cache[0] || (_cache[0] = ($event) => switchTab(true))\n              }, \" 贴图 \", 2),\n              createElementVNode(\"div\", {\n                class: normalizeClass([\"switch-item\", !showStickersTab.value ? \"active\" : \"\"]),\n                onClick: _cache[1] || (_cache[1] = ($event) => switchTab(false))\n              }, \" 带文字图片 \", 2)\n            ])) : createCommentVNode(\"\", true),\n            props.tabType === \"lastFrames\" || props.tabType === \"textVideo\" ? (openBlock(), createElementBlock(\"div\", _hoisted_5, [\n              createElementVNode(\"div\", {\n                class: normalizeClass([\"switch-item\", showLastFramesTab.value ? \"active\" : \"\"]),\n                onClick: _cache[2] || (_cache[2] = ($event) => switchLastFramesTab(true))\n              }, \" 尾帧视频 \", 2),\n              createElementVNode(\"div\", {\n                class: normalizeClass([\"switch-item\", !showLastFramesTab.value ? \"active\" : \"\"]),\n                onClick: _cache[3] || (_cache[3] = ($event) => switchLastFramesTab(false))\n              }, \" 带文字视频 \", 2)\n            ])) : createCommentVNode(\"\", true),\n            createVNode(resourceList, {\n              ref: \"resourceListEL\",\n              tabType: currentTabType.value,\n              onTransferCheckedList: transferCheckedList,\n              \"max-checked\": _ctx.count,\n              propCheckedList: _ctx.propCheckedList,\n              propTagsObject: _ctx.propTagsObject,\n              propActiveTabType: _ctx.propActiveTabType,\n              isFromReading: _ctx.isFromReading,\n              propFrom: _ctx.from\n            }, null, 8, [\"tabType\", \"max-checked\", \"propCheckedList\", \"propTagsObject\", \"propActiveTabType\", \"isFromReading\", \"propFrom\"])\n          ])\n        ]),\n        _: 1\n      }, 8, [\"modelValue\"]);\n    };\n  }\n});\nconst ComSelectDialog = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-4d18ba74\"]]);\nexport {\n  createVideo as ComMaterialAdd,\n  createNovel as ComNovelAdd,\n  ComSelectDialog,\n  ComSelectTag,\n  ComTagList,\n  resourceList as ResourceList,\n  tagAdd as TagAdd,\n  TagTypeEnum\n};\n","<template>\r\n  <div class=\"task-info-section\">\r\n    <div class=\"task-info-card\">\r\n      <div class=\"card-header\">\r\n        <div class=\"card-title\">任务信息</div>\r\n      </div>\r\n      <div class=\"card-content\">\r\n        <el-form-item label=\"任务名称\" prop=\"taskName\" label-position=\"top\">\r\n          <el-input\r\n            :model-value=\"formData.taskName\"\r\n            @update:model-value=\"updateTaskName\"\r\n            placeholder=\"请输入任务名称\"\r\n            maxlength=\"100\"\r\n            show-word-limit\r\n          />\r\n        </el-form-item>\r\n        <div class=\"flex-row-container\">\r\n          <el-form-item label=\"条数\" prop=\"count\" label-position=\"top\" class=\"half-width\">\r\n            <el-input-number\r\n              :model-value=\"formData.count\"\r\n              @update:model-value=\"updateCount\"\r\n              :min=\"1\"\r\n              :max=\"20\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item\r\n            v-if=\"source === taskSourceEnum.NOVEL\"\r\n            label=\"固定组合数\"\r\n            prop=\"groupCount\"\r\n            label-position=\"top\"\r\n            class=\"half-width\"\r\n          >\r\n            <div class=\"group-count-buttons\">\r\n              <div\r\n                class=\"group-button\"\r\n                :class=\"{ active: formData.groupCount === 0 }\"\r\n                @click=\"updateGroupCount(0)\"\r\n              >\r\n                无\r\n              </div>\r\n              <div\r\n                class=\"group-button\"\r\n                :class=\"{ active: formData.groupCount === 2 }\"\r\n                @click=\"updateGroupCount(2)\"\r\n              >\r\n                2\r\n              </div>\r\n              <div\r\n                class=\"group-button\"\r\n                :class=\"{ active: formData.groupCount === 3 }\"\r\n                @click=\"updateGroupCount(3)\"\r\n              >\r\n                3\r\n              </div>\r\n            </div>\r\n          </el-form-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { watchEffect } from 'vue'\r\nimport { taskSourceEnum } from '@/utils/enums.js'\r\n\r\n// 无需导入\r\n\r\nconst props = defineProps({\r\n  formData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  source: {\r\n    type: String,\r\n    default: 'novel'\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:formData'])\r\n\r\n// 更新任务名称\r\nconst updateTaskName = (value) => {\r\n  emit('update:formData', { ...props.formData, taskName: value })\r\n}\r\n\r\n// 更新条数\r\nconst updateCount = (value) => {\r\n  emit('update:formData', { ...props.formData, count: value })\r\n}\r\n\r\n// 更新组合数\r\nconst updateGroupCount = (value) => {\r\n  // 如果当前已经选中了这个值，不做任何操作\r\n  if (props.formData.groupCount === value) return\r\n\r\n  emit('update:formData', { ...props.formData, groupCount: value })\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.task-info-section {\r\n  margin-bottom: 20px;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.03);\r\n}\r\n\r\n.task-info-card {\r\n  border: none;\r\n  border-radius: 0;\r\n  position: relative;\r\n\r\n  /* 确保任务信息卡片中的表单项左对齐 */\r\n  :deep(.el-form-item) {\r\n    text-align: left;\r\n\r\n    .el-form-item__content {\r\n      justify-content: flex-start;\r\n      align-items: flex-start;\r\n      text-align: left;\r\n    }\r\n  }\r\n}\r\n\r\n.card-header {\r\n  padding: 14px 16px;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  border-bottom: none;\r\n}\r\n\r\n.card-title {\r\n  color: var(--text-dark);\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n}\r\n\r\n.card-content {\r\n  padding: 15px;\r\n  overflow-y: visible;\r\n  /* 让内部元素自己处理滚动 */\r\n  overflow-x: hidden;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  /* 添加任务信息卡片内容左对齐样式 */\r\n  :deep(.el-form-item__content) {\r\n    justify-content: flex-start;\r\n    align-items: flex-start;\r\n    text-align: left;\r\n  }\r\n}\r\n\r\n.flex-row-container {\r\n  display: flex;\r\n  gap: 20px;\r\n}\r\n\r\n.half-width {\r\n  flex: 1;\r\n  margin-right: 10px;\r\n\r\n  &:last-child {\r\n    margin-right: 0;\r\n  }\r\n\r\n  .group-count-buttons {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    gap: 8px;\r\n\r\n    .group-button {\r\n      flex: 1;\r\n      height: 32px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border: none;\r\n      border-radius: 4px;\r\n      cursor: pointer;\r\n      transition: all 0.3s;\r\n      background: #fff;\r\n      color: #606266;\r\n      font-size: 14px;\r\n\r\n      &:hover {\r\n        background: linear-gradient(135deg, rgba(128, 135, 255, 0.7), rgba(116, 189, 255, 0.7));\r\n        color: #fff;\r\n      }\r\n\r\n      &.active {\r\n        background: linear-gradient(135deg, rgba(128, 135, 255, 0.9), rgba(116, 189, 255, 0.9));\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"main-section\" :class=\"{ 'main-section-active': showMaterialConfig }\">\r\n    <div class=\"main-header\" @click=\"toggleMaterialConfig\">\r\n      <h3>素材</h3>\r\n      <div class=\"main-collapse-icon\">\r\n        <span v-if=\"showMaterialConfig\">−</span>\r\n        <span v-else>+</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-content\" :class=\"{ hidden: !showMaterialConfig }\">\r\n      <div class=\"material-settings\" v-if=\"source === taskSourceEnum.NOVEL\">\r\n        <!-- 首帧部分 -->\r\n        <div class=\"material-section\">\r\n          <div class=\"divider-title\">\r\n            <span>首帧</span>\r\n          </div>\r\n          <div class=\"section-content\">\r\n            <!-- 首帧视频 -->\r\n            <div class=\"material-item\">\r\n              <div class=\"material-label\">首帧视频</div>\r\n              <div class=\"material-selection\">\r\n                <div\r\n                  class=\"music-card pre-video-card\"\r\n                  v-if=\"checkedData.checkedFirstFrames?.length\"\r\n                >\r\n                  <div class=\"music-card-header\">\r\n                    <div class=\"music-selected-info\" v-if=\"isFromMaterialChecked.firstFrames\">\r\n                      已选择 {{ checkedData.checkedFirstFrames.length }} 条首帧视频\r\n                    </div>\r\n                    <span\r\n                      class=\"music-selected-info\"\r\n                      v-else\r\n                      :title=\"displayTags.firstFramesTags.map((item) => item.label).join('、')\"\r\n                      >已选标签:\r\n                      {{ displayTags.firstFramesTags.map((item) => item.label).join('、') }}\r\n                    </span>\r\n                    <div class=\"continue-select-btn\" @click=\"selectMaterial('firstFrames')\">\r\n                      <i class=\"el-icon\">\r\n                        <Plus />\r\n                      </i>\r\n                      <span>继续选择</span>\r\n                    </div>\r\n                    <div\r\n                      class=\"upload-icon-btn\"\r\n                      @click=\"uploadMaterial('firstFrames')\"\r\n                      :style=\"\r\n                        readFormData.count === checkedData.checkedFirstFrames?.length\r\n                          ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                          : {}\r\n                      \"\r\n                    >\r\n                      <i class=\"el-icon\">\r\n                        <Upload />\r\n                      </i>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"music-card-content\">\r\n                    <div class=\"music-settings\">\r\n                      <div class=\"setting-item\">\r\n                        <div class=\"setting-label\">音量</div>\r\n                        <el-slider\r\n                          class=\"volume-slider\"\r\n                          :model-value=\"preVideoDbValue\"\r\n                          @update:model-value=\"updatePreVideoDbValue\"\r\n                          :min=\"-20\"\r\n                          :max=\"20\"\r\n                          :step=\"0.1\"\r\n                          :format-tooltip=\"(val) => val.toFixed(1) + ' dB'\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"edit-title-tip\" @click.stop=\"openTitleSettings\">\r\n                    <i class=\"el-icon\">\r\n                      <i-ep-edit />\r\n                    </i>\r\n                    <span>编辑标题</span>\r\n                  </div>\r\n                </div>\r\n                <div v-else class=\"material-selection\">\r\n                  <div class=\"select-btn\" @click=\"selectMaterial('firstFrames')\">\r\n                    <i class=\"el-icon\">\r\n                      <Plus />\r\n                    </i>\r\n                    <span>选择首帧视频</span>\r\n                  </div>\r\n                  <div class=\"upload-icon-btn\" @click=\"uploadMaterial('firstFrames')\">\r\n                    <i class=\"el-icon\">\r\n                      <Upload />\r\n                    </i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 正片部分 -->\r\n        <div class=\"material-section\">\r\n          <div class=\"divider-title\">\r\n            <span>正片</span>\r\n          </div>\r\n          <div class=\"section-content\">\r\n            <!-- 背景图 -->\r\n            <el-form\r\n              :model=\"readFormData\"\r\n              label-width=\"100px\"\r\n              :rules=\"rules\"\r\n              ref=\"ruleFormRef\"\r\n              require-asterisk-position=\"right\"\r\n            >\r\n              <el-form-item\r\n                label=\"背景图\"\r\n                prop=\"background\"\r\n                label-position=\"top\"\r\n                class=\"background-btn\"\r\n              >\r\n                <div class=\"material-selection\">\r\n                  <div\r\n                    v-if=\"checkedData.checkedBackgroundList?.length > 0\"\r\n                    class=\"material-selection-card\"\r\n                    @click=\"selectMaterial('background')\"\r\n                  >\r\n                    <div class=\"selection-content\">\r\n                      <i class=\"el-icon selection-icon\">\r\n                        <Check />\r\n                      </i>\r\n                      <span v-if=\"isFromMaterialChecked.background\"\r\n                        >已选 {{ checkedData.checkedBackgroundList?.length }} 项</span\r\n                      >\r\n                      <span\r\n                        class=\"selection-text\"\r\n                        v-else\r\n                        :title=\"displayTags.backgroundTag.map((item) => item.label).join('、')\"\r\n                        >已选标签:\r\n                        {{ displayTags.backgroundTag.map((item) => item.label).join('、') }}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div v-else class=\"material-selection\">\r\n                    <div class=\"select-btn\" @click=\"selectMaterial('background')\">\r\n                      <i class=\"el-icon\">\r\n                        <Plus />\r\n                      </i>\r\n                      <span>选择背景图</span>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    class=\"upload-icon-btn\"\r\n                    @click=\"uploadMaterial('background')\"\r\n                    :style=\"\r\n                      readFormData.count === checkedData.checkedBackgroundList?.length\r\n                        ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                        : {}\r\n                    \"\r\n                  >\r\n                    <i class=\"el-icon\">\r\n                      <Upload />\r\n                    </i>\r\n                  </div>\r\n                </div>\r\n              </el-form-item>\r\n            </el-form>\r\n\r\n            <!-- 背景音乐 -->\r\n            <div class=\"material-item\">\r\n              <div class=\"material-label\">背景音乐</div>\r\n              <div class=\"material-selection\">\r\n                <div class=\"music-card\" v-if=\"checkedData.checkedMusic.length\">\r\n                  <div class=\"music-card-header\">\r\n                    <div class=\"music-selected-info\" v-if=\"isFromMaterialChecked.music\">\r\n                      已选择 {{ checkedData.checkedMusic.length }} 条音乐\r\n                    </div>\r\n                    <span\r\n                      class=\"music-selected-info\"\r\n                      v-else\r\n                      :title=\"displayTags.musicTag.map((item) => item.label).join('、')\"\r\n                      >已选标签:\r\n                      {{ displayTags.musicTag.map((item) => item.label).join('、') }}\r\n                    </span>\r\n                    <div class=\"continue-select-btn\" @click=\"selectMaterial('music')\">\r\n                      <i class=\"el-icon\">\r\n                        <Plus />\r\n                      </i>\r\n                      <span>继续选择</span>\r\n                    </div>\r\n                    <div\r\n                      class=\"upload-icon-btn\"\r\n                      @click=\"uploadMaterial('music')\"\r\n                      :style=\"\r\n                        readFormData.count === checkedData.checkedMusic?.length\r\n                          ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                          : {}\r\n                      \"\r\n                    >\r\n                      <i class=\"el-icon\">\r\n                        <Upload />\r\n                      </i>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"music-card-content\">\r\n                    <div class=\"music-settings\">\r\n                      <div class=\"setting-item\">\r\n                        <div class=\"setting-label\">音量</div>\r\n                        <el-slider\r\n                          class=\"volume-slider\"\r\n                          :model-value=\"musicDbValue\"\r\n                          @update:model-value=\"updateMusicDbValue\"\r\n                          :min=\"-20\"\r\n                          :max=\"20\"\r\n                          :step=\"0.1\"\r\n                          :format-tooltip=\"(val) => val.toFixed(1) + ' dB'\"\r\n                        />\r\n                      </div>\r\n                      <div class=\"setting-item\">\r\n                        <div class=\"setting-label\">开始位置</div>\r\n                        <div class=\"position-selector\">\r\n                          <div\r\n                            v-for=\"option in musicStartPositionOptions\"\r\n                            :key=\"option.value\"\r\n                            class=\"position-option\"\r\n                            :class=\"{\r\n                              selected: readFormData.musicStartPosition === option.value\r\n                            }\"\r\n                            @click=\"updateMusicStartPosition(option.value)\"\r\n                          >\r\n                            {{ option.label }}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div v-else class=\"material-selection\">\r\n                  <div class=\"select-btn\" @click=\"selectMaterial('music')\">\r\n                    <i class=\"el-icon\">\r\n                      <Plus />\r\n                    </i>\r\n                    <span>选择背景音乐</span>\r\n                  </div>\r\n                  <div class=\"upload-icon-btn\" @click=\"uploadMaterial('music')\">\r\n                    <i class=\"el-icon\">\r\n                      <Upload />\r\n                    </i>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 贴图 -->\r\n            <div class=\"material-item\">\r\n              <div class=\"material-label\">贴图</div>\r\n              <div class=\"material-selection\">\r\n                <!-- 贴图已选择时的显示 -->\r\n                <div\r\n                  v-if=\"checkedData.checkedStickers?.length\"\r\n                  class=\"material-selection-card\"\r\n                  @click=\"isGroupModeActive ? null : selectMaterial('stickers')\"\r\n                  :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : {}\"\r\n                >\r\n                  <div class=\"selection-content\">\r\n                    <i class=\"el-icon selection-icon\">\r\n                      <Check />\r\n                    </i>\r\n                    <span v-if=\"isFromMaterialChecked.stickers\"\r\n                      >已选 {{ checkedData.checkedStickers?.length }} 项贴图</span\r\n                    >\r\n                    <span\r\n                      class=\"selection-text\"\r\n                      v-else\r\n                      :title=\"displayTags.stickersTags.map((item) => item.label).join('、')\"\r\n                      >已选标签:\r\n                      {{ displayTags.stickersTags.map((item) => item.label).join('、') }}</span\r\n                    >\r\n                    <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 带文字图片已选择时的显示 -->\r\n                <div\r\n                  v-else-if=\"checkedData.checkedTextImages.length\"\r\n                  class=\"music-card search-box-card\"\r\n                  @click=\"isGroupModeActive ? null : selectMaterial('textImage')\"\r\n                  :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : { cursor: 'pointer' }\"\r\n                >\r\n                  <div class=\"music-card-header\">\r\n                    <div class=\"music-selected-info\" v-if=\"isFromMaterialChecked.textImage\">\r\n                      已选择 {{ checkedData.checkedTextImages.length }} 项搜索框\r\n                      <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                    </div>\r\n\r\n                    <span\r\n                      class=\"music-selected-info\"\r\n                      v-else\r\n                      :title=\"displayTags.textImageTags.map((item) => item.label).join('、')\"\r\n                      >已选标签:\r\n                      {{ displayTags.textImageTags.map((item) => item.label).join('、') }}\r\n                      <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span\r\n                    ></span>\r\n                    <div\r\n                      class=\"continue-select-btn\"\r\n                      @click=\"isGroupModeActive ? null : selectMaterial('textImage')\"\r\n                      :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n                    >\r\n                      <i class=\"el-icon\">\r\n                        <Plus />\r\n                      </i>\r\n                      <span>重新选择</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"music-card-content\" @click=\"e => {e.stopPropagation()}\">\r\n                    <div class=\"search-box-settings\">\r\n                      <div class=\"setting-item\">\r\n                        <div class=\"setting-label\">内容</div>\r\n                        <el-input\r\n                          :model-value=\"mainSearchBoxText\"\r\n                          @update:model-value=\"updateMainSearchBoxText\"\r\n                          placeholder=\"请输入搜索框显示的文本\"\r\n                          clearable\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 未选择任何内容时的显示 -->\r\n                <div v-else class=\"material-selection\">\r\n                  <div\r\n                    class=\"select-btn\"\r\n                    @click=\"isGroupModeActive ? null : selectMaterial('stickers')\"\r\n                    :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n                  >\r\n                    <i class=\"el-icon\">\r\n                      <Plus />\r\n                    </i>\r\n                    <span>选择贴图</span>\r\n                    <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 上传按钮 -->\r\n                <div\r\n                  class=\"upload-icon-btn\"\r\n                  @click=\"\r\n                    isGroupModeActive\r\n                      ? null\r\n                      : uploadMaterial(\r\n                          checkedData.checkedTextImages.length ? 'textImage' : 'stickers'\r\n                        )\r\n                  \"\r\n                  :style=\"\r\n                    isGroupModeActive ||\r\n                    readFormData.count ===\r\n                      (checkedData.checkedStickers?.length || checkedData.checkedTextImages?.length)\r\n                      ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                      : {}\r\n                  \"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Upload />\r\n                  </i>\r\n                  <span v-if=\"isGroupModeActive\" class=\"upload-disabled-tip\"></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 尾帧部分 -->\r\n        <div class=\"material-section\">\r\n          <div class=\"divider-title\">\r\n            <span>尾帧</span>\r\n          </div>\r\n          <div class=\"section-content\">\r\n            <!-- 尾帧视频 -->\r\n            <div class=\"material-item\">\r\n              <div class=\"material-label\">尾帧</div>\r\n              <div class=\"material-selection\">\r\n                <!-- 尾帧视频已选择时的显示 -->\r\n                <div\r\n                  v-if=\"checkedData.checkedLastFrames?.length\"\r\n                  class=\"material-selection-card\"\r\n                  @click=\"isGroupModeActive ? null : selectMaterial('lastFrames')\"\r\n                  :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : {}\"\r\n                >\r\n                  <div class=\"selection-content\">\r\n                    <i class=\"el-icon selection-icon\">\r\n                      <Check />\r\n                    </i>\r\n                    <span v-if=\"isFromMaterialChecked.lastFrames\"\r\n                      >已选择 {{ checkedData.checkedLastFrames?.length }} 条尾帧视频</span\r\n                    >\r\n                    <span\r\n                      class=\"selection-text\"\r\n                      v-else\r\n                      :title=\"displayTags.lastFrameTag.map((item) => item.label).join('、')\"\r\n                      >已选标签:\r\n                      {{ displayTags.lastFrameTag.map((item) => item.label).join('、') }}</span\r\n                    >\r\n                    <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 带文字视频已选择时的显示 -->\r\n                <div\r\n                  v-else-if=\"checkedData.checkedTextVideos.length\"\r\n                  class=\"music-card search-box-card\"\r\n                  @click=\"isGroupModeActive ? null : selectMaterial('textVideo')\"\r\n                  :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : { cursor: 'pointer' }\"\r\n                >\r\n                  <div class=\"music-card-header\">\r\n                    <div class=\"music-selected-info\" v-if=\"isFromMaterialChecked.textVideo\">\r\n                      已选择 {{ checkedData.checkedTextVideos.length }} 项尾帧搜索框\r\n                      <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                    </div>\r\n\r\n                    <span\r\n                      class=\"music-selected-info\"\r\n                      v-else\r\n                      :title=\"displayTags.textVideoTags.map((item) => item.label).join('、')\"\r\n                      >已选标签:\r\n                      {{ displayTags.textVideoTags.map((item) => item.label).join('、') }}\r\n                      <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span\r\n                    ></span>\r\n                    <div\r\n                      class=\"continue-select-btn\"\r\n                      @click=\"isGroupModeActive ? null : selectMaterial('textVideo')\"\r\n                      :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n                    >\r\n                      <i class=\"el-icon\">\r\n                        <Plus />\r\n                      </i>\r\n                      <span>重新选择</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"music-card-content\" @click=\"e => {e.stopPropagation()}\">\r\n                    <div class=\"search-box-settings\">\r\n                      <div class=\"setting-item\">\r\n                        <div class=\"setting-label\">内容</div>\r\n                        <el-input\r\n                          :model-value=\"endSearchBoxText\"\r\n                          @update:model-value=\"updateEndSearchBoxText\"\r\n                          placeholder=\"请输入搜索框显示的文本\"\r\n                          clearable\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 未选择任何内容时的显示 -->\r\n                <div v-else class=\"material-selection\">\r\n                  <div\r\n                    class=\"select-btn\"\r\n                    @click=\"isGroupModeActive ? null : selectMaterial('lastFrames')\"\r\n                    :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n                  >\r\n                    <i class=\"el-icon\">\r\n                      <Plus />\r\n                    </i>\r\n                    <span>选择尾帧</span>\r\n                    <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 上传按钮 -->\r\n                <div\r\n                  class=\"upload-icon-btn\"\r\n                  @click=\"\r\n                    isGroupModeActive\r\n                      ? null\r\n                      : uploadMaterial(\r\n                          checkedData.checkedTextVideos.length ? 'textVideo' : 'lastFrames'\r\n                        )\r\n                  \"\r\n                  :style=\"\r\n                    isGroupModeActive ||\r\n                    readFormData.count ===\r\n                      (checkedData.checkedLastFrames?.length ||\r\n                        checkedData.checkedTextVideos?.length)\r\n                      ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                      : {}\r\n                  \"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Upload />\r\n                  </i>\r\n                  <span v-if=\"isGroupModeActive\" class=\"upload-disabled-tip\"></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"material-settings\" v-else-if=\"source === taskSourceEnum.SHORT_PLAY\">\r\n        <!-- 正片部分 -->\r\n        <div class=\"material-section\">\r\n          <div class=\"divider-title\">\r\n            <span>正片</span>\r\n          </div>\r\n          <div class=\"section-content\">\r\n            <!-- 贴图 -->\r\n            <div class=\"material-item\">\r\n              <div class=\"material-label required\">贴图</div>\r\n              <div class=\"material-selection\">\r\n                <!-- 贴图已选择时的显示 -->\r\n                <div\r\n                  v-if=\"checkedData.checkedShortPlayStickers?.length\"\r\n                  class=\"material-selection-card\"\r\n                  @click=\"isGroupModeActive ? null : selectMaterial('shortPlayStickers')\"\r\n                  :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : {}\"\r\n                >\r\n                  <div class=\"selection-content\">\r\n                    <i class=\"el-icon selection-icon\">\r\n                      <Check />\r\n                    </i>\r\n                    <span v-if=\"isFromMaterialChecked.shortPlayStickers\"\r\n                      >已选 {{ checkedData.checkedShortPlayStickers?.length }} 项贴图</span\r\n                    >\r\n                    <span\r\n                      class=\"selection-text\"\r\n                      v-else\r\n                      :title=\"displayTags.shortPlayStickersTag.map((item) => item.label).join('、')\"\r\n                      >已选标签:\r\n                      {{\r\n                        displayTags.shortPlayStickersTag.map((item) => item.label).join('、')\r\n                      }}</span\r\n                    >\r\n                    <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 未选择任何内容时的显示 -->\r\n                <div v-else class=\"material-selection\">\r\n                  <div\r\n                    class=\"select-btn\"\r\n                    @click=\"isGroupModeActive ? null : selectMaterial('shortPlayStickers')\"\r\n                    :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n                  >\r\n                    <i class=\"el-icon\">\r\n                      <Plus />\r\n                    </i>\r\n                    <span>选择贴图</span>\r\n                    <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 上传按钮 -->\r\n                <div\r\n                  class=\"upload-icon-btn\"\r\n                  @click=\"isGroupModeActive ? null : uploadMaterial('shortPlayStickers')\"\r\n                  :style=\"\r\n                    isGroupModeActive ||\r\n                    readFormData.count === checkedData.checkedShortPlayStickers?.length\r\n                      ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                      : {}\r\n                  \"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Upload />\r\n                  </i>\r\n                  <span v-if=\"isGroupModeActive\" class=\"upload-disabled-tip\"></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 尾帧部分 -->\r\n        <div class=\"material-section\">\r\n          <div class=\"divider-title\">\r\n            <span>尾帧</span>\r\n          </div>\r\n          <div class=\"section-content\">\r\n            <!-- 尾帧视频 -->\r\n            <div class=\"material-item\">\r\n              <div class=\"material-label required\">尾帧</div>\r\n              <div class=\"material-selection\">\r\n                <!-- 尾帧视频已选择时的显示 -->\r\n                <div\r\n                  v-if=\"checkedData.checkedShortPlayLastFrames?.length\"\r\n                  class=\"material-selection-card\"\r\n                  @click=\"isGroupModeActive ? null : selectMaterial('shortPlayLastFrames')\"\r\n                  :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : {}\"\r\n                >\r\n                  <div class=\"selection-content\">\r\n                    <span v-if=\"checkedData.checkedShortPlayLastFrames\"\r\n                      >已选择 {{ checkedData.checkedShortPlayLastFrames?.length }} 条尾帧视频</span\r\n                    >\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 未选择任何内容时的显示 -->\r\n                <div v-else class=\"material-selection\">\r\n                  <div\r\n                    class=\"select-btn\"\r\n                    @click=\"isGroupModeActive ? null : selectMaterial('shortPlayLastFrames')\"\r\n                    :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n                  >\r\n                    <i class=\"el-icon\">\r\n                      <Plus />\r\n                    </i>\r\n                    <span>选择尾帧</span>\r\n                    <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 上传按钮 -->\r\n                <div\r\n                  class=\"upload-icon-btn\"\r\n                  @click=\"isGroupModeActive ? null : uploadMaterial('shortPlayLastFrames')\"\r\n                  :style=\"\r\n                    checkedData.checkedShortPlayLastFrames?.length\r\n                      ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                      : {}\r\n                  \"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Upload />\r\n                  </i>\r\n                  <span v-if=\"isGroupModeActive\" class=\"upload-disabled-tip\"></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { Check, Plus, Upload } from '@element-plus/icons-vue'\r\nimport { taskSourceEnum } from '@/utils/enums.js'\r\n\r\nconst props = defineProps({\r\n  readFormData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  checkedData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  displayTags: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  rules: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  musicStartPositionOptions: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  musicDbValue: {\r\n    type: Number,\r\n    required: true\r\n  },\r\n  mainSearchBoxText: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  endSearchBoxText: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  showMaterialConfig: {\r\n    type: Boolean,\r\n    required: true\r\n  },\r\n  isFromMaterialChecked: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  preVideoDbValue: {\r\n    type: Number,\r\n    required: true\r\n  },\r\n  source: {\r\n    type: String,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits([\r\n  'update:showMaterialConfig',\r\n  'update:musicDbValue',\r\n  'update:musicStartPosition',\r\n  'update:mainSearchBoxText',\r\n  'update:endSearchBoxText',\r\n  'selectMaterial',\r\n  'uploadMaterial',\r\n  'openTitleSettings',\r\n  'update:preVideoDbValue'\r\n])\r\n\r\n// 计算属性：判断是否处于组合模式\r\nconst isGroupModeActive = computed(() => {\r\n  return props.readFormData.groupCount > 1\r\n})\r\n\r\n// 方法：切换素材配置的显示/隐藏\r\nconst toggleMaterialConfig = () => {\r\n  emit('update:showMaterialConfig', !props.showMaterialConfig)\r\n}\r\n\r\n// 方法：选择素材\r\nconst selectMaterial = (type) => {\r\n  emit('selectMaterial', type)\r\n}\r\n\r\n// 方法：上传素材\r\nconst uploadMaterial = (type) => {\r\n  emit('uploadMaterial', type)\r\n}\r\n\r\n// 方法：打开标题设置\r\nconst openTitleSettings = () => {\r\n  emit('openTitleSettings')\r\n}\r\n\r\n// 更新音量值\r\nconst updateMusicDbValue = (value) => {\r\n  emit('update:musicDbValue', value)\r\n}\r\n\r\n// 更新音乐开始位置\r\nconst updateMusicStartPosition = (value) => {\r\n  emit('update:musicStartPosition', value)\r\n}\r\n\r\n// 更新主搜索框文本\r\nconst updateMainSearchBoxText = (value) => {\r\n  emit('update:mainSearchBoxText', value)\r\n}\r\n\r\n// 更新尾帧搜索框文本\r\nconst updateEndSearchBoxText = (value) => {\r\n  emit('update:endSearchBoxText', value)\r\n}\r\n\r\n// 首帧音量\r\nconst updatePreVideoDbValue = (value) => {\r\n  emit('update:preVideoDbValue', value)\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/* 背景图按钮样式 */\r\n.background-btn {\r\n  :deep(.el-form-item__label) {\r\n    margin-bottom: 0;\r\n    color: #606266;\r\n    font-size: 14px;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  :deep(.el-form-item__label::after) {\r\n    content: '*';\r\n    color: var(--el-color-danger);\r\n    margin-left: 4px;\r\n  }\r\n\r\n  :deep(.el-form-item__content) {\r\n    line-height: normal;\r\n  }\r\n\r\n  .material-selection-card {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    flex: 1;\r\n    justify-content: center;\r\n    height: 36px;\r\n    padding: 0 12px;\r\n  }\r\n\r\n  .material-selection {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    width: 100%;\r\n  }\r\n\r\n  .select-btn {\r\n    flex: 1;\r\n    height: 36px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 6px;\r\n    background-color: #f5f7fa;\r\n    border: 1px solid #e4e7ed;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n\r\n    &:hover {\r\n      background-color: #ecf5ff;\r\n      border-color: #c6e2ff;\r\n\r\n      .el-icon,\r\n      span {\r\n        color: #409eff;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* 素材卡片样式 */\r\n.main-section {\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n\r\n  &.main-section-active {\r\n    margin-bottom: 20px;\r\n    /* 恢复正常边距 */\r\n    flex: auto;\r\n    /* 改为auto让它自适应内容高度 */\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .main-header {\r\n    padding: 14px 16px;\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.15),\r\n      rgba(116, 189, 255, 0.15),\r\n      rgba(124, 239, 203, 0.15)\r\n    );\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    transition: all 0.3s;\r\n    color: var(--text-dark);\r\n\r\n    &:hover {\r\n      background: linear-gradient(\r\n        135deg,\r\n        rgba(128, 135, 255, 0.2),\r\n        rgba(116, 189, 255, 0.2),\r\n        rgba(124, 239, 203, 0.2)\r\n      );\r\n    }\r\n\r\n    h3 {\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      color: var(--text-dark);\r\n      margin: 0;\r\n    }\r\n\r\n    .main-collapse-icon {\r\n      font-size: 18px;\r\n      width: 24px;\r\n      height: 24px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-radius: 50%;\r\n      background: rgba(255, 255, 255, 0.4);\r\n      transition: transform 0.3s;\r\n\r\n      &.collapsed {\r\n        transform: rotate(-90deg);\r\n      }\r\n    }\r\n  }\r\n\r\n  .main-content {\r\n    padding: 12px;\r\n    border: 1px solid var(--border-color);\r\n    border-top: none;\r\n    border-radius: 0 0 8px 8px;\r\n    background: white;\r\n    transition: all 0.3s ease;\r\n    overflow: hidden;\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    &.hidden {\r\n      max-height: 0;\r\n      padding: 0;\r\n      border: none;\r\n      flex: 0;\r\n    }\r\n  }\r\n}\r\n\r\n/* 素材卡片样式 */\r\n.material-settings {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 15px;\r\n  overflow-y: auto;\r\n  max-height: 100%;\r\n  flex: 1;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #cccccc;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: #aaaaaa;\r\n  }\r\n\r\n  .material-item {\r\n    margin-bottom: 15px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  .material-label {\r\n    font-size: 14px;\r\n    color: #606266;\r\n    margin-bottom: 8px;\r\n\r\n    &.required:after {\r\n      content: ' *';\r\n      color: #f56c6c;\r\n    }\r\n  }\r\n\r\n  .material-selection {\r\n    width: 100%;\r\n    display: flex;\r\n    gap: 10px;\r\n    align-items: center;\r\n  }\r\n\r\n  .select-btn {\r\n    flex: 1;\r\n    border-radius: 8px;\r\n    background: transparent;\r\n    border: 1px solid rgba(124, 189, 255, 0.3);\r\n    padding: 8px 12px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n\r\n    &:hover {\r\n      background: linear-gradient(\r\n        135deg,\r\n        rgba(128, 135, 255, 0.15),\r\n        rgba(116, 189, 255, 0.15),\r\n        rgba(124, 239, 203, 0.15)\r\n      );\r\n      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    .el-icon {\r\n      margin-right: 6px;\r\n      color: #909399;\r\n      font-size: 16px;\r\n    }\r\n\r\n    span {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n\r\n  .upload-icon-btn {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 36px;\r\n    height: 36px;\r\n    border-radius: 8px;\r\n    background: transparent;\r\n    border: 1px solid rgba(124, 189, 255, 0.3);\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n    position: relative;\r\n\r\n    &:hover {\r\n      background: linear-gradient(\r\n        135deg,\r\n        rgba(128, 135, 255, 0.15),\r\n        rgba(116, 189, 255, 0.15),\r\n        rgba(124, 239, 203, 0.15)\r\n      );\r\n      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    .el-icon {\r\n      color: #909399;\r\n      font-size: 16px;\r\n    }\r\n\r\n    .upload-disabled-tip {\r\n      position: absolute;\r\n      bottom: -20px;\r\n      left: 50%;\r\n      transform: translateX(-50%);\r\n      color: #f56c6c;\r\n      font-size: 12px;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n}\r\n\r\n/* 新增的选择卡片样式 */\r\n.material-selection-card {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background-color: #ecf5ff;\r\n  border: 1px solid #409eff;\r\n  border-radius: 4px;\r\n  padding: 0 12px;\r\n  height: 36px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  color: #409eff;\r\n\r\n  &:hover {\r\n    background-color: #409eff;\r\n    color: #fff;\r\n  }\r\n\r\n  .selection-content {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    flex: 1;\r\n    justify-content: center;\r\n    font-size: 14px;\r\n\r\n    .selection-icon {\r\n      font-size: 16px;\r\n    }\r\n\r\n    .selection-text {\r\n      font-size: 14px;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      max-width: 250px;\r\n    }\r\n  }\r\n\r\n  .edit-icon {\r\n    color: #909399;\r\n    font-size: 14px;\r\n  }\r\n\r\n  &:hover .edit-title-tip {\r\n    opacity: 1;\r\n    bottom: -24px;\r\n    pointer-events: auto;\r\n  }\r\n}\r\n\r\n/* 首帧视频卡片中的编辑标题提示 */\r\n.edit-title-tip {\r\n  position: absolute;\r\n  bottom: -30px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background-color: #f0f7ff;\r\n  color: #409eff;\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n\r\n  i {\r\n    font-size: 14px;\r\n  }\r\n\r\n  span {\r\n    white-space: nowrap;\r\n  }\r\n}\r\n\r\n/* 禁用提示样式 */\r\n.disabled-tip {\r\n  font-size: 12px;\r\n  color: #f56c6c;\r\n  margin-left: 5px;\r\n  font-weight: normal;\r\n}\r\n\r\n.divider-title {\r\n  position: relative;\r\n  text-align: center;\r\n  margin: 15px 0;\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    right: 0;\r\n    height: 1px;\r\n    background-color: #e4e7ed;\r\n    z-index: 1;\r\n  }\r\n\r\n  span {\r\n    position: relative;\r\n    background-color: white;\r\n    padding: 0 10px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    color: #606266;\r\n    z-index: 2;\r\n  }\r\n}\r\n\r\n.material-section {\r\n  margin-bottom: 20px;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.section-content {\r\n  padding: 5px 0;\r\n}\r\n\r\n.music-card {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid rgba(124, 189, 255, 0.3);\r\n  width: 100%;\r\n  min-width: 300px;\r\n\r\n  &.search-box-card {\r\n    background: #f8f9ff;\r\n    border: 1px solid #d9ecff;\r\n  }\r\n}\r\n\r\n.pre-video-card {\r\n  position: relative;\r\n  overflow: visible;\r\n\r\n  &:hover {\r\n    .edit-title-tip {\r\n      opacity: 1;\r\n      bottom: -24px;\r\n      pointer-events: auto;\r\n    }\r\n  }\r\n}\r\n\r\n.music-card-header {\r\n  padding: 10px 12px;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  color: #606266;\r\n  font-weight: 500;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.music-card-content {\r\n  padding: 15px;\r\n  display: flex;\r\n  width: 100%;\r\n  background: rgba(255, 255, 255, 0.5);\r\n  min-width: 300px;\r\n}\r\n\r\n.music-selected-info {\r\n  font-size: 14px;\r\n  color: #606266;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  width: 170px;\r\n}\r\n\r\n.continue-select-btn {\r\n  padding: 4px 10px;\r\n  color: #606266;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  font-size: 12px;\r\n  border: 1px solid rgba(124, 189, 255, 0.3);\r\n  border-radius: 16px;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  font-weight: 500;\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: linear-gradient(90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));\r\n    z-index: -1;\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  &:hover {\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.25),\r\n      rgba(116, 189, 255, 0.25),\r\n      rgba(124, 239, 203, 0.25)\r\n    );\r\n    border-color: rgba(124, 189, 255, 0.5);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);\r\n\r\n    &::before {\r\n      transform: translateX(100%);\r\n    }\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0px);\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n  }\r\n}\r\n\r\n.music-settings {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n  width: 100%;\r\n}\r\n\r\n.setting-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  margin-bottom: 15px;\r\n  width: 100%;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.setting-label {\r\n  font-size: 14px;\r\n  color: #606266;\r\n}\r\n\r\n.volume-slider {\r\n  margin: 0;\r\n  width: 100%;\r\n  min-width: 250px;\r\n\r\n  :deep(.el-slider__runway) {\r\n    height: 6px;\r\n    background-color: rgba(144, 147, 153, 0.1);\r\n  }\r\n\r\n  :deep(.el-slider__bar) {\r\n    height: 6px;\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.5),\r\n      rgba(116, 189, 255, 0.5),\r\n      rgba(124, 239, 203, 0.5)\r\n    );\r\n  }\r\n\r\n  :deep(.el-slider__button-wrapper) {\r\n    top: -9px;\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n\r\n  :deep(.el-slider__button) {\r\n    width: 16px;\r\n    height: 16px;\r\n    border: 2px solid rgba(116, 189, 255, 0.8);\r\n  }\r\n}\r\n\r\n.position-selector {\r\n  display: flex;\r\n  gap: 10px;\r\n  width: 100%;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.position-option {\r\n  padding: 6px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  background-color: rgba(240, 240, 240, 0.5);\r\n  color: #606266;\r\n  transition: all 0.3s ease;\r\n  border: 1px solid transparent;\r\n  text-align: center;\r\n\r\n  &.selected {\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.25),\r\n      rgba(116, 189, 255, 0.25),\r\n      rgba(124, 239, 203, 0.25)\r\n    );\r\n    color: #606266;\r\n    border-color: rgba(124, 189, 255, 0.3);\r\n  }\r\n\r\n  &:hover:not(.selected) {\r\n    background-color: rgba(230, 230, 230, 0.8);\r\n  }\r\n}\r\n\r\n.search-box-settings {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n  width: 100%;\r\n\r\n  .setting-item {\r\n    margin-bottom: 5px;\r\n    width: 100%;\r\n\r\n    &.text-right {\r\n      text-align: right;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .setting-label {\r\n      font-size: 14px;\r\n      color: #606266;\r\n      margin-bottom: 8px;\r\n      display: block;\r\n    }\r\n\r\n    .el-input {\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n:root {\r\n  --primary-purple: #8087ff;\r\n  --primary-purple-light: #d5d8ff;\r\n  --primary-blue: #74bdff;\r\n  --primary-green: #7cefcb;\r\n  --text-dark: #333333;\r\n  --text-light: #666666;\r\n  --background-light: #f8f9ff;\r\n  --border-color: #e0e6ff;\r\n  --shadow-color: rgba(122, 137, 255, 0.1);\r\n  --secondary-bg: #f5f6fa;\r\n  --purple-light: #e8e9ff;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    class=\"main-section group-main-section\"\r\n    :class=\"{ 'main-section-active': showGroupConfig }\"\r\n    v-if=\"formData.groupCount > 1\"\r\n  >\r\n    <div class=\"main-header\" @click=\"toggleGroupConfig\">\r\n      <h3>组合</h3>\r\n      <div class=\"main-collapse-icon\">\r\n        <span v-if=\"showGroupConfig\">−</span>\r\n        <span v-else>+</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-content group-main-content\" :class=\"{ hidden: !showGroupConfig }\">\r\n      <!-- 配置操作按钮放在右上角 -->\r\n      <div class=\"group-config-actions\">\r\n        <button class=\"config-action-btn\" @click=\"handleSaveGroupConfig\">保存配置</button>\r\n        <button class=\"config-action-btn\" @click=\"handleLoadGroupConfig\">载入配置</button>\r\n      </div>\r\n      <div class=\"material-settings\">\r\n        <!-- 遍历创建固定组合数相等的组合 -->\r\n        <div v-for=\"groupIndex in formData.groupCount\" :key=\"groupIndex\" class=\"material-section\">\r\n          <div class=\"divider-title\">\r\n            <div v-if=\"editingGroupIndex === groupIndex - 1\" class=\"group-name-edit\">\r\n              <input\r\n                :value=\"props.groupData.groupNames[groupIndex - 1]\"\r\n                @input=\"updateGroupNameInput(groupIndex - 1, $event.target.value)\"\r\n                class=\"group-name-input\"\r\n                placeholder=\"请输入组合名称\"\r\n                @blur=\"saveGroupName(groupIndex - 1)\"\r\n                @keyup.enter=\"saveGroupName(groupIndex - 1)\"\r\n                ref=\"groupNameInput\"\r\n              />\r\n            </div>\r\n            <span v-else>\r\n              {{ props.groupData.groupNames[groupIndex - 1] || `组合 ${groupIndex}` }}\r\n              <i class=\"edit-icon\" @click.stop.prevent=\"editGroupName(groupIndex - 1)\" title=\"编辑组合名称\">\r\n                <el-icon><EditPen /></el-icon>\r\n              </i>\r\n            </span>\r\n          </div>\r\n          <div class=\"section-content\">\r\n            <!-- 贴图 -->\r\n            <div class=\"material-item\">\r\n              <div class=\"material-label\">贴图</div>\r\n              <div class=\"material-selection\">\r\n                <!-- 贴图已选择时的显示 -->\r\n                <div\r\n                  v-if=\"getGroupSelectedStickers(groupIndex)?.length\"\r\n                  class=\"material-selection-card\"\r\n                  @click=\"selectGroupMaterial('stickers', groupIndex)\"\r\n                >\r\n                  <div class=\"selection-content\">\r\n                    <i class=\"el-icon selection-icon\">\r\n                      <Check />\r\n                    </i>\r\n                    <span>已选 {{ getGroupSelectedStickers(groupIndex).length }} 项贴图</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 带文字图片已选择时的显示 -->\r\n                <div\r\n                  v-else-if=\"getGroupSelectedTextImages(groupIndex)?.length\"\r\n                  class=\"music-card search-box-card\"\r\n                >\r\n                  <div class=\"music-card-header\">\r\n                    <div class=\"music-selected-info\">\r\n                      已选择\r\n                      {{ getGroupSelectedTextImages(groupIndex).length }} 项搜索框\r\n                    </div>\r\n                    <div\r\n                      class=\"continue-select-btn\"\r\n                      @click=\"selectGroupMaterial('textImage', groupIndex)\"\r\n                    >\r\n                      <i class=\"el-icon\">\r\n                        <Plus />\r\n                      </i>\r\n                      <span>重新选择</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"music-card-content\" @click=\"e => {e.stopPropagation()}\">\r\n                    <div class=\"search-box-settings\">\r\n                      <div class=\"setting-item\">\r\n                        <div class=\"setting-label\">内容</div>\r\n                        <el-input\r\n                          :model-value=\"groupData.groupTextImageTexts[groupIndex - 1]\"\r\n                          @update:model-value=\"updateGroupTextImageText(groupIndex - 1, $event)\"\r\n                          placeholder=\"请输入搜索框显示的文本\"\r\n                          clearable\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 未选择任何内容时的显示 -->\r\n                <div v-else class=\"material-selection\">\r\n                  <div class=\"select-btn\" @click=\"selectGroupMaterial('stickers', groupIndex)\">\r\n                    <i class=\"el-icon\">\r\n                      <Plus />\r\n                    </i>\r\n                    <span>选择贴图</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 上传按钮，有值就置灰 -->\r\n                <div\r\n                  class=\"upload-icon-btn\"\r\n                  @click=\"\r\n                    uploadMaterial(\r\n                      getGroupSelectedTextImages(groupIndex)?.length ? 'textImage' : 'stickers',\r\n                      groupIndex\r\n                    )\r\n                  \"\r\n                  :style=\"\r\n                    getGroupSelectedStickers(groupIndex)?.length ||\r\n                    getGroupSelectedTextImages(groupIndex)?.length\r\n                      ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                      : {}\r\n                  \"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Upload />\r\n                  </i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 尾帧 -->\r\n            <div class=\"material-item\">\r\n              <div class=\"material-label\">尾帧</div>\r\n              <div class=\"material-selection\">\r\n                <!-- 尾帧视频已选择时的显示 -->\r\n                <div\r\n                  v-if=\"getGroupSelectedLastFrames(groupIndex)?.length\"\r\n                  class=\"material-selection-card\"\r\n                  @click=\"selectGroupMaterial('lastFrames', groupIndex)\"\r\n                >\r\n                  <div class=\"selection-content\">\r\n                    <i class=\"el-icon selection-icon\">\r\n                      <Check />\r\n                    </i>\r\n                    <span\r\n                      >已选择\r\n                      {{ getGroupSelectedLastFrames(groupIndex).length }}\r\n                      条尾帧视频</span\r\n                    >\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 带文字视频已选择时的显示 -->\r\n                <div\r\n                  v-else-if=\"getGroupSelectedTextVideos(groupIndex)?.length\"\r\n                  class=\"music-card search-box-card\"\r\n                >\r\n                  <div class=\"music-card-header\">\r\n                    <div class=\"music-selected-info\">\r\n                      已选择\r\n                      {{ getGroupSelectedTextVideos(groupIndex).length }}\r\n                      项尾帧搜索框\r\n                    </div>\r\n                    <div\r\n                      class=\"continue-select-btn\"\r\n                      @click=\"selectGroupMaterial('textVideo', groupIndex)\"\r\n                    >\r\n                      <i class=\"el-icon\">\r\n                        <Plus />\r\n                      </i>\r\n                      <span>重新选择</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"music-card-content\" @click=\"e => {e.stopPropagation()}\">\r\n                    <div class=\"search-box-settings\">\r\n                      <div class=\"setting-item\">\r\n                        <div class=\"setting-label\">内容</div>\r\n                        <el-input\r\n                          :model-value=\"groupData.groupTextVideoTexts[groupIndex - 1]\"\r\n                          @update:model-value=\"updateGroupTextVideoText(groupIndex - 1, $event)\"\r\n                          placeholder=\"请输入搜索框显示的文本\"\r\n                          clearable\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 未选择任何内容时的显示 -->\r\n                <div v-else class=\"material-selection\">\r\n                  <div class=\"select-btn\" @click=\"selectGroupMaterial('lastFrames', groupIndex)\">\r\n                    <i class=\"el-icon\">\r\n                      <Plus />\r\n                    </i>\r\n                    <span>选择尾帧</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 上传按钮 -->\r\n                <div\r\n                  class=\"upload-icon-btn\"\r\n                  @click=\"\r\n                    uploadMaterial(\r\n                      getGroupSelectedTextVideos(groupIndex)?.length ? 'textVideo' : 'lastFrames',\r\n                      groupIndex\r\n                    )\r\n                  \"\r\n                  :style=\"\r\n                    getGroupSelectedLastFrames(groupIndex)?.length ||\r\n                    getGroupSelectedTextVideos(groupIndex)?.length\r\n                      ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                      : {}\r\n                  \"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Upload />\r\n                  </i>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { watch, ref, nextTick } from 'vue'\r\nimport { Check, Plus, Upload, EditPen } from '@element-plus/icons-vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { saveGroupConfigRequest, getGroupConfigRequest } from '@/service/novel'\r\n\r\n// 当前正在编辑的组合索引\r\nconst editingGroupIndex = ref(-1)\r\n\r\nconst props = defineProps({\r\n  formData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  groupData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  showGroupConfig: {\r\n    type: Boolean,\r\n    required: true\r\n  },\r\n  checkedData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  videoType: {\r\n    type: String,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits([\r\n  'update:showGroupConfig',\r\n  'selectGroupMaterial',\r\n  'uploadMaterial',\r\n  'update:groupData'\r\n])\r\n\r\n// 切换组合配置显示状态\r\nconst toggleGroupConfig = () => {\r\n  emit('update:showGroupConfig', !props.showGroupConfig)\r\n}\r\n\r\n// 编辑组合名称\r\nconst editGroupName = (index) => {\r\n  // 确保组合名称数组有足够的长度\r\n  if (!props.groupData.groupNames) {\r\n    const newGroupData = { ...props.groupData }\r\n    newGroupData.groupNames = []\r\n    emit('update:groupData', newGroupData)\r\n  }\r\n\r\n  while (props.groupData.groupNames.length <= index) {\r\n    const newGroupData = { ...props.groupData }\r\n    newGroupData.groupNames.push(`组合 ${newGroupData.groupNames.length + 1}`)\r\n    emit('update:groupData', newGroupData)\r\n  }\r\n\r\n  // 设置当前正在编辑的组合索引\r\n  editingGroupIndex.value = index\r\n\r\n  // 使用nextTick确保DOM更新后再聚焦输入框\r\n  nextTick(() => {\r\n    const selector = `.material-section:nth-child(${index + 1}) .group-name-edit .group-name-input`\r\n    const inputEl = document.querySelector(selector)\r\n    if (inputEl) {\r\n      inputEl.focus()\r\n      inputEl.select()\r\n    }\r\n  })\r\n}\r\n\r\n// 更新组合名称输入\r\nconst updateGroupNameInput = (index, value) => {\r\n  const newGroupData = { ...props.groupData }\r\n  if (!newGroupData.groupNames) {\r\n    newGroupData.groupNames = []\r\n  }\r\n  newGroupData.groupNames[index] = value\r\n  emit('update:groupData', newGroupData)\r\n}\r\n\r\n// 保存组合名称\r\nconst saveGroupName = (index) => {\r\n  // 如果名称为空，设置默认名称\r\n  if (!props.groupData.groupNames[index]) {\r\n    const newGroupData = { ...props.groupData }\r\n    newGroupData.groupNames[index] = `组合 ${index + 1}`\r\n    emit('update:groupData', newGroupData)\r\n  }\r\n\r\n  // 退出编辑模式\r\n  editingGroupIndex.value = -1\r\n}\r\n\r\n// 保存组合配置\r\nconst handleSaveGroupConfig = async () => {\r\n  // 构建material_group数组\r\n  let materialGroup = []\r\n\r\n  // 保存所有组合数据，而不仅仅是当前组合数量\r\n  // 获取所有组合的最大长度\r\n  const maxLength = Math.max(\r\n    props.groupData.groupStickers.length,\r\n    props.groupData.groupLastFrames.length,\r\n    props.groupData.groupTextImages.length,\r\n    props.groupData.groupTextVideos.length,\r\n    props.groupData.groupTextImageTexts.length,\r\n    props.groupData.groupTextVideoTexts.length\r\n  )\r\n\r\n  console.log(props.groupData, 'props.groupData')\r\n\r\n  materialGroup = Array.from({ length: maxLength }, (_, i) => {\r\n    const sticker_id =\r\n      props.groupData.groupTextImages[i]?.length > 0\r\n        ? undefined\r\n        : props.groupData.groupStickers[i]?.[0]?.id || undefined\r\n    const template_image_id = props.groupData.groupTextImages[i]?.[0]?.id || undefined\r\n    const template_image_text = props.groupData.groupTextImageTexts[i] || ''\r\n\r\n    const post_video_id =\r\n      props.groupData.groupTextVideos[i]?.length > 0\r\n        ? undefined\r\n        : props.groupData.groupLastFrames[i]?.[0]?.id || undefined\r\n    const template_video_id = props.groupData.groupTextVideos[i]?.[0]?.id || undefined\r\n    const template_video_text = props.groupData.groupTextVideoTexts[i] || ''\r\n\r\n    // 添加组合名称\r\n    const group_name = props.groupData.groupNames[i] || `组合 ${i + 1}`\r\n\r\n    return {\r\n      sticker_id,\r\n      post_video_id,\r\n      template_image_id,\r\n      template_image_text,\r\n      template_video_id,\r\n      template_video_text,\r\n      group_name\r\n    }\r\n  })\r\n\r\n  const params = {\r\n    category: props.videoType,\r\n    material_group: materialGroup\r\n  }\r\n\r\n  try {\r\n    const response = await saveGroupConfigRequest(params)\r\n    if (response.code === 0) {\r\n      ElMessage.success('已保存组合配置')\r\n    } else {\r\n      ElMessage.error('组合配置保存失败，请重试')\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error(error)\r\n  }\r\n}\r\n\r\nconst handleLoadGroupConfig = () => {\r\n  getGroupConfigRequest({ category: props.videoType }).then((res) => {\r\n    if (res.code === 0) {\r\n      const materialGroup = res.data.material_group || []\r\n      const materials = res.data.materials || []\r\n\r\n      // 将接口返回的数据转换为组件所需的格式\r\n      const newGroupData = {\r\n        groupStickers: [],\r\n        groupLastFrames: [],\r\n        groupTextImages: [],\r\n        groupTextVideos: [],\r\n        groupTextImageTexts: [],\r\n        groupTextVideoTexts: []\r\n      }\r\n\r\n      // 清空并重新加载组合名称\r\n      newGroupData.groupNames = []\r\n\r\n      // 创建材料ID到材料对象的映射，方便查找\r\n      const materialsMap = {}\r\n      materials.forEach((material) => {\r\n        materialsMap[material.id] = material\r\n      })\r\n\r\n      // 处理每个组合\r\n      materialGroup.forEach((group, index) => {\r\n        // 处理组合名称\r\n        if (group.group_name) {\r\n          newGroupData.groupNames[index] = group.group_name\r\n        } else {\r\n          newGroupData.groupNames[index] = `组合 ${index + 1}`\r\n        }\r\n        // 处理贴图\r\n        if (group.sticker_id) {\r\n          const sticker = materialsMap[group.sticker_id]\r\n          if (sticker) {\r\n            if (!newGroupData.groupStickers[index]) {\r\n              newGroupData.groupStickers[index] = []\r\n            }\r\n            newGroupData.groupStickers[index].push({\r\n              ...sticker,\r\n              showUrl: sticker.key_frame_url || sticker.file_url,\r\n              _refreshTimestamp: Date.now()\r\n            })\r\n          }\r\n        }\r\n\r\n        // 处理尾帧\r\n        if (group.post_video_id) {\r\n          const postVideo = materialsMap[group.post_video_id]\r\n          if (postVideo) {\r\n            if (!newGroupData.groupLastFrames[index]) {\r\n              newGroupData.groupLastFrames[index] = []\r\n            }\r\n            newGroupData.groupLastFrames[index].push({\r\n              ...postVideo,\r\n              showUrl: postVideo.key_frame_url || postVideo.file_url,\r\n              _refreshTimestamp: Date.now()\r\n            })\r\n          }\r\n        }\r\n\r\n        // 处理带文字图片\r\n        if (group.template_image_id) {\r\n          const templateImage = materialsMap[group.template_image_id]\r\n          if (templateImage) {\r\n            if (!newGroupData.groupTextImages[index]) {\r\n              newGroupData.groupTextImages[index] = []\r\n            }\r\n            newGroupData.groupTextImages[index].push({\r\n              ...templateImage,\r\n              showUrl: templateImage.key_frame_url || templateImage.file_url,\r\n              _refreshTimestamp: Date.now()\r\n            })\r\n          }\r\n        }\r\n\r\n        // 处理带文字视频\r\n        if (group.template_video_id) {\r\n          const templateVideo = materialsMap[group.template_video_id]\r\n          if (templateVideo) {\r\n            if (!newGroupData.groupTextVideos[index]) {\r\n              newGroupData.groupTextVideos[index] = []\r\n            }\r\n            newGroupData.groupTextVideos[index].push({\r\n              ...templateVideo,\r\n              showUrl: templateVideo.key_frame_url || templateVideo.file_url,\r\n              _refreshTimestamp: Date.now()\r\n            })\r\n          }\r\n        }\r\n\r\n        // 处理文本\r\n        if (group.template_image_text) {\r\n          newGroupData.groupTextImageTexts[index] = group.template_image_text\r\n        }\r\n        if (group.template_video_text) {\r\n          newGroupData.groupTextVideoTexts[index] = group.template_video_text\r\n        }\r\n      })\r\n\r\n      console.log(newGroupData, 'newGroupData')\r\n\r\n      // 组合名称已经在上面处理过了\r\n\r\n      emit('update:groupData', newGroupData)\r\n      ElMessage.success('已载入组合配置')\r\n\r\n      // 更新组件数据\r\n    } else {\r\n      ElMessage.error('组合配置载入失败，请重试')\r\n    }\r\n  })\r\n}\r\n\r\n// 获取指定组的贴图选择\r\nconst getGroupSelectedStickers = (groupIndex) => {\r\n  return props.groupData.groupStickers[groupIndex - 1] || []\r\n}\r\n\r\n// 获取指定组的尾帧选择\r\nconst getGroupSelectedLastFrames = (groupIndex) => {\r\n  return props.groupData.groupLastFrames[groupIndex - 1] || []\r\n}\r\n\r\n// 获取指定组的带文字图片选择\r\nconst getGroupSelectedTextImages = (groupIndex) => {\r\n  return props.groupData.groupTextImages[groupIndex - 1] || []\r\n}\r\n\r\n// 获取指定组的带文字视频选择\r\nconst getGroupSelectedTextVideos = (groupIndex) => {\r\n  return props.groupData.groupTextVideos[groupIndex - 1] || []\r\n}\r\n\r\n// 选择组内素材\r\nconst selectGroupMaterial = (type, groupIndex) => {\r\n  emit('selectGroupMaterial', { type, groupIndex })\r\n}\r\n\r\n// 上传素材\r\nconst uploadMaterial = (type, groupIndex) => {\r\n  emit('uploadMaterial', { type, groupIndex })\r\n}\r\n\r\n// 更新带文字图片文本\r\nconst updateGroupTextImageText = (index, value) => {\r\n  const newGroupData = { ...props.groupData }\r\n  newGroupData.groupTextImageTexts[index] = value\r\n  emit('update:groupData', newGroupData)\r\n}\r\n\r\n// 更新带文字视频文本\r\nconst updateGroupTextVideoText = (index, value) => {\r\n  const newGroupData = { ...props.groupData }\r\n  newGroupData.groupTextVideoTexts[index] = value\r\n  emit('update:groupData', newGroupData)\r\n}\r\n\r\n// 更新组合名称\r\n// 该函数已不再需要，因为我们直接在props.groupData.groupNames上操作\r\n\r\n// 监听固定组合数变化，当固定组合数大于1时展开组合卡片\r\nwatch(\r\n  () => props.formData.groupCount,\r\n  (newVal) => {\r\n    if (newVal > 1) {\r\n      emit('update:showGroupConfig', true)\r\n\r\n      // 初始化组合名称数组\r\n      if (!props.groupData.groupNames || props.groupData.groupNames.length < newVal) {\r\n        const newGroupData = { ...props.groupData }\r\n        if (!newGroupData.groupNames) {\r\n          newGroupData.groupNames = []\r\n        }\r\n        for (let i = newGroupData.groupNames.length; i < newVal; i++) {\r\n          newGroupData.groupNames.push(`组合 ${i + 1}`)\r\n        }\r\n        emit('update:groupData', newGroupData)\r\n      }\r\n    }\r\n  }\r\n)\r\n\r\n// 监听小说选择变化，当选择了小说且文本框为空时，自动填入小说名称\r\nwatch(\r\n  () => props.checkedData.checkedNovel,\r\n  (newVal) => {\r\n    if (newVal && newVal.length > 0) {\r\n      const novelName = newVal[0].name\r\n\r\n      // 遍历所有组合，为空的文本框填入小说名称\r\n      for (let i = 0; i < props.formData.groupCount; i++) {\r\n        // 检查是否有带文字图片且对应的文本为空\r\n        if (\r\n          props.groupData.groupTextImages[i]?.length > 0 &&\r\n          (!props.groupData.groupTextImageTexts[i] || props.groupData.groupTextImageTexts[i] === '')\r\n        ) {\r\n          updateGroupTextImageText(i, novelName)\r\n        }\r\n\r\n        // 检查是否有带文字视频且对应的文本为空\r\n        if (\r\n          props.groupData.groupTextVideos[i]?.length > 0 &&\r\n          (!props.groupData.groupTextVideoTexts[i] || props.groupData.groupTextVideoTexts[i] === '')\r\n        ) {\r\n          updateGroupTextVideoText(i, novelName)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { deep: true, immediate: true }\r\n)\r\n\r\n// 监听带文字图片选择变化，当选择了带文字图片且文本框为空时，自动填入小说名称\r\nwatch(\r\n  () => props.groupData.groupTextImages,\r\n  (newVal) => {\r\n    if (props.checkedData.checkedNovel && props.checkedData.checkedNovel.length > 0) {\r\n      const novelName = props.checkedData.checkedNovel[0].name\r\n\r\n      // 遍历所有组合，检查是否有新选择的带文字图片\r\n      for (let i = 0; i < newVal.length; i++) {\r\n        // 如果新选择了带文字图片且对应的文本为空\r\n        if (\r\n          newVal[i]?.length > 0 &&\r\n          (!props.groupData.groupTextImageTexts[i] || props.groupData.groupTextImageTexts[i] === '')\r\n        ) {\r\n          updateGroupTextImageText(i, novelName)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { deep: true }\r\n)\r\n\r\n// 监听带文字视频选择变化，当选择了带文字视频且文本框为空时，自动填入小说名称\r\nwatch(\r\n  () => props.groupData.groupTextVideos,\r\n  (newVal) => {\r\n    if (props.checkedData.checkedNovel && props.checkedData.checkedNovel.length > 0) {\r\n      const novelName = props.checkedData.checkedNovel[0].name\r\n\r\n      // 遍历所有组合，检查是否有新选择的带文字视频\r\n      for (let i = 0; i < newVal.length; i++) {\r\n        // 如果新选择了带文字视频且对应的文本为空\r\n        if (\r\n          newVal[i]?.length > 0 &&\r\n          (!props.groupData.groupTextVideoTexts[i] || props.groupData.groupTextVideoTexts[i] === '')\r\n        ) {\r\n          updateGroupTextVideoText(i, novelName)\r\n        }\r\n      }\r\n    }\r\n  },\r\n  { deep: true }\r\n)\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/* 组合卡片特定样式 */\r\n.group-main-section {\r\n  position: relative;\r\n\r\n  .group-main-content {\r\n    position: relative; // 确保相对定位\r\n    padding: 0; // 移除内边距\r\n\r\n    // 配置操作按钮位于右上角\r\n    .group-config-actions {\r\n      position: absolute;\r\n      top: 10px; // 调整顶部距离\r\n      right: 20px;\r\n      margin: 0;\r\n      padding: 0;\r\n      z-index: 10;\r\n      display: flex;\r\n      gap: 15px;\r\n\r\n      .config-action-btn {\r\n        background: linear-gradient(135deg, rgba(128, 135, 255, 0.9), rgba(116, 189, 255, 0.9));\r\n        color: white;\r\n        border: none;\r\n        border-radius: 4px;\r\n        padding: 6px 12px;\r\n        font-size: 14px;\r\n        cursor: pointer;\r\n        transition: background-color 0.3s ease;\r\n\r\n        &:hover {\r\n          background: linear-gradient(135deg, rgba(128, 135, 255, 1), rgba(116, 189, 255, 1));\r\n        }\r\n      }\r\n    }\r\n\r\n    // 确保第一个组合的 divider-title 紧贴顶部\r\n    .material-settings {\r\n      padding-top: 40px; // 为按钮留出空间\r\n    }\r\n  }\r\n}\r\n\r\n/* 分隔线标题样式 */\r\n.divider-title {\r\n  position: relative;\r\n  text-align: center;\r\n  margin: 15px 0;\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 0;\r\n    right: 0;\r\n    height: 1px;\r\n    background-color: #e4e7ed;\r\n    z-index: 1;\r\n  }\r\n\r\n  span {\r\n    position: relative;\r\n    background-color: white;\r\n    padding: 0 10px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    color: var(--text-dark, #333333);\r\n    z-index: 2;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 5px;\r\n  }\r\n\r\n  .edit-icon {\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    transition: all 0.3s;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-left: 5px;\r\n    padding: 3px;\r\n  }\r\n\r\n  .group-name-edit {\r\n    position: relative;\r\n    background-color: white;\r\n    padding: 0 10px;\r\n    z-index: 2;\r\n    display: inline-block;\r\n    width: auto;\r\n    min-width: 150px;\r\n\r\n    .group-name-input {\r\n      width: 100%;\r\n      border: 1px solid #dcdfe6;\r\n      border-radius: 4px;\r\n      padding: 0 10px;\r\n      height: 28px;\r\n      line-height: 28px;\r\n      font-size: 14px;\r\n      color: #606266;\r\n      outline: none;\r\n      transition: border-color 0.2s;\r\n\r\n      &:focus {\r\n        border-color: #409EFF;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.material-section {\r\n  margin-bottom: 20px;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.section-content {\r\n  padding: 5px 0;\r\n}\r\n\r\n/* 素材项样式 */\r\n.material-item {\r\n  margin-bottom: 15px;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.material-label {\r\n  font-size: 14px;\r\n  color: #606266;\r\n  margin-bottom: 8px;\r\n  font-family: var(--el-font-family);\r\n\r\n  &.required:after {\r\n    content: ' *';\r\n    color: #f56c6c;\r\n  }\r\n}\r\n\r\n.material-selection {\r\n  width: 100%;\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n}\r\n\r\n/* 素材选择卡片样式 */\r\n.material-selection-card {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background-color: #ecf5ff;\r\n  border: 1px solid #409eff;\r\n  border-radius: 4px;\r\n  padding: 0 12px;\r\n  height: 36px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  color: #409eff;\r\n\r\n  &:hover {\r\n    background-color: #409eff;\r\n    color: #fff;\r\n  }\r\n\r\n  .selection-content {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    flex: 1;\r\n    justify-content: center;\r\n    font-size: 14px;\r\n\r\n    .selection-icon {\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n\r\n/* 选择按钮样式 */\r\n.select-btn {\r\n  flex: 1;\r\n  border-radius: 8px;\r\n  background: transparent;\r\n  border: 1px solid rgba(124, 189, 255, 0.3);\r\n  padding: 8px 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.15),\r\n      rgba(116, 189, 255, 0.15),\r\n      rgba(124, 239, 203, 0.15)\r\n    );\r\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .el-icon {\r\n    margin-right: 6px;\r\n    color: #909399;\r\n    font-size: 16px;\r\n  }\r\n\r\n  span {\r\n    font-size: 14px;\r\n  }\r\n}\r\n\r\n/* 上传按钮样式 */\r\n.upload-icon-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 8px;\r\n  background: transparent;\r\n  border: 1px solid rgba(124, 189, 255, 0.3);\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.15),\r\n      rgba(116, 189, 255, 0.15),\r\n      rgba(124, 239, 203, 0.15)\r\n    );\r\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .el-icon {\r\n    color: #909399;\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n/* 音乐卡片样式 */\r\n.music-card {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid rgba(124, 189, 255, 0.3);\r\n  width: 100%;\r\n  min-width: 300px;\r\n\r\n  &.search-box-card {\r\n    background: #f8f9ff;\r\n    border: 1px solid #d9ecff;\r\n  }\r\n}\r\n\r\n.music-card-header {\r\n  padding: 10px 12px;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  color: #606266;\r\n  font-weight: 500;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-family: var(--el-font-family);\r\n}\r\n\r\n.music-card-content {\r\n  padding: 15px;\r\n  display: flex;\r\n  width: 100%;\r\n  background: rgba(255, 255, 255, 0.5);\r\n  min-width: 300px;\r\n}\r\n\r\n.music-selected-info {\r\n  font-size: 14px;\r\n  color: #606266;\r\n  font-family: var(--el-font-family);\r\n}\r\n\r\n/* 继续选择按钮样式 */\r\n.continue-select-btn {\r\n  padding: 4px 10px;\r\n  color: #606266;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  font-size: 12px;\r\n  border: 1px solid rgba(124, 189, 255, 0.3);\r\n  border-radius: 16px;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  position: relative;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  font-weight: 500;\r\n  font-family: var(--el-font-family);\r\n\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: linear-gradient(90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));\r\n    z-index: -1;\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  &:hover {\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.25),\r\n      rgba(116, 189, 255, 0.25),\r\n      rgba(124, 239, 203, 0.25)\r\n    );\r\n    border-color: rgba(124, 189, 255, 0.5);\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);\r\n\r\n    &::before {\r\n      transform: translateX(100%);\r\n    }\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0px);\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n  }\r\n}\r\n\r\n/* 搜索框设置样式 */\r\n.search-box-settings {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n  width: 100%;\r\n\r\n  .setting-item {\r\n    margin-bottom: 5px;\r\n    width: 100%;\r\n\r\n    &.text-right {\r\n      text-align: right;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .setting-label {\r\n      font-size: 14px;\r\n      color: #606266;\r\n      margin-bottom: 8px;\r\n      display: block;\r\n      font-family: var(--el-font-family);\r\n    }\r\n\r\n    .el-input {\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n/* 设置项样式 */\r\n.setting-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 6px;\r\n  margin-bottom: 15px;\r\n  width: 100%;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n/* 素材设置样式 */\r\n.material-settings {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 15px;\r\n  overflow-y: auto;\r\n  max-height: 100%;\r\n  flex: 1;\r\n}\r\n\r\n/* 主要部分样式 */\r\n.main-section {\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n\r\n  &.main-section-active {\r\n    box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .main-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 14px 16px;\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.15),\r\n      rgba(116, 189, 255, 0.15),\r\n      rgba(124, 239, 203, 0.15)\r\n    );\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n    transition: all 0.3s;\r\n    color: var(--text-dark);\r\n\r\n    &:hover {\r\n      background: linear-gradient(\r\n        135deg,\r\n        rgba(128, 135, 255, 0.2),\r\n        rgba(116, 189, 255, 0.2),\r\n        rgba(124, 239, 203, 0.2)\r\n      );\r\n    }\r\n\r\n    h3 {\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      color: var(--text-dark);\r\n      margin: 0;\r\n    }\r\n\r\n    .main-collapse-icon {\r\n      font-size: 18px;\r\n      width: 24px;\r\n      height: 24px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      border-radius: 50%;\r\n      background: rgba(255, 255, 255, 0.4);\r\n      transition: transform 0.3s;\r\n\r\n      &.collapsed {\r\n        transform: rotate(-90deg);\r\n      }\r\n    }\r\n  }\r\n\r\n  .main-content {\r\n    padding: 12px;\r\n    border: 1px solid var(--border-color);\r\n    border-top: none;\r\n    border-radius: 0 0 8px 8px;\r\n    background: white;\r\n    transition: all 0.3s ease;\r\n    overflow: hidden;\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    &.hidden {\r\n      max-height: 0;\r\n      padding: 0;\r\n      border: none;\r\n      flex: 0;\r\n      opacity: 0;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"novel-select-container\">\r\n    <el-form-item label=\"\" prop=\"novel\" class=\"novel-label\" style=\"width: 100%\">\r\n      <div class=\"novel-select-area-wrapper\">\r\n        <div\r\n          class=\"material-selection\"\r\n          :class=\"{ 'selected-state': checkedData.checkedNovel?.length }\"\r\n          v-if=\"!checkedData.checkedNovel?.length\"\r\n          @click=\"selectMaterial\"\r\n        >\r\n          <div class=\"select-btn\">\r\n            <i class=\"el-icon\">\r\n              <Plus />\r\n            </i>\r\n            <span>选择小说</span>\r\n          </div>\r\n          <div class=\"upload-icon-btn\" @click.stop=\"uploadMaterial\">\r\n            <i class=\"el-icon\">\r\n              <Upload />\r\n            </i>\r\n          </div>\r\n        </div>\r\n        <div\r\n          v-else\r\n          class=\"material-selection-card\"\r\n          @click=\"selectMaterial\"\r\n        >\r\n          <div class=\"selection-content\">\r\n            <div class=\"centered-content\">\r\n              <i class=\"el-icon selection-icon\">\r\n                <Check />\r\n              </i>\r\n              <span class=\"selection-text\" v-if=\"isFromMaterialChecked.novel\"\r\n                >已选 {{ checkedData.checkedNovel[0]?.name }}</span\r\n              >\r\n              <span class=\"selection-text\" v-else>\r\n                已选标签:\r\n                {{ tagValue.novelTags.map((item) => item.label).join('、') }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"upload-icon-btn\"\r\n            @click.stop=\"uploadMaterial\"\r\n            :style=\"\r\n              checkedData.checkedNovel.length\r\n                ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                : {}\r\n            \"\r\n          >\r\n            <i class=\"el-icon\">\r\n              <Upload />\r\n            </i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-form-item>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { Plus, Check, Upload } from '@element-plus/icons-vue'\r\n\r\ndefineProps({\r\n  checkedData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  isFromMaterialChecked: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  tagValue: {\r\n    type: Object,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['selectMaterial', 'uploadMaterial'])\r\n\r\nconst selectMaterial = () => {\r\n  emit('selectMaterial', 'novel')\r\n}\r\n\r\nconst uploadMaterial = () => {\r\n  emit('uploadMaterial', 'novel')\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.novel-select-container {\r\n  margin-bottom: 0px;\r\n}\r\n\r\n.novel-label {\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n\r\n  :deep(.el-form-item__content) {\r\n    margin-left: 0 !important;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.novel-select-area-wrapper {\r\n  width: 100%;\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.material-selection-card {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background-color: #f0f7ff;\r\n  border: 1px solid #d9ecff;\r\n  border-radius: 4px;\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: #ecf5ff;\r\n    border-color: #c6e2ff;\r\n  }\r\n\r\n  .selection-content {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex: 1;\r\n\r\n    .centered-content {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 8px;\r\n    }\r\n\r\n    .selection-icon {\r\n      color: #409eff;\r\n      font-size: 16px;\r\n    }\r\n\r\n    .selection-text {\r\n      color: #409eff;\r\n      font-size: 14px;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n}\r\n\r\n.material-selection {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  width: 100%;\r\n\r\n  &.selected-state {\r\n    background-color: #ecf5ff;\r\n    border-color: #c6e2ff;\r\n  }\r\n\r\n  .select-btn {\r\n    flex: 1;\r\n    height: 36px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 6px;\r\n    background-color: #f5f7fa;\r\n    border: 1px solid #e4e7ed;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n\r\n    &:hover {\r\n      background-color: #ecf5ff;\r\n      border-color: #c6e2ff;\r\n\r\n      .el-icon,\r\n      span {\r\n        color: #409eff;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.upload-icon-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 4px;\r\n  background: transparent;\r\n  border: 1px solid #dcdfe6;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: #ecf5ff;\r\n    border-color: #c6e2ff;\r\n\r\n    .el-icon {\r\n      color: #409eff;\r\n    }\r\n  }\r\n\r\n  .el-icon {\r\n    color: #909399;\r\n    font-size: 16px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"novel-select-container\">\r\n    <el-form-item label=\"\" prop=\"novel\" class=\"novel-label\" style=\"width: 100%\">\r\n      <div class=\"novel-select-area-wrapper\">\r\n        <div\r\n          class=\"material-selection\"\r\n          :class=\"{ 'selected-state': checkedData.checkedShortPlay?.length }\"\r\n          v-if=\"!checkedData.checkedShortPlay?.length\"\r\n        >\r\n          <div class=\"select-btn\" @click.stop=\"uploadMaterial\">\r\n            <div class=\"upload-icon-btn\">\r\n              <i class=\"el-icon\">\r\n                <Upload />\r\n              </i>\r\n            </div>\r\n            <span>上传短剧</span>\r\n          </div>\r\n        </div>\r\n        <div v-else class=\"material-selection-card\">\r\n          <div class=\"selection-content\">\r\n            <div class=\"centered-content\">\r\n              <i class=\"el-icon selection-icon\">\r\n                <Check />\r\n              </i>\r\n              <span class=\"selection-text\" v-if=\"isFromMaterialChecked.shortPlay\"\r\n                >已选 {{ checkedData.checkedShortPlay[0]?.name }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"upload-icon-btn\"\r\n            @click.stop=\"uploadMaterial\"\r\n          >\r\n            <i class=\"el-icon\">\r\n              <Upload />\r\n            </i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-form-item>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { Plus, Check, Upload } from '@element-plus/icons-vue'\r\n\r\ndefineProps({\r\n  checkedData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  isFromMaterialChecked: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  tagValue: {\r\n    type: Object,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['selectMaterial', 'uploadMaterial'])\r\n\r\nconst selectMaterial = () => {\r\n  emit('selectMaterial', 'shortPlayVideo')\r\n}\r\n\r\nconst uploadMaterial = () => {\r\n  emit('uploadMaterial', 'shortPlayVideo')\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.novel-select-container {\r\n  margin-bottom: 0px;\r\n}\r\n\r\n.novel-label {\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n\r\n  :deep(.el-form-item__content) {\r\n    margin-left: 0 !important;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.novel-select-area-wrapper {\r\n  width: 100%;\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.material-selection-card {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background-color: #f0f7ff;\r\n  border: 1px solid #d9ecff;\r\n  border-radius: 4px;\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  transition: all 0.3s ease;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n\r\n  &:hover {\r\n    background-color: #ecf5ff;\r\n    border-color: #c6e2ff;\r\n  }\r\n\r\n  .selection-content {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex: 1;\r\n\r\n    .centered-content {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 8px;\r\n    }\r\n\r\n    .selection-icon {\r\n      color: #409eff;\r\n      font-size: 16px;\r\n    }\r\n\r\n    .selection-text {\r\n      color: #409eff;\r\n      font-size: 14px;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      width: 260px;\r\n    }\r\n  }\r\n}\r\n\r\n.material-selection {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  width: 100%;\r\n\r\n  &.selected-state {\r\n    background-color: #ecf5ff;\r\n    border-color: #c6e2ff;\r\n  }\r\n\r\n  .select-btn {\r\n    flex: 1;\r\n    height: 55px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 6px;\r\n    background-color: #f5f7fa;\r\n    border: 1px solid #e4e7ed;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n\r\n    &:hover {\r\n      background-color: #ecf5ff;\r\n      border-color: #c6e2ff;\r\n\r\n      .el-icon,\r\n      span {\r\n        color: #409eff;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.upload-icon-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 4px;\r\n  background: transparent;\r\n  // border: 1px solid #dcdfe6;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: #ecf5ff;\r\n    border-color: #c6e2ff;\r\n\r\n    .el-icon {\r\n      color: #409eff;\r\n    }\r\n  }\r\n\r\n  .el-icon {\r\n    color: #909399;\r\n    font-size: 16px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <el-card class=\"create-task-card\">\r\n    <div class=\"dialog-content\">\r\n      <!-- 主要内容区 -->\r\n      <div class=\"main-content\">\r\n        <!-- 左侧表单区域 -->\r\n        <div class=\"left-side\">\r\n          <el-form\r\n            :model=\"readFormData\"\r\n            label-width=\"120px\"\r\n            :rules=\"rules\"\r\n            ref=\"ruleFormRef\"\r\n            @submit.prevent\r\n            @keydown.enter.prevent\r\n            require-asterisk-position=\"right\"\r\n          >\r\n            <!-- 任务信息卡片 -->\r\n            <TaskInfoCard\r\n              :form-data=\"readFormData\"\r\n              :source=\"source\"\r\n              @update:form-data=\"handleUpdateFormData\"\r\n            />\r\n\r\n            <!-- 视频配置卡片 -->\r\n            <div class=\"task-info-section\">\r\n              <div class=\"task-info-card\">\r\n                <div class=\"card-header\">\r\n                  <div class=\"card-title\">视频配置</div>\r\n                </div>\r\n                <div class=\"card-content\">\r\n                  <!-- 小说选择组件 -->\r\n                  <NovelSelection\r\n                    v-if=\"source === taskSourceEnum.NOVEL\"\r\n                    :checkedData=\"checkedData\"\r\n                    :isFromMaterialChecked=\"isFromMaterialChecked\"\r\n                    :tagValue=\"tagValue\"\r\n                    @selectMaterial=\"selectMaterial\"\r\n                    @uploadMaterial=\"uploadMaterial\"\r\n                  />\r\n\r\n                  <!-- 短剧选择组件 -->\r\n                  <ShortPlaySelection\r\n                    v-if=\"source === taskSourceEnum.SHORT_PLAY\"\r\n                    :checkedData=\"checkedData\"\r\n                    :isFromMaterialChecked=\"isFromMaterialChecked\"\r\n                    :tagValue=\"tagValue\"\r\n                    @selectMaterial=\"selectMaterial\"\r\n                    @uploadMaterial=\"uploadMaterial\"\r\n                  />\r\n\r\n                  <!-- 正文配置卡片 -->\r\n                  <TextScrollSettings\r\n                    v-if=\"source === taskSourceEnum.NOVEL\"\r\n                    :form-data=\"readFormData\"\r\n                    :font-family-options=\"fontFamilyOptions\"\r\n                    :show-text-config=\"showTextConfig\"\r\n                    @update:formData=\"handleUpdateFormData\"\r\n                    @update:showTextConfig=\"showTextConfig = $event\"\r\n                    ref=\"mainContentRef\"\r\n                  />\r\n\r\n                  <!-- 组合卡片，仅当固定组合数大于1时显示 -->\r\n                  <GroupSection\r\n                    v-if=\"source === taskSourceEnum.NOVEL\"\r\n                    videoType=\"ReadingSimu\"\r\n                    :formData=\"readFormData\"\r\n                    :groupData=\"groupData\"\r\n                    :showGroupConfig=\"showGroupConfig\"\r\n                    :checkedData=\"checkedData\"\r\n                    @update:showGroupConfig=\"showGroupConfig = $event\"\r\n                    @update:groupData=\"groupDataInfo\"\r\n                    @selectGroupMaterial=\"handleSelectGroupMaterial\"\r\n                    @uploadMaterial=\"uploadMaterial\"\r\n                  />\r\n\r\n                  <!-- 素材卡片 -->\r\n                  <MaterialsSection\r\n                    :readFormData=\"readFormData\"\r\n                    :checkedData=\"checkedData\"\r\n                    :displayTags=\"displayTags\"\r\n                    :rules=\"rules\"\r\n                    :musicStartPositionOptions=\"musicStartPositionOptions\"\r\n                    :musicDbValue=\"musicDbValue\"\r\n                    :mainSearchBoxText=\"mainSearchBoxText\"\r\n                    :endSearchBoxText=\"endSearchBoxText\"\r\n                    :showMaterialConfig=\"showMaterialConfig\"\r\n                    :isFromMaterialChecked=\"isFromMaterialChecked\"\r\n                    :preVideoDbValue=\"preVideoDbValue\"\r\n                    :source=\"source\"\r\n                    @update:showMaterialConfig=\"showMaterialConfig = $event\"\r\n                    @update:musicDbValue=\"musicDbValue = $event\"\r\n                    @update:musicStartPosition=\"readFormData.musicStartPosition = $event\"\r\n                    @update:mainSearchBoxText=\"mainSearchBoxText = $event\"\r\n                    @update:endSearchBoxText=\"endSearchBoxText = $event\"\r\n                    @selectMaterial=\"selectMaterial\"\r\n                    @uploadMaterial=\"uploadMaterial\"\r\n                    @openTitleSettings=\"openTitleSettings\"\r\n                    @update:preVideoDbValue=\"preVideoDbValue = $event\"\r\n                  />\r\n\r\n                  <!-- 添加标题卡片 -->\r\n                  <div class=\"main-section\" :class=\"{ 'main-section-active': showTitleConfig }\">\r\n                    <div class=\"main-header\" @click=\"toggleTitleConfig\">\r\n                      <h3>标题</h3>\r\n                      <div class=\"main-collapse-icon\">\r\n                        <span v-if=\"showTitleConfig\">−</span>\r\n                        <span v-else>+</span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"main-content\" :class=\"{ hidden: !showTitleConfig }\">\r\n                      <div v-if=\"source === taskSourceEnum.NOVEL\">\r\n                        <!-- 配置操作按钮 -->\r\n                        <div class=\"config-actions\">\r\n                          <button class=\"config-action-btn\" @click=\"handleSaveTitleTextConfig\">\r\n                            保存配置\r\n                          </button>\r\n                        </div>\r\n                        <FirstFrameSettings\r\n                          v-if=\"checkedData.checkedFirstFrames.length\"\r\n                          :formData=\"readFormData\"\r\n                          :checkedData=\"checkedData\"\r\n                          :fontFamilyOptions=\"fontFamilyOptions\"\r\n                          :source=\"source\"\r\n                          @update:formData=\"handleUpdateFormData\"\r\n                        />\r\n                        <div v-else class=\"empty-firstframe-tip\">\r\n                          <div class=\"no-firstframe-message\">\r\n                            请先在\"素材\"中选择首帧视频，才能添加首帧标题\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div v-else-if=\"source === taskSourceEnum.SHORT_PLAY\">\r\n                        <FirstFrameSettings\r\n                          :formData=\"readFormData\"\r\n                          :checkedData=\"checkedData\"\r\n                          :fontFamilyOptions=\"fontFamilyOptions\"\r\n                          :source=\"source\"\r\n                          @update:formData=\"handleUpdateFormData\"\r\n                          @update:selectedVideoNameInfo=\"selectedVideoNameInfo = $event\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-form>\r\n        </div>\r\n\r\n        <!-- 右侧预览区域 -->\r\n        <PreviewSection\r\n          v-if=\"source === taskSourceEnum.NOVEL\"\r\n          :formData=\"readFormData\"\r\n          :checkedData=\"checkedData\"\r\n          :fontFamilyOptions=\"fontFamilyOptions\"\r\n          :renderPreviewFirstFrameUrl=\"renderPreviewFirstFrameUrl\"\r\n          :renderPreviewBackgroundUrl=\"renderPreviewBackgroundUrl\"\r\n          :renderPreviewLastFrameUrl=\"renderPreviewLastFrameUrl\"\r\n          :renderPreviewStickerUrl=\"renderPreviewStickerUrl\"\r\n          :renderPreviewTextImageUrl=\"renderPreviewTextImageUrl\"\r\n          :renderPreviewTextVideoUrl=\"renderPreviewTextVideoUrl\"\r\n          :renderPreviewBackgroundPosition=\"renderPreviewBackgroundPosition\"\r\n          :renderPreviewBackgroundNeedMask=\"renderPreviewBackgroundNeedMask\"\r\n          :renderPreviewBackgroundTextFill=\"renderPreviewBackgroundTextFill\"\r\n          :currentFirstFrameIndex=\"currentFirstFrameIndex\"\r\n          :currentLastFrameIndex=\"currentLastFrameIndex\"\r\n          :currentBackgroundIndex=\"currentBackgroundIndex\"\r\n          :currentTextVideoIndex=\"currentTextVideoIndex\"\r\n          :createVideoDisabled=\"createVideoDisabled\"\r\n          :videoFontZoom=\"videoFontZoom\"\r\n          :firstAndLastVideoZoom=\"firstAndLastVideoZoom\"\r\n          :count=\"readFormData.count\"\r\n          :groupCount=\"readFormData.groupCount\"\r\n          @switchToPrevious=\"switchToPrevious\"\r\n          @switchToNext=\"switchToNext\"\r\n          @stopResize=\"stopResize\"\r\n          @generateVideo=\"generateVideo(ruleFormRef)\"\r\n        />\r\n\r\n        <ShortPlayPreviewSection\r\n          v-if=\"source === taskSourceEnum.SHORT_PLAY\"\r\n          :formData=\"readFormData\"\r\n          :checkedData=\"checkedData\"\r\n          :fontFamilyOptions=\"fontFamilyOptions\"\r\n          :renderPreviewShortPlayLastFrameUrl=\"renderPreviewShortPlayLastFrameUrl\"\r\n          :createVideoDisabled=\"createVideoDisabled\"\r\n          :videoFontZoom=\"videoFontZoom\"\r\n          :firstAndLastVideoZoom=\"firstAndLastVideoZoom\"\r\n          :count=\"readFormData.count\"\r\n          :selectedVideoNameInfo=\"selectedVideoNameInfo\"\r\n          :renderPreviewShortPlayStickerUrl=\"renderPreviewShortPlayStickerUrl\"\r\n          :currentShortPlayStickerIndex=\"currentShortPlayStickerIndex\"\r\n          :renderPreviewShortPlayUrl=\"renderPreviewShortPlayUrl\"\r\n          @switchToPrevious=\"switchToPrevious\"\r\n          @switchToNext=\"switchToNext\"\r\n          @stopResize=\"stopResize\"\r\n          @generateVideo=\"generateVideo(ruleFormRef)\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <!-- 选择素材弹窗 -->\r\n    <ComSelectDialog\r\n      v-if=\"selectDialogVisible\"\r\n      ref=\"comSelectDialogRef\"\r\n      :title=\"dialogTitle\"\r\n      :tabType=\"tabType\"\r\n      :count=\"isGroupSelection ? 1 : readFormData.count\"\r\n      :propCheckedList=\"getCheckedListByType(tabType)\"\r\n      :propComponentList=\"getComponentListByType(tabType)\"\r\n      :propTagsObject=\"tagsObject\"\r\n      :propActiveTabType=\"getActiveTabByType(tabType)\"\r\n      @submit=\"transferCheckedList\"\r\n      @closeDialog=\"handleCloseDialog\"\r\n      :isFromReading=\"true\"\r\n      :isGroupSelection=\"isGroupSelection\"\r\n    />\r\n\r\n    <!-- 新增素材 -->\r\n    <ComMaterialAdd\r\n      ref=\"createVideoRef\"\r\n      @submitForm=\"transferHandleSubmitFormRes\"\r\n      :v-loading=\"uploadLoading\"\r\n      :propUploadTypeChange=\"propUploadTypeChange\"\r\n      :propUploadTypeDisabled=\"propUploadTypeDisabled\"\r\n    />\r\n    <!-- 新增素材-小说 -->\r\n    <ComNovelAdd\r\n      ref=\"createNovelRef\"\r\n      @submitForm=\"handleSubmitNovelRes\"\r\n      :v-loading=\"uploadLoading\"\r\n    />\r\n  </el-card>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch, reactive, onMounted, onUnmounted, watchEffect, computed } from 'vue'\r\nimport bus from '@/utils/mitt.js'\r\nimport { ElMessage } from 'element-plus'\r\nimport { rgbaToArray } from '@/utils/utils.js'\r\nimport { useNovelStore } from '@/store/novelStore'\r\nimport PreviewSection from './components/PreviewSection.vue'\r\nimport ShortPlayPreviewSection from '../../../BatchShortPlay/components/ShortPlayPreviewSection.vue'\r\nimport FirstFrameSettings from './components/FirstFrameSettings.vue'\r\nimport { useTaskInitialization } from './useTaskInitialization'\r\nimport { useFormSubmit } from './useFormSubmit'\r\nimport { useMaterialUpload } from './useMaterialUpload'\r\nimport { useMaterialSelection } from './useMaterialSelection'\r\nimport { useWatchers } from './useWatchers'\r\nimport { arrayToRgba } from '@/utils/utils.js'\r\nimport { getFontFamily } from '@/utils/fontFamily'\r\nimport TextScrollSettings from './components/MainContentSection.vue'\r\n// import createVideo from '../ResourceListComponents/comMaterialAdd/index.vue'\r\n// import createNovel from '../ResourceListComponents/comNovelAdd/index.vue'\r\n// import comSelectDialog from '../comSelectDialog/index.vue'\r\nimport {ComSelectDialog, ComNovelAdd, ComMaterialAdd} from 'uchuang-resource-lib'\r\nimport TaskInfoCard from '../CreateTaskPublicComponents/TaskInfoCard.vue'\r\nimport MaterialsSection from './components/MaterialsSection.vue'\r\nimport GroupSection from '../CreateTaskPublicComponents/GroupSection.vue'\r\nimport NovelSelection from '../CreateTaskPublicComponents/NovelSelection.vue'\r\nimport ShortPlaySelection from '../../../BatchShortPlay/components/ShortPlaySelection.vue'\r\nimport { taskSourceEnum } from '@/utils/enums.js'\r\n\r\nconst { source } = defineProps({\r\n  // 任务类型\r\n  source: {\r\n    type: String,\r\n    default: 'novel'\r\n  }\r\n})\r\n\r\nconst novelStore = useNovelStore()\r\nconst baseUrl = import.meta.env.VITE_API_BASE_URL\r\nconst readFormData = reactive({\r\n  taskName: '',\r\n  // 选择小说部分\r\n  fontFamily: '',\r\n  novelFontSize: 35,\r\n  lineHeight: 1.5,\r\n  letterSpacing: 0,\r\n  paragraphSpacing: 56,\r\n  firstLineIndent: 2,\r\n  backgroundColor: 'rgba(255, 255, 255, 0)',\r\n  roundedCorners: true,\r\n  scrollStart: 0,\r\n  scrollDelay: 0,\r\n  scrollSpeed: 2.5,\r\n  volume: 1.0,\r\n  // 条数\r\n  count: 1,\r\n  // 固定组合数\r\n  groupCount: 0,\r\n  // 首帧视频标题\r\n  firstFrameVideo: [],\r\n  firstFrameKeepAudio: true,\r\n  // 音频列表\r\n  selectedAudio: '',\r\n  musicStartPosition: '首帧',\r\n  pre_video_volume: 1.0\r\n})\r\n\r\nconst selectedVideoNameInfo = ref({})\r\n\r\nconst fontFamilyOptions = ref([])\r\n\r\n// 视频缩放比例常量\r\nconst videoFontZoom = 4\r\nconst firstAndLastVideoZoom = 6\r\n\r\nconst currentFirstFrameIndex = ref(-1)\r\nconst currentLastFrameIndex = ref(-1)\r\nconst currentBackgroundIndex = ref(-1)\r\nconst currentStickerIndex = ref(-1)\r\nconst currentTextImageIndex = ref(-1)\r\nconst currentTextVideoIndex = ref(-1)\r\nconst currentShortPlayStickerIndex = ref(-1)\r\nconst currentShortPlayIndex = ref(-1)\r\nconst currentShortPlayLastFrameIndex = ref(-1)\r\n\r\nconst musicDbValue = computed({\r\n  get: () => {\r\n    // multiplier → dB（确保 novelVolume > 0）\r\n    return 20 * Math.log10(Math.max(0.0001, readFormData.volume))\r\n  },\r\n  set: (dB) => {\r\n    // dB → multiplier\r\n    readFormData.volume = Math.max(0.0001, Math.pow(10, dB / 20))\r\n  }\r\n})\r\n\r\nconst preVideoDbValue = computed({\r\n  get: () => {\r\n    // multiplier → dB（确保 novelVolume > 0）\r\n    return 20 * Math.log10(Math.max(0.0001, readFormData.pre_video_volume))\r\n  },\r\n  set: (dB) => {\r\n    // dB → multiplier\r\n    readFormData.pre_video_volume = Math.max(0.0001, Math.pow(10, dB / 20))\r\n  }\r\n})\r\n\r\n//勾选的数据\r\nconst checkedData = reactive({\r\n  checkedBackgroundList: [],\r\n  checkedFirstFrames: [],\r\n  checkedMusic: [],\r\n  checkedLastFrames: [],\r\n  checkedStickers: [],\r\n  checkedNovel: [],\r\n  checkedTextImages: [],\r\n  checkedTextVideos: [],\r\n  checkedShortPlay: [],\r\n  checkedShortPlayStickers: [],\r\n  checkedShortPlayLastFrames: []\r\n})\r\n\r\n// 添加组合相关的数据结构\r\nconst groupData = reactive({\r\n  groupStickers: [],\r\n  groupLastFrames: [],\r\n  groupTextImages: [],\r\n  groupTextVideos: [],\r\n  groupTextImageTexts: [],\r\n  groupTextVideoTexts: [],\r\n  groupNames: []\r\n})\r\n\r\n// 新增素材\r\nconst createVideoRef = ref(null)\r\n// 新增小说\r\nconst createNovelRef = ref(null)\r\n\r\nconst ruleFormRef = ref()\r\n\r\nconst tagValue = reactive({\r\n  novelTags: [], // 小说标签\r\n  firstFramesTags: [], // 首帧视频标签\r\n  backgroundTag: [], // 背景图标签\r\n  musicTag: [], // 背景音乐标签\r\n  stickersTags: [], // 贴图标签\r\n  textImageTags: [], // 带文字图片标签\r\n  lastFrameTag: [], // 尾帧视频标签\r\n  textVideoTags: [], // 带文字视频标签\r\n  shortPlayTag: [], // 短剧集标签\r\n  shortPlayStickersTag: [], // 短剧集贴图标签\r\n  shortPlayLastFrameTag: [] // 短剧集尾帧视频标签\r\n})\r\n\r\nconst componentList = reactive({\r\n  novelComponentList: [],\r\n  firstFramesComponentList: [],\r\n  backgroundComponentList: [],\r\n  musicComponentList: [],\r\n  stickersComponentList: [],\r\n  textImagesComponentList: [],\r\n  lastFramesComponentList: [],\r\n  textVideosComponentList: [],\r\n  shortPlayComponentList: [],\r\n  shortPlayStickersComponentList: [],\r\n  shortPlayLastFramesComponentList: []\r\n})\r\n\r\nconst activeTab = reactive({\r\n  novelActiveTab: '',\r\n  firstFramesActiveTab: '',\r\n  backgroundActiveTab: '',\r\n  musicActiveTab: '',\r\n  stickersActiveTab: '',\r\n  textImagesActiveTab: '',\r\n  lastFramesActiveTab: '',\r\n  textVideosActiveTab: '',\r\n  shortPlayActiveTab: '',\r\n  shortPlayStickersActiveTab: '',\r\n  shortPlayLastFramesActiveTab: ''\r\n})\r\n\r\nconst materialDates = reactive({\r\n  novel: { start_date: '', end_date: '' },\r\n  firstFrames: { start_date: '', end_date: '' },\r\n  background: { start_date: '', end_date: '' },\r\n  music: { start_date: '', end_date: '' },\r\n  stickers: { start_date: '', end_date: '' },\r\n  textImage: { start_date: '', end_date: '' },\r\n  lastFrames: { start_date: '', end_date: '' },\r\n  textVideo: { start_date: '', end_date: '' },\r\n  shortPlay: { start_date: '', end_date: '' },\r\n  shortPlayStickers: { start_date: '', end_date: '' },\r\n  shortPlayLastFrames: { start_date: '', end_date: '' }\r\n})\r\n\r\nconst isFromMaterialChecked = reactive({\r\n  novel: true,\r\n  firstFrames: true,\r\n  background: true,\r\n  music: true,\r\n  stickers: true,\r\n  textImage: true,\r\n  lastFrames: true,\r\n  textVideo: true,\r\n  shortPlay: true,\r\n  shortPlayStickers: true,\r\n  shortPlayLastFrames: true\r\n})\r\n\r\n// 文本配置相关状态\r\nconst showTextConfig = ref(false)\r\n// 标题配置相关状态\r\nconst showTitleConfig = ref(false)\r\n// 素材配置相关状态\r\nconst showMaterialConfig = ref(false)\r\n// 组合配置相关状态\r\nconst showGroupConfig = ref(true)\r\n\r\nconst showTopTitleConfig = ref(false)\r\n\r\nconst mainSearchBoxText = ref('')\r\nconst endSearchBoxText = ref('')\r\n\r\nconst mainContentRef = ref(null)\r\n\r\nonMounted(() => {\r\n  if (mainContentRef.value) {\r\n    formSubmit.setLoadConfigFn(mainContentRef.value.loadSavedConfigs)\r\n  }\r\n})\r\n\r\nconst loadMusicConfig = () => {\r\n  const savedMusicVolume = localStorage.getItem('readFormDataMusicVolume')\r\n  if (savedMusicVolume) {\r\n    readFormData.volume = JSON.parse(savedMusicVolume)\r\n  }\r\n}\r\n\r\nconst handleLoadTitleTextConfig = () => {\r\n  // 接口数组回显\r\n  const titleTextInfo = JSON.parse(localStorage.getItem('titleTextInfo'))\r\n  if (titleTextInfo) {\r\n    const newTitleInfo = titleTextInfo.firstFrameVideo.map((item) => {\r\n      return {\r\n        ...item,\r\n        background_color: arrayToRgba(item.background_color),\r\n        fill: arrayToRgba(item.fill),\r\n        stroke_fill: arrayToRgba(item.stroke_fill)\r\n      }\r\n    })\r\n    const info = {\r\n      firstFrameVideo: newTitleInfo\r\n    }\r\n    Object.assign(readFormData, info)\r\n  }\r\n}\r\n\r\nonMounted(async () => {\r\n  await getFontFamily({ baseUrl, fontFamilyOptions, formData: readFormData })\r\n  // 音乐配置\r\n  loadMusicConfig()\r\n  // 标题配置\r\n  if (source === taskSourceEnum.NOVEL) {\r\n    handleLoadTitleTextConfig()\r\n  }\r\n  initializeTaskData()\r\n  bus.on('jumpToNovelTask', (val) => {\r\n    if (val.category === 'ReadingSimu') {\r\n      initializeTaskData()\r\n    }\r\n  })\r\n  bus.on('jumpToShortPlayTask', () => {\r\n    initializeTaskData()\r\n  })\r\n})\r\n\r\nconst isGroupModeActive = computed(() => formSubmit.isGroupModeActive.value)\r\nconst currentUploadType = ref('')\r\n\r\nconst {\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewBackgroundUrl,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextVideoUrl,\r\n  renderPreviewShortPlayUrl,\r\n  renderPreviewShortPlayStickerUrl,\r\n  renderPreviewShortPlayLastFrameUrl,\r\n  initializeTaskData,\r\n  renderPreviewBackgroundPosition,\r\n  renderPreviewBackgroundNeedMask,\r\n  renderPreviewBackgroundTextFill,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewBackgroundId,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoId,\r\n  renderPreviewShortPlayId,\r\n  renderPreviewShortPlayStickerId,\r\n  renderPreviewShortPlayLastFrameId\r\n} = useTaskInitialization(\r\n  readFormData,\r\n  checkedData,\r\n  currentFirstFrameIndex,\r\n  currentLastFrameIndex,\r\n  currentBackgroundIndex,\r\n  currentTextVideoIndex,\r\n  groupData,\r\n  mainSearchBoxText,\r\n  endSearchBoxText,\r\n  currentShortPlayStickerIndex\r\n)\r\n\r\n// 使用useMaterialSelection钩子\r\nconst {\r\n  selectDialogVisible,\r\n  dialogTitle,\r\n  tabType,\r\n  tagsObject,\r\n  isGroupSelection,\r\n  currentGroupIndex,\r\n  selectMaterial,\r\n  handleSelectGroupMaterial,\r\n  getCheckedListByType,\r\n  getComponentListByType,\r\n  getActiveTabByType,\r\n  transferCheckedList,\r\n  handleCloseDialog\r\n} = useMaterialSelection(\r\n  readFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  componentList,\r\n  activeTab,\r\n  isFromMaterialChecked,\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewBackgroundUrl,\r\n  renderPreviewBackgroundId,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoUrl,\r\n  renderPreviewTextVideoId,\r\n  renderPreviewShortPlayUrl,\r\n  renderPreviewShortPlayId,\r\n  renderPreviewShortPlayStickerUrl,\r\n  renderPreviewShortPlayStickerId,\r\n  renderPreviewShortPlayLastFrameUrl,\r\n  renderPreviewShortPlayLastFrameId,\r\n  currentFirstFrameIndex,\r\n  currentBackgroundIndex,\r\n  currentLastFrameIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex,\r\n  currentShortPlayStickerIndex,\r\n  renderPreviewBackgroundPosition,\r\n  renderPreviewBackgroundNeedMask,\r\n  renderPreviewBackgroundTextFill,\r\n  isGroupModeActive,\r\n  groupData,\r\n  ruleFormRef\r\n)\r\n\r\nconst transferHandleSubmitFormRes = (data) => {\r\n  handleSubmitFormRes(data, (num) => {\r\n    createVideoRef.value?.handleUploadProgress(num)\r\n  })\r\n}\r\n\r\n// 使用useMaterialUpload钩子\r\nconst {\r\n  uploadLoading,\r\n  uploadMaterial,\r\n  handleSubmitFormRes,\r\n  handleSubmitNovelRes,\r\n  propUploadTypeDisabled,\r\n  propUploadTypeChange\r\n} = useMaterialUpload(\r\n  readFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  groupData,\r\n  isFromMaterialChecked,\r\n  currentUploadType,\r\n  currentGroupIndex,\r\n  isGroupModeActive,\r\n  createVideoRef,\r\n  createNovelRef,\r\n  ruleFormRef,\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewBackgroundUrl,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextVideoUrl,\r\n  renderPreviewShortPlayUrl,\r\n  renderPreviewShortPlayStickerUrl,\r\n  renderPreviewShortPlayLastFrameUrl,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewBackgroundId,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoId,\r\n  renderPreviewShortPlayId,\r\n  renderPreviewShortPlayStickerId,\r\n  renderPreviewShortPlayLastFrameId,\r\n  currentFirstFrameIndex,\r\n  currentBackgroundIndex,\r\n  currentLastFrameIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex,\r\n  currentShortPlayStickerIndex,\r\n  currentShortPlayIndex,\r\n  currentShortPlayLastFrameIndex,\r\n  renderPreviewBackgroundPosition,\r\n  renderPreviewBackgroundNeedMask,\r\n  renderPreviewBackgroundTextFill,\r\n  source\r\n)\r\n\r\nconst openTitleSettings = () => {\r\n  // 打开标题设置\r\n  showTitleConfig.value = true\r\n  // 如果其他设置卡片是打开的，可以选择关闭它们\r\n  showMaterialConfig.value = false\r\n  showTextConfig.value = false\r\n  showTopTitleConfig.value = false\r\n}\r\n\r\nconst handleUpdateFormData = (newFormData) => {\r\n  Object.assign(readFormData, newFormData)\r\n}\r\n\r\n// 初始化表单验证和提交逻辑\r\nconst formSubmit = useFormSubmit(\r\n  readFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  groupData,\r\n  isFromMaterialChecked,\r\n  mainSearchBoxText,\r\n  endSearchBoxText,\r\n  bus,\r\n  fontFamilyOptions,\r\n  componentList,\r\n  activeTab,\r\n  handleLoadTitleTextConfig,\r\n  loadMusicConfig,\r\n  source,\r\n  selectedVideoNameInfo\r\n)\r\n\r\n// 使用useFormSubmit返回的值\r\nconst rules = formSubmit.rules\r\nconst createVideoDisabled = formSubmit.createVideoDisabled\r\nconst generateVideo = formSubmit.generateVideo\r\n// 其他函数直接从 formSubmit 中调用\r\n\r\nconst musicStartPositionOptions = [\r\n  { label: '正片', value: '正片' },\r\n  { label: '首帧', value: '首帧' }\r\n]\r\n\r\n// 创建计算属性用于展示\r\nconst displayTags = computed(() => {\r\n  return {\r\n    novelTags: [...(tagValue.novelTags?.shared || []), ...(tagValue.novelTags?.personal || [])],\r\n    firstFramesTags: [\r\n      ...(tagValue.firstFramesTags?.shared || []),\r\n      ...(tagValue.firstFramesTags?.personal || [])\r\n    ],\r\n    backgroundTag: [\r\n      ...(tagValue.backgroundTag?.shared || []),\r\n      ...(tagValue.backgroundTag?.personal || [])\r\n    ],\r\n    musicTag: [...(tagValue.musicTag?.shared || []), ...(tagValue.musicTag?.personal || [])],\r\n    stickersTags: [\r\n      ...(tagValue.stickersTags?.shared || []),\r\n      ...(tagValue.stickersTags?.personal || [])\r\n    ],\r\n    textImageTags: [\r\n      ...(tagValue.textImageTags?.shared || []),\r\n      ...(tagValue.textImageTags?.personal || [])\r\n    ],\r\n    lastFrameTag: [\r\n      ...(tagValue.lastFrameTag?.shared || []),\r\n      ...(tagValue.lastFrameTag?.personal || [])\r\n    ],\r\n    textVideoTags: [\r\n      ...(tagValue.textVideoTags?.shared || []),\r\n      ...(tagValue.textVideoTags?.personal || [])\r\n    ],\r\n    shortPlayTag: [\r\n      ...(tagValue.shortPlayTag?.shared || []),\r\n      ...(tagValue.shortPlayTag?.personal || [])\r\n    ],\r\n    shortPlayStickersTag: [\r\n      ...(tagValue.shortPlayStickersTag?.shared || []),\r\n      ...(tagValue.shortPlayStickersTag?.personal || [])\r\n    ],\r\n    shortPlayLastFrameTag: [\r\n      ...(tagValue.shortPlayLastFrameTag?.shared || []),\r\n      ...(tagValue.shortPlayLastFrameTag?.personal || [])\r\n    ]\r\n  }\r\n})\r\n\r\n// 监听checkedData各个数组的变化，当它们为空时重置对应的索引变量\r\nuseWatchers(\r\n  checkedData,\r\n  {\r\n    currentFirstFrameIndex,\r\n    currentLastFrameIndex,\r\n    currentBackgroundIndex,\r\n    currentStickerIndex,\r\n    currentTextImageIndex,\r\n    currentTextVideoIndex,\r\n    currentShortPlayStickerIndex\r\n  },\r\n  {\r\n    mainSearchBoxText,\r\n    endSearchBoxText\r\n  }\r\n)\r\n\r\nonUnmounted(() => {\r\n  novelStore.setTaskGenerateParams({})\r\n})\r\n\r\n// 标题折叠卡片控制\r\nconst toggleTitleConfig = () => {\r\n  showTitleConfig.value = !showTitleConfig.value\r\n  // 如果打开标题配置，自动折叠其他两个配置\r\n  if (showTitleConfig.value) {\r\n    showTextConfig.value = false\r\n    showMaterialConfig.value = showTopTitleConfig.value = false\r\n  }\r\n}\r\n\r\nconst buildVideoTitles = (titles = []) =>\r\n  titles.map((item) => ({\r\n    font_id: item.font_id,\r\n    font_size: item.font_size,\r\n    title_color_random: item.firstFrameColorMode,\r\n    fill: rgbaToArray(item.fill),\r\n    stroke_fill: rgbaToArray(item.stroke_fill),\r\n    stroke_width: item.stroke_width,\r\n    background_color: rgbaToArray(item.background_color),\r\n    y: item.y\r\n  }))\r\n\r\nconst handleSaveTitleTextConfig = () => {\r\n  const params = {\r\n    firstFrameVideo: buildVideoTitles(readFormData.firstFrameVideo)\r\n  }\r\n  localStorage.setItem('titleTextInfo', JSON.stringify(params))\r\n  ElMessage.success('配置已保存')\r\n}\r\n\r\nconst switchMaterial = (type, direction) => {\r\n  const config = {\r\n    firstFrame: {\r\n      data: checkedData.checkedFirstFrames,\r\n      currentIndex: currentFirstFrameIndex,\r\n      url: renderPreviewFirstFrameUrl,\r\n      id: renderPreviewFirstFrameId\r\n    },\r\n    lastFrame: {\r\n      data: checkedData.checkedLastFrames,\r\n      currentIndex: currentLastFrameIndex,\r\n      url: renderPreviewLastFrameUrl,\r\n      id: renderPreviewLastFrameId\r\n    },\r\n    background: {\r\n      data: checkedData.checkedBackgroundList,\r\n      currentIndex: currentBackgroundIndex,\r\n      url: renderPreviewBackgroundUrl,\r\n      id: renderPreviewBackgroundId,\r\n      extraUpdate: (index) => {\r\n        Object.assign(\r\n          renderPreviewBackgroundPosition,\r\n          checkedData.checkedBackgroundList[index]?.border\r\n        )\r\n        renderPreviewBackgroundNeedMask.value = checkedData.checkedBackgroundList[index]?.need_mask\r\n        renderPreviewBackgroundTextFill.value = checkedData.checkedBackgroundList[index]?.text_fill\r\n      }\r\n    },\r\n    stickers: {\r\n      data: checkedData.checkedStickers,\r\n      currentIndex: currentStickerIndex,\r\n      url: renderPreviewStickerUrl,\r\n      id: renderPreviewStickerId\r\n    },\r\n    textImage: {\r\n      data: checkedData.checkedTextImages,\r\n      currentIndex: currentTextImageIndex,\r\n      url: renderPreviewTextImageUrl,\r\n      id: renderPreviewTextImageId\r\n    },\r\n    textVideo: {\r\n      data: checkedData.checkedTextVideos,\r\n      currentIndex: currentTextVideoIndex,\r\n      url: renderPreviewTextVideoUrl,\r\n      id: renderPreviewTextVideoId\r\n    },\r\n    shortPlayStickers: {\r\n      data: checkedData.checkedShortPlayStickers,\r\n      currentIndex: currentShortPlayStickerIndex,\r\n      url: renderPreviewShortPlayStickerUrl,\r\n      id: renderPreviewShortPlayStickerId\r\n    }\r\n  }\r\n\r\n  const { data, currentIndex, url, id, extraUpdate } = config[type]\r\n  const maxIndex = data.length - 1\r\n  const newIndex =\r\n    direction === 'next'\r\n      ? Math.min(currentIndex.value + 1, maxIndex)\r\n      : Math.max(currentIndex.value - 1, 0)\r\n  if (newIndex === currentIndex.value || newIndex < 0 || newIndex > maxIndex) return\r\n\r\n  currentIndex.value = newIndex\r\n  const currentItem = data[newIndex]\r\n  url.value = currentItem.key_frame_url || currentItem.file_url\r\n  id.value = currentItem.id\r\n\r\n  if (extraUpdate) extraUpdate(newIndex)\r\n}\r\n\r\nconst switchToPrevious = (type) => switchMaterial(type, 'prev')\r\nconst switchToNext = (type) => switchMaterial(type, 'next')\r\n\r\n// 监听固定组合数变化，当固定组合数大于1时展开组合卡片\r\nwatch(\r\n  () => readFormData.groupCount,\r\n  (newVal) => {\r\n    if (newVal > 1) {\r\n      showGroupConfig.value = true\r\n    }\r\n  }\r\n)\r\n\r\nconst groupDataInfo = (info) => {\r\n  Object.assign(groupData, info)\r\n}\r\n\r\nonMounted(() => {\r\n  bus.on('updateBackgroundPreview', (updatedBackground) => {\r\n    // 找到当前显示在预览区域的背景图并更新它\r\n    if (\r\n      checkedData.checkedBackgroundList &&\r\n      checkedData.checkedBackgroundList.some((bg) => bg.id === updatedBackground.id)\r\n    ) {\r\n      // 更新当前选中的背景图\r\n      const index = checkedData.checkedBackgroundList.findIndex(\r\n        (bg) => bg.id === updatedBackground.id\r\n      )\r\n      if (index !== -1) {\r\n        checkedData.checkedBackgroundList[index] = { ...updatedBackground }\r\n      }\r\n    }\r\n  })\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use './index.scss';\r\n</style>\r\n","import { ref } from 'vue'\r\nimport { useNovelStore } from '@/store/novelStore'\r\nimport { arrayToRgba } from '@/utils/utils.js'\r\n\r\nexport function useTaskInitialization(\r\n  relaxFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  currentFirstFrameIndex,\r\n  currentUnzipVideoIndex,\r\n  currentTextVideoIndex,\r\n  currentLastFrameIndex,\r\n  groupData,\r\n  mainSearchBoxText,\r\n  endSearchBoxText\r\n) {\r\n  const novelStore = useNovelStore()\r\n  const renderPreviewFirstFrameUrl = ref('')\r\n  const renderPreviewVideoUrl = ref('')\r\n  const renderPreviewLastFrameUrl = ref('')\r\n  const renderPreviewStickerUrl = ref('')\r\n  const renderPreviewTextImageUrl = ref('')\r\n  const renderPreviewTextVideoUrl = ref('')\r\n\r\n  const renderPreviewFirstFrameId = ref('')\r\n  const renderPreviewVideoId = ref('')\r\n  const renderPreviewLastFrameId = ref('')\r\n  const renderPreviewStickerId = ref('')\r\n  const renderPreviewTextImageId = ref('')\r\n  const renderPreviewTextVideoId = ref('')\r\n\r\n  function transformData(data) {\r\n    const result = {\r\n      shared: [],\r\n      personal: []\r\n    }\r\n\r\n    data.forEach((item) => {\r\n      const transformedItem = {\r\n        value: item.id.toString(),\r\n        label: item.name,\r\n        type: 1,\r\n        parent_id: null\r\n      }\r\n\r\n      if (item.is_public) {\r\n        result.shared.push(transformedItem)\r\n      } else {\r\n        result.personal.push(transformedItem)\r\n      }\r\n    })\r\n\r\n    return result\r\n  }\r\n\r\n  const initializeTaskData = () => {\r\n    const { taskGenerateParams } = novelStore\r\n\r\n    if (!Object.keys(taskGenerateParams).length || taskGenerateParams.category !== 'Relaxation') {\r\n      return\r\n    }\r\n\r\n    console.log(taskGenerateParams, 'taskGenerateParams')\r\n\r\n    // 初始化 relaxFormData\r\n    relaxFormData.taskName = taskGenerateParams.name || ''\r\n\r\n    relaxFormData.fontFamily = taskGenerateParams.novel.font_id\r\n    relaxFormData.novelFontSize = taskGenerateParams.novel.font_size\r\n    relaxFormData.novelStrokeWidth = taskGenerateParams.novel.stroke_width\r\n    relaxFormData.novelColorMode = taskGenerateParams.novel.title_color_random\r\n    relaxFormData.novelForegroundColor = arrayToRgba(taskGenerateParams.novel.fill)\r\n    relaxFormData.novelBackgroundColor = arrayToRgba(taskGenerateParams.novel.background_color)\r\n    relaxFormData.novelStrokeColor = arrayToRgba(taskGenerateParams.novel.stroke_fill)\r\n    relaxFormData.novelTopMargin = taskGenerateParams.novel.y\r\n    relaxFormData.novelVolume = taskGenerateParams.novel.volume\r\n    relaxFormData.volume = taskGenerateParams.background_music?.volume || 0.5\r\n    relaxFormData.count = taskGenerateParams.generate_count\r\n    relaxFormData.groupCount = taskGenerateParams.group_count || 0\r\n    relaxFormData.pre_video_volume = taskGenerateParams.pre_video.volume || 0.5\r\n\r\n    // 初始化 checkedData\r\n    checkedData.checkedNovel = taskGenerateParams.materials.filter(\r\n      (item) => item.category === '小说'\r\n    )\r\n    checkedData.checkedFirstFrames = taskGenerateParams.materials.filter(\r\n      (item) => item.category === '首帧视频'\r\n    )\r\n\r\n    // 置顶视频\r\n    checkedData.checkedTopVideo = taskGenerateParams.top_main_video.id_list\r\n      ?.map((id) => {\r\n        const material = taskGenerateParams.materials.find((m) => m.id === id)\r\n        return material ? { ...material } : null\r\n      })\r\n      .filter(Boolean)\r\n\r\n    const historyMusicList = taskGenerateParams.materials.filter(\r\n      (item) => item.category === '背景音乐'\r\n    )\r\n\r\n    const totalHistoryMusicList = historyMusicList?.map((item) => {\r\n      return {\r\n        id: item.id,\r\n        is_public: item.is_public,\r\n        name: item.name,\r\n        file_id: item.file_id,\r\n        file_url: item.file_url,\r\n        duration: item.duration,\r\n        tags: item.tags,\r\n        create_time: item.create_time\r\n      }\r\n    })\r\n    checkedData.checkedMusic = totalHistoryMusicList\r\n\r\n    if (relaxFormData.groupCount === 0) {\r\n      checkedData.checkedStickers = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '贴片'\r\n      )\r\n      checkedData.checkedLastFrames = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '尾帧视频'\r\n      )\r\n\r\n      checkedData.checkedTextImages = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '模板图片'\r\n      )\r\n      checkedData.checkedTextVideos = taskGenerateParams.materials.filter(\r\n        (item) => item.category === '模板视频'\r\n      )\r\n      mainSearchBoxText.value = taskGenerateParams.template_image?.text || ''\r\n      endSearchBoxText.value = taskGenerateParams.template_video?.text || ''\r\n    }\r\n\r\n    checkedData.checkedVideo = taskGenerateParams.materials.filter(\r\n      (item) => item.category === '解压视频'\r\n    )\r\n\r\n    // 解压视频\r\n    checkedData.checkedVideo = taskGenerateParams.main_video.id_list\r\n      ?.map((id) => {\r\n        const material = taskGenerateParams.materials.find((m) => m.id === id)\r\n        return material ? { ...material } : null\r\n      })\r\n      .filter(Boolean)\r\n\r\n    // 首帧视频标题\r\n    relaxFormData.firstFrameVideo = taskGenerateParams.pre_video_titles.map((item) => {\r\n      return {\r\n        font_id: item.font_id,\r\n        text: item.text ?? '',\r\n        font_size: item.font_size,\r\n        stroke_width: item.stroke_width,\r\n        fill: arrayToRgba(item.fill),\r\n        background_color: arrayToRgba(item.background_color),\r\n        stroke_fill: arrayToRgba(item.stroke_fill),\r\n        y: item.y,\r\n        firstFrameColorMode: item.title_color_random\r\n      }\r\n    })\r\n\r\n    // 固定标题\r\n    relaxFormData.fixedTitle = taskGenerateParams.main_titles.map((item) => {\r\n      return {\r\n        font_id: item.font_id,\r\n        text: item.text ?? '',\r\n        font_size: item.font_size,\r\n        stroke_width: item.stroke_width,\r\n        fill: arrayToRgba(item.fill),\r\n        background_color: arrayToRgba(item.background_color),\r\n        stroke_fill: arrayToRgba(item.stroke_fill),\r\n        y: item.y,\r\n        fixTitleColorMode: item.title_color_random\r\n      }\r\n    })\r\n\r\n    relaxFormData.musicStartPosition = taskGenerateParams.background_music?.start_position\r\n\r\n    // 初始化预览 URL\r\n    renderPreviewFirstFrameUrl.value =\r\n      (checkedData.checkedFirstFrames && checkedData.checkedFirstFrames[0]?.key_frame_url) || ''\r\n    renderPreviewVideoUrl.value =\r\n      (checkedData.checkedVideo && checkedData.checkedVideo[0]?.key_frame_url) || ''\r\n    renderPreviewLastFrameUrl.value =\r\n      (checkedData.checkedLastFrames && checkedData.checkedLastFrames[0]?.key_frame_url) || ''\r\n    renderPreviewStickerUrl.value =\r\n      (checkedData.checkedStickers && checkedData.checkedStickers[0]?.file_url) || ''\r\n    renderPreviewTextImageUrl.value =\r\n      (checkedData.checkedTextImages && checkedData.checkedTextImages[0]?.file_url) || ''\r\n    renderPreviewTextVideoUrl.value =\r\n      (checkedData.checkedTextVideos && checkedData.checkedTextVideos[0]?.key_frame_url) || ''\r\n\r\n    renderPreviewFirstFrameId.value =\r\n      (checkedData.checkedFirstFrames && checkedData.checkedFirstFrames[0]?.id) || 0\r\n    renderPreviewVideoId.value = (checkedData.checkedVideo && checkedData.checkedVideo[0]?.id) || 0\r\n    renderPreviewLastFrameId.value =\r\n      (checkedData.checkedLastFrames && checkedData.checkedLastFrames[0]?.id) || 0\r\n    renderPreviewStickerId.value =\r\n      (checkedData.checkedStickers && checkedData.checkedStickers[0]?.id) || 0\r\n    renderPreviewTextImageId.value =\r\n      (checkedData.checkedTextImages && checkedData.checkedTextImages[0]?.id) || 0\r\n    renderPreviewTextVideoId.value =\r\n      (checkedData.checkedTextVideos && checkedData.checkedTextVideos[0]?.id) || 0\r\n\r\n    // 标签回显\r\n    const unzipVideoTagList = taskGenerateParams.tags?.filter((item) => {\r\n      return item.category === '解压视频'\r\n    })\r\n\r\n    const transformedData = transformData(unzipVideoTagList)\r\n    tagValue.unzipVideoTag = transformedData\r\n\r\n    // 解压视频时间回显\r\n    materialDates.video.start_date = taskGenerateParams.main_video?.start_date || ''\r\n    materialDates.video.end_date = taskGenerateParams.main_video?.end_date || ''\r\n\r\n    // 切换index回显\r\n    if (checkedData.checkedFirstFrames.length) {\r\n      currentFirstFrameIndex.value = 0\r\n    }\r\n    if (checkedData.checkedVideo.length) {\r\n      currentUnzipVideoIndex.value = 0\r\n    }\r\n    if (checkedData.checkedTextVideos.length) {\r\n      currentTextVideoIndex.value = 0\r\n    }\r\n    if (checkedData.checkedLastFrames.length) {\r\n      currentLastFrameIndex.value = 0\r\n    }\r\n\r\n    // 初始化组合数据\r\n    // 创建材料ID到材料对象的映射，方便查找\r\n    const materialsMap = {}\r\n    taskGenerateParams.materials.forEach((material) => {\r\n      materialsMap[material.id] = material\r\n    })\r\n\r\n    if (relaxFormData.groupCount > 0) {\r\n      // 初始化组合数据\r\n      groupData.groupStickers = taskGenerateParams.material_group.map((item) => {\r\n        if (item.sticker_id === undefined || item.sticker_id === null) {\r\n          return []\r\n        } else {\r\n          const material = materialsMap[item.sticker_id]\r\n          return material ? [material] : []\r\n        }\r\n      })\r\n\r\n      groupData.groupLastFrames = taskGenerateParams.material_group.map((item) => {\r\n        if (item.post_video_id === undefined || item.post_video_id === null) {\r\n          return []\r\n        } else {\r\n          const material = materialsMap[item.post_video_id]\r\n          return material ? [material] : []\r\n        }\r\n      })\r\n\r\n      groupData.groupTextImages = taskGenerateParams.material_group.map((item) => {\r\n        if (item.template_image_id === undefined || item.template_image_id === null) {\r\n          return []\r\n        } else {\r\n          const material = materialsMap[item.template_image_id]\r\n          return material ? [material] : []\r\n        }\r\n      })\r\n\r\n      groupData.groupTextVideos = taskGenerateParams.material_group.map((item) => {\r\n        if (item.template_video_id === undefined || item.template_video_id === null) {\r\n          return []\r\n        } else {\r\n          const material = materialsMap[item.template_video_id]\r\n          return material ? [material] : []\r\n        }\r\n      })\r\n\r\n      groupData.groupTextImageTexts = taskGenerateParams.material_group.map((item) => {\r\n        return item.template_image_text || ''\r\n      })\r\n\r\n      groupData.groupTextVideoTexts = taskGenerateParams.material_group.map((item) => {\r\n        return item.template_video_text || ''\r\n      })\r\n\r\n      // 初始化组合名称\r\n      groupData.groupNames = taskGenerateParams.material_group.map((item, index) => {\r\n        return item.group_name || `组合 ${index + 1}`\r\n      })\r\n\r\n      // 清除非组合的贴图和尾帧\r\n      checkedData.checkedStickers = []\r\n      checkedData.checkedLastFrames = []\r\n      checkedData.checkedTextImages = []\r\n      checkedData.checkedTextVideos = []\r\n      mainSearchBoxText.value = ''\r\n      endSearchBoxText.value = ''\r\n    } else {\r\n      // 当 groupCount 为 0 时，初始化空的组合数据\r\n      groupData.groupStickers = []\r\n      groupData.groupLastFrames = []\r\n      groupData.groupTextImages = []\r\n      groupData.groupTextVideos = []\r\n      groupData.groupTextImageTexts = []\r\n      groupData.groupTextVideoTexts = []\r\n      groupData.groupNames = []\r\n    }\r\n  }\r\n\r\n  return {\r\n    renderPreviewFirstFrameUrl,\r\n    renderPreviewVideoUrl,\r\n    renderPreviewLastFrameUrl,\r\n    renderPreviewStickerUrl,\r\n    renderPreviewTextImageUrl,\r\n    renderPreviewTextVideoUrl,\r\n    initializeTaskData,\r\n    renderPreviewFirstFrameId,\r\n    renderPreviewVideoId,\r\n    renderPreviewLastFrameId,\r\n    renderPreviewStickerId,\r\n    renderPreviewTextImageId,\r\n    renderPreviewTextVideoId\r\n  }\r\n}\r\n","import { reactive, computed, ref } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { rgbaToArray } from '@/utils/utils.js'\r\nimport { generateRelaxedVideoRequest } from '@/service/novel'\r\n// import { useNovelStore } from '@/store/novelStore'\r\n\r\n/**\r\n * 表单验证和提交逻辑\r\n * @param {Object} relaxFormData - 表单数据\r\n * @param {Object} checkedData - 已选择的素材数据\r\n * @param {Object} tagValue - 标签值\r\n * @param {Object} materialDates - 素材日期\r\n * @param {Object} groupData - 组合数据\r\n * @param {Object} isFromMaterialChecked - 是否从素材库选择\r\n * @param {Object} mainSearchBoxText - 主搜索框文本\r\n * @param {Object} endSearchBoxText - 尾部搜索框文本\r\n * @param {Object} bus - 事件总线\r\n * @param {Object} fontFamilyOptions - 字体选项\r\n * @param {Function} loadTextConfig - 加载文本配置函数\r\n * @param {Function} loadMusicConfig - 加载音乐配置函数\r\n * @param {String} baseUrl - 基础URL\r\n * @returns {Object} - 表单验证和提交相关的函数和变量\r\n */\r\nexport function useFormSubmit(\r\n  relaxFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  groupData,\r\n  isFromMaterialChecked,\r\n  mainSearchBoxText,\r\n  endSearchBoxText,\r\n  bus,\r\n  fontFamilyOptions,\r\n  componentList,\r\n  activeTab,\r\n  loadTextConfig,\r\n  loadMusicConfig\r\n) {\r\n  // 初始化为false，表示按钮不禁用\r\n  const createVideoDisabled = ref(false)\r\n\r\n  let loadConfigFn = null\r\n\r\n  const setLoadConfigFn = (fn) => {\r\n    loadConfigFn = fn\r\n  }\r\n\r\n  // 验证视频选择\r\n  const validateVideo = (_rule, _value, callback) => {\r\n    if (!checkedData.checkedVideo?.length) {\r\n      callback(new Error('请选择解压视频'))\r\n    } else {\r\n      callback()\r\n    }\r\n  }\r\n\r\n  // 表单验证规则\r\n  const rules = reactive({\r\n    taskName: [{ required: true, message: '任务名称必填', trigger: 'blur' }],\r\n    fontFamily: [{ required: true, message: '请选择字体', trigger: 'change' }],\r\n    novelFontSize: [{ required: true, trigger: 'change' }],\r\n    novelForegroundColor: [{ required: true, trigger: 'change' }],\r\n    count: [{ required: true, trigger: 'change' }],\r\n    video: [{ validator: validateVideo, trigger: 'change' }]\r\n  })\r\n\r\n  // 获取组合中选择的贴图\r\n  const getGroupSelectedStickers = (groupIndex) => {\r\n    return groupData.groupStickers[groupIndex - 1] || []\r\n  }\r\n\r\n  // 获取组合中选择的尾帧\r\n  const getGroupSelectedLastFrames = (groupIndex) => {\r\n    return groupData.groupLastFrames[groupIndex - 1] || []\r\n  }\r\n\r\n  // 获取组合中选择的带文字图片\r\n  const getGroupSelectedTextImages = (groupIndex) => {\r\n    return groupData.groupTextImages[groupIndex - 1] || []\r\n  }\r\n\r\n  // 获取组合中选择的带文字视频\r\n  const getGroupSelectedTextVideos = (groupIndex) => {\r\n    return groupData.groupTextVideos[groupIndex - 1] || []\r\n  }\r\n\r\n  // 判断是否处于组合模式（组合数为2或3）\r\n  const isGroupModeActive = computed(() => {\r\n    return relaxFormData.groupCount === 2 || relaxFormData.groupCount === 3\r\n  })\r\n\r\n  // 验证所有必填字段\r\n  const validateAllRequiredFields = () => {\r\n    const errors = []\r\n\r\n    // 验证任务名称\r\n    if (!relaxFormData.taskName.trim()) {\r\n      errors.push('请输入任务名称')\r\n    }\r\n\r\n    // 验证小说选择\r\n    if (!checkedData.checkedNovel.length) {\r\n      errors.push('请选择小说')\r\n    }\r\n\r\n    // 验证背景图选择\r\n    if (!checkedData.checkedVideo.length) {\r\n      errors.push('请选择解压视频')\r\n    }\r\n\r\n    // 验证组合中的贴图和尾帧\r\n    if (relaxFormData.groupCount > 1) {\r\n      // 遍历每个组合\r\n      for (let i = 1; i <= relaxFormData.groupCount; i++) {\r\n        // 获取当前组的贴图和尾帧数据\r\n        const stickers = getGroupSelectedStickers(i)\r\n        const textImages = getGroupSelectedTextImages(i)\r\n        const lastFrames = getGroupSelectedLastFrames(i)\r\n        const textVideos = getGroupSelectedTextVideos(i)\r\n\r\n        // 检查贴图或带文字图片是否已选择\r\n        const hasStickersOrTextImages = stickers.length > 0 || textImages.length > 0\r\n        // 检查尾帧或带文字视频是否已选择\r\n        const hasLastFramesOrTextVideos = lastFrames.length > 0 || textVideos.length > 0\r\n\r\n        // 组合2需要4项必选（每组2项）\r\n        if (relaxFormData.groupCount === 2) {\r\n          if (!hasStickersOrTextImages) {\r\n            errors.push(`组合${i}请选择贴图`)\r\n          }\r\n          if (!hasLastFramesOrTextVideos) {\r\n            errors.push(`组合${i}请选择尾帧`)\r\n          }\r\n        }\r\n\r\n        // 组合3需要6项必选（每组2项）\r\n        if (relaxFormData.groupCount === 3) {\r\n          if (!hasStickersOrTextImages) {\r\n            errors.push(`组合${i}请选择贴图`)\r\n          }\r\n          if (!hasLastFramesOrTextVideos) {\r\n            errors.push(`组合${i}请选择尾帧`)\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return errors\r\n  }\r\n\r\n  // 生成视频\r\n  const generateVideo = async (formEl) => {\r\n    if (!formEl) return\r\n\r\n    // 先进行全面验证\r\n    const validationErrors = validateAllRequiredFields()\r\n    if (validationErrors.length > 0) {\r\n      // 显示所有验证错误\r\n      ElMessage.error(validationErrors.join('、'))\r\n      return\r\n    }\r\n\r\n    // 保存音乐的音量\r\n    const musicVolume = relaxFormData.volume\r\n    localStorage.setItem('relaxFormDataMusicVolume', JSON.stringify(musicVolume))\r\n\r\n    await formEl.validate(async (valid, fields) => {\r\n      if (valid) {\r\n        createVideoDisabled.value = true\r\n        // 辅助函数：合并 shared 和 personal 标签ID\r\n        const mergeTagIds = (tags) => {\r\n          return [\r\n            ...(tags?.shared?.map((item) => parseInt(item.value)) || []),\r\n            ...(tags?.personal?.map((item) => parseInt(item.value)) || [])\r\n          ]\r\n        }\r\n\r\n        // 创建material_group数组\r\n        let materialGroup = []\r\n        // 如果是组合模式，将组合数据转换为material_group格式\r\n        if (relaxFormData.groupCount > 1) {\r\n          // 只使用当前组合数量的组合数据，即使数组中可能有更多数据\r\n          // 例如：从组合3切换到组合2时，只使用前两个组合的数据\r\n          materialGroup = Array.from({ length: relaxFormData.groupCount }, (_, i) => {\r\n            // 获取组合名称，如果存在的话\r\n            const group_name = groupData.groupNames?.[i] || `组合 ${i + 1}`\r\n\r\n            return {\r\n              sticker_id: groupData.groupStickers[i]?.[0]?.id || undefined,\r\n              post_video_id: groupData.groupLastFrames[i]?.[0]?.id || undefined,\r\n              template_image_id: groupData.groupTextImages[i]?.[0]?.id || undefined,\r\n              template_image_text: groupData.groupTextImageTexts[i] || '',\r\n              template_video_id: groupData.groupTextVideos[i]?.[0]?.id || undefined,\r\n              template_video_text: groupData.groupTextVideoTexts[i] || '',\r\n              group_name: group_name\r\n            }\r\n          })\r\n        }\r\n\r\n        // console.log('submit!')\r\n        const obj = {\r\n          name: relaxFormData.taskName,\r\n          novel: {\r\n            text_id: checkedData.checkedNovel[0]?.id,\r\n            audio_file_id: checkedData.checkedNovel[0]?.audio_id,\r\n            volume: relaxFormData.novelVolume,\r\n            font_id: relaxFormData.fontFamily,\r\n            font_size: relaxFormData.novelFontSize,\r\n            stroke_width: relaxFormData.novelStrokeWidth,\r\n            title_color_random: relaxFormData.novelColorMode,\r\n            fill: rgbaToArray(relaxFormData.novelForegroundColor),\r\n            background_color: rgbaToArray(relaxFormData.novelBackgroundColor),\r\n            stroke_fill: rgbaToArray(relaxFormData.novelStrokeColor),\r\n            y: relaxFormData.novelTopMargin\r\n          },\r\n          generate_count: relaxFormData.count,\r\n          group_count: relaxFormData.groupCount,\r\n          main_video: {\r\n            id_list: checkedData.checkedVideo.map((item) => item.id),\r\n            tag_id_list: isFromMaterialChecked.video ? [] : mergeTagIds(tagValue.unzipVideoTag),\r\n            start_date: materialDates.video.start_date || '',\r\n            end_date: materialDates.video.end_date || ''\r\n          },\r\n          top_main_video: {\r\n            id_list: checkedData.checkedTopVideo.map((item) => item.id),\r\n            tag_id_list: isFromMaterialChecked.topVideo ? [] : mergeTagIds(tagValue.topVideoTags),\r\n            start_date: materialDates.topVideo.start_date || '',\r\n            end_date: materialDates.topVideo.end_date || ''\r\n          },\r\n          main_titles: relaxFormData.fixedTitle.map((item) => ({\r\n            text: item.text || '',\r\n            font_id: item.font_id,\r\n            font_size: item.font_size,\r\n            stroke_width: item.stroke_width,\r\n            y: item.y,\r\n            fill: rgbaToArray(item.fill),\r\n            background_color: rgbaToArray(item.background_color),\r\n            stroke_fill: rgbaToArray(item.stroke_fill),\r\n            title_color_random: item.fixTitleColorMode\r\n          })),\r\n          background_music: {\r\n            id_list: checkedData.checkedMusic.map((item) => item.id),\r\n            start_position: relaxFormData.musicStartPosition,\r\n            volume: relaxFormData.volume,\r\n            tag_id_list: isFromMaterialChecked.music ? [] : mergeTagIds(tagValue.musicTags),\r\n            start_date: materialDates.music.start_date || '',\r\n            end_date: materialDates.music.end_date || ''\r\n          },\r\n          sticker: {\r\n            id_list: isGroupModeActive.value\r\n              ? []\r\n              : checkedData.checkedStickers.map((item) => item.id),\r\n            tag_id_list: isGroupModeActive.value\r\n              ? []\r\n              : isFromMaterialChecked.stickers\r\n              ? []\r\n              : mergeTagIds(tagValue.stickersTags),\r\n            start_date: isGroupModeActive.value ? '' : materialDates.stickers.start_date || '',\r\n            end_date: isGroupModeActive.value ? '' : materialDates.stickers.end_date || ''\r\n          },\r\n          pre_video: {\r\n            id_list: checkedData.checkedFirstFrames.map((item) => item.id),\r\n            tag_id_list: isFromMaterialChecked.firstFrames\r\n              ? []\r\n              : mergeTagIds(tagValue.firstFramesTags),\r\n            start_date: materialDates.firstFrames.start_date || '',\r\n            end_date: materialDates.firstFrames.end_date || '',\r\n            volume: relaxFormData.pre_video_volume\r\n          },\r\n          pre_video_titles: checkedData.checkedFirstFrames.length\r\n            ? relaxFormData.firstFrameVideo.map((item) => ({\r\n                text: item.text || '',\r\n                font_id: item.font_id,\r\n                font_size: item.font_size,\r\n                stroke_width: item.stroke_width,\r\n                fill: rgbaToArray(item.fill),\r\n                background_color: rgbaToArray(item.background_color),\r\n                stroke_fill: rgbaToArray(item.stroke_fill),\r\n                y: item.y,\r\n                title_color_random: item.firstFrameColorMode\r\n              }))\r\n            : [],\r\n          post_video: {\r\n            id_list: isGroupModeActive.value\r\n              ? []\r\n              : checkedData.checkedLastFrames.map((item) => item.id),\r\n            tag_id_list: isGroupModeActive.value\r\n              ? []\r\n              : isFromMaterialChecked.lastFrames\r\n              ? []\r\n              : mergeTagIds(tagValue.lastFrameTags),\r\n            start_date: isGroupModeActive.value ? '' : materialDates.lastFrames.start_date || '',\r\n            end_date: isGroupModeActive.value ? '' : materialDates.lastFrames.end_date || ''\r\n          },\r\n          template_image: {\r\n            id_list: isGroupModeActive.value\r\n              ? []\r\n              : checkedData.checkedTextImages.map((item) => item.id),\r\n            tag_id_list: isGroupModeActive.value\r\n              ? []\r\n              : isFromMaterialChecked.textImage\r\n              ? []\r\n              : mergeTagIds(tagValue.textImageTags),\r\n            text: mainSearchBoxText.value,\r\n            start_date: isGroupModeActive.value ? '' : materialDates.textImage.start_date || '',\r\n            end_date: isGroupModeActive.value ? '' : materialDates.textImage.end_date || ''\r\n          },\r\n          template_video: {\r\n            id_list: isGroupModeActive.value\r\n              ? []\r\n              : checkedData.checkedTextVideos.map((item) => item.id),\r\n            tag_id_list: isGroupModeActive.value\r\n              ? []\r\n              : isFromMaterialChecked.textVideo\r\n              ? []\r\n              : mergeTagIds(tagValue.textVideoTags),\r\n            text: endSearchBoxText.value,\r\n            start_date: isGroupModeActive.value ? '' : materialDates.textVideo.start_date || '',\r\n            end_date: isGroupModeActive.value ? '' : materialDates.textVideo.end_date || ''\r\n          },\r\n          // 新的组合数据格式\r\n          material_group: materialGroup\r\n        }\r\n\r\n        console.log(obj, 'obj')\r\n        try {\r\n          const response = await generateRelaxedVideoRequest(obj)\r\n          if (response.code === 0) {\r\n            ElMessage.success('已加入任务列表')\r\n            formEl.resetFields()\r\n            resetAll()\r\n            bus.emit('jumpToHistoryTask')\r\n            bus.emit('refreshHistoryList')\r\n            createVideoDisabled.value = false\r\n          } else {\r\n            if (response.code === 10020) {\r\n              ElMessage.error(response.message)\r\n            } else {\r\n              ElMessage.error('视频生成失败，请重试')\r\n            }\r\n            createVideoDisabled.value = false\r\n            throw new Error(response.message)\r\n          }\r\n        } catch (error) {\r\n          console.error(error)\r\n          createVideoDisabled.value = false\r\n        }\r\n      } else {\r\n        console.log('error submit!', fields)\r\n        ElMessage.error('表单信息不完整')\r\n      }\r\n    })\r\n  }\r\n\r\n  // 重置所有数据\r\n  const resetAll = () => {\r\n    // 清空勾选项目\r\n    bus.emit('resetNovelAllChecked')\r\n\r\n    // const novelStore = useNovelStore()\r\n\r\n    Object.assign(relaxFormData, {\r\n      taskName: '',\r\n      // 选择小说部分\r\n      fontFamily:\r\n        fontFamilyOptions.value.find(\r\n          (item) => item.name.split('.').slice(0, -1).join('.') === '方正黑体简体'\r\n        )?.id || fontFamilyOptions.value[0].id,\r\n      novelFontSize: 35,\r\n      lineHeight: 1.5,\r\n      scrollStart: 0,\r\n      novelStrokeWidth: 2,\r\n      novelColorMode: false,\r\n      novelForegroundColor: 'rgba(255, 255, 255, 1)',\r\n      novelBackgroundColor: 'rgba(255, 255, 0, 1)',\r\n      novelStrokeColor: 'rgba(0, 0, 0, 1)',\r\n      novelTopMargin: 0.7,\r\n      novelVolume: 1.0,\r\n      count: 1,\r\n      groupCount: 0,\r\n      firstFrameVideo: [],\r\n      firstFrameKeepAudio: true,\r\n      selectedAudio: '',\r\n      musicStartPosition: '首帧',\r\n      fixedTitle: [],\r\n      previewUnzipVideoList: [],\r\n      template: '',\r\n      volume: 1.0,\r\n      pre_video_volume: 1.0\r\n    })\r\n\r\n    // 清除勾选的素材\r\n    for (const key in checkedData) {\r\n      if (Object.prototype.hasOwnProperty.call(checkedData, key)) {\r\n        checkedData[key] = []\r\n      }\r\n    }\r\n\r\n    // 清除标签的选中\r\n    for (const key in tagValue) {\r\n      if (Object.prototype.hasOwnProperty.call(tagValue, key)) {\r\n        tagValue[key] = { shared: [], personal: [] }\r\n      }\r\n    }\r\n\r\n    for (const key in materialDates) {\r\n      materialDates[key].start_date = ''\r\n      materialDates[key].end_date = ''\r\n    }\r\n\r\n    // 清除组件列表\r\n    for (const key in componentList) {\r\n      componentList[key] = []\r\n    }\r\n\r\n    // 清除活动标签\r\n\r\n    for (const key in activeTab) {\r\n      activeTab[key] = ''\r\n    }\r\n\r\n    for (const key in isFromMaterialChecked) {\r\n      isFromMaterialChecked[key] = true\r\n    }\r\n\r\n    for (const key in groupData) {\r\n      groupData[key] = []\r\n    }\r\n\r\n    // 清空srtPreview的内容\r\n    const novelContentDiv = document.getElementById('srtPreview')\r\n    if (novelContentDiv) {\r\n      novelContentDiv.innerHTML = ''\r\n    }\r\n\r\n    loadTextConfig()\r\n    loadMusicConfig()\r\n\r\n    if (loadConfigFn) {\r\n      loadConfigFn()\r\n    }\r\n  }\r\n\r\n  return {\r\n    rules,\r\n    validateVideo,\r\n    validateAllRequiredFields,\r\n    generateVideo,\r\n    createVideoDisabled,\r\n    isGroupModeActive,\r\n    getGroupSelectedStickers,\r\n    getGroupSelectedLastFrames,\r\n    getGroupSelectedTextImages,\r\n    getGroupSelectedTextVideos,\r\n    resetAll,\r\n    setLoadConfigFn\r\n  }\r\n}\r\n","import { ref, reactive, computed } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { addNovelRequest, addMaterialsRequest } from '@/service/novel'\r\n\r\n/**\r\n * 素材上传相关逻辑\r\n * @param {Object} relaxFormData - 表单数据\r\n * @param {Object} checkedData - 已选择的素材数据\r\n * @param {Object} tagValue - 标签值\r\n * @param {Object} materialDates - 素材日期\r\n * @param {Object} groupData - 组合数据\r\n * @param {Object} isFromMaterialChecked - 是否从素材库选择\r\n * @param {Object} currentUploadType - 当前上传类型\r\n * @param {Object} currentGroupIndex - 当前组合索引\r\n * @param {Object} isGroupModeActive - 是否为组合模式\r\n * @param {Object} createVideoRef - 创建视频组件引用\r\n * @param {Object} createNovelRef - 创建小说组件引用\r\n * @param {Object} ruleFormRef - 表单引用\r\n * @param {Object} renderPreviewFirstFrameUrl - 首帧预览URL\r\n * @param {Object} renderPreviewVideoUrl - 视频预览URL\r\n * @param {Object} renderPreviewLastFrameUrl - 尾帧预览URL\r\n * @param {Object} renderPreviewStickerUrl - 贴图预览URL\r\n * @param {Object} renderPreviewTextImageUrl - 文字图片预览URL\r\n * @param {Object} renderPreviewTextVideoUrl - 文字视频预览URL\r\n * @param {Object} renderPreviewFirstFrameId - 首帧预览ID\r\n * @param {Object} renderPreviewVideoId - 视频预览ID\r\n * @param {Object} renderPreviewLastFrameId - 尾帧预览ID\r\n * @param {Object} renderPreviewStickerId - 贴图预览ID\r\n * @param {Object} renderPreviewTextImageId - 文字图片预览ID\r\n * @param {Object} renderPreviewTextVideoId - 文字视频预览ID\r\n * @param {Object} currentFirstFrameIndex - 当前首帧索引\r\n * @param {Object} currentUnzipVideoIndex - 当前解压视频索引\r\n * @param {Object} currentLastFrameIndex - 当前尾帧索引\r\n * @param {Object} currentStickerIndex - 当前贴图索引\r\n * @param {Object} currentTextImageIndex - 当前文字图片索引\r\n * @param {Object} currentTextVideoIndex - 当前文字视频索引\r\n * @returns {Object} - 素材上传相关的函数和变量\r\n */\r\nexport function useMaterialUpload(\r\n  relaxFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  groupData,\r\n  isFromMaterialChecked,\r\n  currentUploadType,\r\n  currentGroupIndex,\r\n  isGroupModeActive,\r\n  createVideoRef,\r\n  createNovelRef,\r\n  ruleFormRef,\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewVideoUrl,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextVideoUrl,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewVideoId,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoId,\r\n  currentFirstFrameIndex,\r\n  currentUnzipVideoIndex,\r\n  currentLastFrameIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex\r\n) {\r\n  // 上传相关状态\r\n  const uploadLoading = ref(false)\r\n  const currentUploadVideoType = ref('videoUpload')\r\n  const isGroupSelection = ref(false)\r\n\r\n  // 素材类型映射\r\n  const typeToCategoryMap = {\r\n    video: '解压视频',\r\n    background: '背景图片',\r\n    novel: '小说',\r\n    firstFrames: '首帧视频',\r\n    lastFrames: '尾帧视频',\r\n    stickers: '贴片',\r\n    music: '背景音乐',\r\n    textImage: '模板图片',\r\n    textVideo: '模板视频'\r\n  }\r\n\r\n  // 类型转换函数\r\n  const TypeToCategory = (type) => {\r\n    return typeToCategoryMap[type] || null // 如果类型不存在，返回 null\r\n  }\r\n\r\n  // 创建一个反转的映射\r\n  const categoryToTypeMap = {}\r\n  for (const key in typeToCategoryMap) {\r\n    const value = typeToCategoryMap[key]\r\n    categoryToTypeMap[value] = key\r\n  }\r\n\r\n  const categoryToType = (category) => {\r\n    if (category === '贴片') {\r\n      return 'stickers'\r\n    } else {\r\n      return categoryToTypeMap[category] || null\r\n    }\r\n  }\r\n\r\n  // 处理素材上传\r\n  const uploadMaterial = (param, isTopVideo) => {\r\n    // 判断参数是对象还是字符串\r\n    let tabType, groupIndex\r\n\r\n    if (typeof param === 'object' && param !== null) {\r\n      // 来自GroupSection组件的调用，包含组合索引\r\n      tabType = param.type\r\n      groupIndex = param.groupIndex\r\n\r\n      // 在组合模式下的组内上传，允许继续\r\n      console.log(`组合${groupIndex}上传${tabType}素材`)\r\n    } else {\r\n      // 来自其他组件的调用，只有类型\r\n      tabType = param\r\n\r\n      // 在组合模式下，禁止上传贴图和尾帧\r\n      if (\r\n        isGroupModeActive.value &&\r\n        (tabType === 'stickers' ||\r\n          tabType === 'lastFrames' ||\r\n          tabType === 'textImage' ||\r\n          tabType === 'textVideo')\r\n      ) {\r\n        ElMessage.warning(\r\n          `组合模式下，请在各个组合中上传${\r\n            tabType === 'stickers' || tabType === 'textImage' ? '贴图' : '尾帧'\r\n          }`\r\n        )\r\n        return\r\n      }\r\n    }\r\n\r\n    // 根据不同类型添加限制条件\r\n    if (typeof groupIndex !== 'undefined') {\r\n      // 组合内上传的限制条件\r\n      const groupIdx = groupIndex - 1 // 转换为数组索引\r\n\r\n      // 检查组合内的贴图和尾帧是否已满\r\n      if (tabType === 'stickers' || tabType === 'textImage') {\r\n        // 如果该组已有贴图或文字图片，且数量达到上限(组合只能选一张)\r\n        if (\r\n          groupData.groupStickers[groupIdx]?.length ||\r\n          groupData.groupTextImages[groupIdx]?.length\r\n        ) {\r\n          ElMessage.warning(`组合${groupIndex}的贴图数量已达上限`)\r\n          return\r\n        }\r\n      } else if (tabType === 'lastFrames' || tabType === 'textVideo') {\r\n        // 如果该组已有尾帧或文字视频，且数量达到上限\r\n        if (\r\n          groupData.groupLastFrames[groupIdx]?.length ||\r\n          groupData.groupTextVideos[groupIdx]?.length\r\n        ) {\r\n          ElMessage.warning(`组合${groupIndex}的尾帧数量已达上限`)\r\n          return\r\n        }\r\n      }\r\n\r\n      // 设置当前组合索引，用于上传后的处理\r\n      currentGroupIndex.value = groupIndex\r\n    } else {\r\n      // 非组合内上传的限制条件\r\n      const uploadDisabledConditions = {\r\n        novel: checkedData.checkedNovel.length,\r\n        firstFrames: relaxFormData.count === checkedData.checkedFirstFrames?.length,\r\n        lastFrames: relaxFormData.count === checkedData.checkedLastFrames?.length,\r\n        music: relaxFormData.count === checkedData.checkedMusic?.length,\r\n        textImage: relaxFormData.count === checkedData.checkedTextImages?.length,\r\n        textVideo: relaxFormData.count === checkedData.checkedTextVideos?.length,\r\n        video: relaxFormData.count * 10 === checkedData.checkedVideo?.length,\r\n        stickers: relaxFormData.count === checkedData.checkedStickers?.length\r\n      }\r\n      // 检查当前类型是否满足禁用条件\r\n      if (isTopVideo) {\r\n        if (checkedData.checkedTopVideo.length === 10) {\r\n          return\r\n        }\r\n      } else {\r\n        if (uploadDisabledConditions[tabType]) {\r\n          return // 如果满足禁用条件，直接返回不执行后续操作\r\n        }\r\n      }\r\n      // 重置组合索引\r\n      currentGroupIndex.value = 0\r\n    }\r\n\r\n    currentUploadType.value = tabType\r\n    let initDate = {\r\n      type: tabType,\r\n      title: ''\r\n    }\r\n    if (tabType == 'novel') {\r\n      if (checkedData.checkedNovel.length) return\r\n      initDate.title = '添加小说'\r\n      createNovelRef.value.init(initDate, true, [], TypeToCategory(tabType))\r\n    } else {\r\n      initDate.title = isTopVideo ? '添加置顶视频' : `添加${typeToCategoryMap[tabType]}`\r\n      createVideoRef.value.init(\r\n        initDate,\r\n        true,\r\n        TypeToCategory(tabType),\r\n        isTopVideo ? 10 - checkedData.checkedTopVideo.length : uploadLimit(tabType),\r\n        false\r\n      )\r\n    }\r\n\r\n    if (isTopVideo) {\r\n      currentUploadVideoType.value = 'topVideoUpload'\r\n    }\r\n  }\r\n\r\n  // 计算上传限制\r\n  const uploadLimit = (tabType) => {\r\n    const mapping = {\r\n      video: 'checkedVideo',\r\n      topVideo: 'checkedTopVideo',\r\n      firstFrames: 'checkedFirstFrames',\r\n      lastFrames: 'checkedLastFrames',\r\n      music: 'checkedMusic',\r\n      textImage: 'checkedTextImages',\r\n      textVideo: 'checkedTextVideos',\r\n      stickers: 'checkedStickers'\r\n    }\r\n    let limit\r\n    // 解压视频,选中上限为条数*10\r\n    if (tabType === 'video') {\r\n      limit = relaxFormData.count * 10 - checkedData[mapping[tabType]].length\r\n    } else {\r\n      limit = relaxFormData.count - checkedData[mapping[tabType]].length\r\n    }\r\n\r\n    // 如果是组合内上传，限制上传一个\r\n    if (currentGroupIndex.value > 0) {\r\n      return 1\r\n    }\r\n\r\n    return limit\r\n  }\r\n\r\n  // 处理上传后的素材添加\r\n  const addUploadCheckedList = (response, tabTypeRes) => {\r\n    // 1. 获取新上传的素材数据\r\n    let newMaterials\r\n    // 小说是response.data，其他是response.data.list\r\n    newMaterials = tabTypeRes ? response.data.list : [response.data]\r\n\r\n    // 2. 定义所有素材类型的配置\r\n    const targetConfig = {\r\n      novel: {\r\n        dataKey: 'checkedNovel',\r\n        // 小说不需要预览索引\r\n        extraUpdate: () => {\r\n          // 小说内容显示更新逻辑在原组件中\r\n        }\r\n      },\r\n      firstFrames: {\r\n        dataKey: 'checkedFirstFrames',\r\n        indexRef: currentFirstFrameIndex,\r\n        urlRef: renderPreviewFirstFrameUrl,\r\n        idRef: renderPreviewFirstFrameId\r\n      },\r\n      lastFrames: {\r\n        dataKey: 'checkedLastFrames',\r\n        indexRef: currentLastFrameIndex,\r\n        urlRef: renderPreviewLastFrameUrl,\r\n        idRef: renderPreviewLastFrameId\r\n      },\r\n      stickers: {\r\n        dataKey: 'checkedStickers',\r\n        indexRef: currentStickerIndex,\r\n        urlRef: renderPreviewStickerUrl,\r\n        idRef: renderPreviewStickerId\r\n      },\r\n      music: {\r\n        dataKey: 'checkedMusic'\r\n        // 音乐不需要预览索引\r\n      },\r\n      video: {\r\n        dataKey: 'checkedVideo',\r\n        indexRef: currentUnzipVideoIndex,\r\n        urlRef: renderPreviewVideoUrl,\r\n        idRef: renderPreviewVideoId\r\n      },\r\n      topVideo: {\r\n        dataKey: 'checkedTopVideo'\r\n        // 置顶视频不需要预览索引\r\n      },\r\n      textImage: {\r\n        dataKey: 'checkedTextImages',\r\n        indexRef: currentTextImageIndex,\r\n        urlRef: renderPreviewTextImageUrl,\r\n        idRef: renderPreviewTextImageId\r\n      },\r\n      textVideo: {\r\n        dataKey: 'checkedTextVideos',\r\n        indexRef: currentTextVideoIndex,\r\n        urlRef: renderPreviewTextVideoUrl,\r\n        idRef: renderPreviewTextVideoId\r\n      }\r\n    }\r\n\r\n    const type = categoryToType(tabTypeRes)\r\n\r\n    // 检查是否是组合内的上传\r\n    if (currentGroupIndex.value > 0) {\r\n      // 组合内上传，将新素材添加到对应组合的数组中\r\n      const groupIdx = currentGroupIndex.value - 1 // 转换为数组索引\r\n\r\n      // 根据素材类型将新素材添加到对应组合的数组中\r\n      if (type === 'stickers') {\r\n        // 如果该组合还没有贴图数组，创建一个空数组\r\n        if (!groupData.groupStickers[groupIdx]) {\r\n          groupData.groupStickers[groupIdx] = []\r\n        }\r\n        // 将新素材添加到该组合的贴图数组中\r\n        groupData.groupStickers[groupIdx] = [...groupData.groupStickers[groupIdx], ...newMaterials]\r\n        // ElMessage.success(`组合${currentGroupIndex.value}的贴图上传成功!`)\r\n      } else if (type === 'textImage') {\r\n        // 如果该组合还没有带文字图片数组，创建一个空数组\r\n        if (!groupData.groupTextImages[groupIdx]) {\r\n          groupData.groupTextImages[groupIdx] = []\r\n        }\r\n        // 将新素材添加到该组合的带文字图片数组中\r\n        groupData.groupTextImages[groupIdx] = [\r\n          ...groupData.groupTextImages[groupIdx],\r\n          ...newMaterials\r\n        ]\r\n        // 初始化文字图片文本\r\n        if (!groupData.groupTextImageTexts[groupIdx]) {\r\n          groupData.groupTextImageTexts[groupIdx] = ''\r\n        }\r\n        // ElMessage.success(`组合${currentGroupIndex.value}的带文字图片上传成功!`)\r\n      } else if (type === 'lastFrames') {\r\n        // 如果该组合还没有尾帧数组，创建一个空数组\r\n        if (!groupData.groupLastFrames[groupIdx]) {\r\n          groupData.groupLastFrames[groupIdx] = []\r\n        }\r\n        // 将新素材添加到该组合的尾帧数组中\r\n        groupData.groupLastFrames[groupIdx] = [\r\n          ...groupData.groupLastFrames[groupIdx],\r\n          ...newMaterials\r\n        ]\r\n        // ElMessage.success(`组合${currentGroupIndex.value}的尾帧上传成功!`)\r\n      } else if (type === 'textVideo') {\r\n        // 如果该组合还没有带文字视频数组，创建一个空数组\r\n        if (!groupData.groupTextVideos[groupIdx]) {\r\n          groupData.groupTextVideos[groupIdx] = []\r\n        }\r\n        // 将新素材添加到该组合的带文字视频数组中\r\n        groupData.groupTextVideos[groupIdx] = [\r\n          ...groupData.groupTextVideos[groupIdx],\r\n          ...newMaterials\r\n        ]\r\n        // 初始化文字视频文本\r\n        if (!groupData.groupTextVideoTexts[groupIdx]) {\r\n          groupData.groupTextVideoTexts[groupIdx] = ''\r\n        }\r\n        // ElMessage.success(`组合${currentGroupIndex.value}的带文字视频上传成功!`)\r\n      }\r\n    } else {\r\n      // 非组合内上传，处理方式不变\r\n      const config =\r\n        currentUploadVideoType.value === 'topVideoUpload'\r\n          ? targetConfig['topVideo']\r\n          : targetConfig[type || 'novel']\r\n      if (config) {\r\n        // 3. 将新素材添加到已选列表\r\n        checkedData[config.dataKey] = [...checkedData[config.dataKey], ...newMaterials]\r\n\r\n        // 4. 更新当前索引到最新上传的素材（如果有索引）\r\n        if (config.indexRef !== undefined) {\r\n          config.indexRef.value = checkedData[config.dataKey].length - 1\r\n          const currentItem = checkedData[config.dataKey][config.indexRef.value]\r\n\r\n          // 更新预览URL和ID\r\n          if (config.urlRef && config.idRef) {\r\n            config.urlRef.value = currentItem.key_frame_url || currentItem.file_url\r\n            config.idRef.value = currentItem.id\r\n          }\r\n\r\n          // 执行额外更新（如果有）\r\n          if (config.extraUpdate) {\r\n            config.extraUpdate()\r\n          }\r\n        } else if (config.extraUpdate) {\r\n          // 没有索引但有额外更新的情况（如小说）\r\n          config.extraUpdate()\r\n        }\r\n\r\n        // 5. 对需要验证的字段触发验证\r\n        if (['novel', 'video'].includes(currentUploadType.value)) {\r\n          const field = config.dataKey === 'checkedNovel' ? 'novel' : 'video'\r\n          ruleFormRef.value.validateField(field)\r\n        }\r\n\r\n        currentUploadVideoType.value = 'videoUpload'\r\n      }\r\n    }\r\n  }\r\n\r\n  // 新增素材返回\r\n  const handleSubmitFormRes = async (data) => {\r\n    const { uploadType } = data\r\n    let materialsFormInfo = new FormData()\r\n    if (data.fileData.length >= 1) {\r\n      data.fileData.forEach((file) => {\r\n        materialsFormInfo.append('file', file)\r\n      })\r\n    }\r\n    materialsFormInfo.append('category', uploadType)\r\n    materialsFormInfo.append('is_public', data.is_public)\r\n    if (data.tags.length >= 1) {\r\n      data.tags.forEach((tag) => {\r\n        materialsFormInfo.append('tag_ids', tag)\r\n      })\r\n    }\r\n    uploadLoading.value = true\r\n    const response = await addMaterialsRequest(false, materialsFormInfo)\r\n    if (response.code === 0) {\r\n      addUploadCheckedList(response, uploadType)\r\n\r\n      createVideoRef.value.init('', false, TypeToCategory(currentUploadType.value))\r\n      ElMessage.success('新增成功!')\r\n      uploadLoading.value = false\r\n      currentUploadType.value = ''\r\n    } else {\r\n      uploadLoading.value = false\r\n      currentUploadType.value = ''\r\n      throw new Error(response.message)\r\n    }\r\n  }\r\n\r\n  // 新增/编辑小说返回\r\n  const handleSubmitNovelRes = async (data) => {\r\n    uploadLoading.value = true\r\n    await addNovelRequest(data)\r\n      .then((res) => {\r\n        if (res.code === 0) {\r\n          addUploadCheckedList(res)\r\n          createNovelRef.value.init('', false, [], TypeToCategory(currentUploadType.value))\r\n          ElMessage.success('新增成功!')\r\n        } else {\r\n          ElMessage.error('新增失败!')\r\n          throw new Error(res.message)\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        ElMessage.error(error)\r\n        uploadLoading.value = false\r\n      })\r\n  }\r\n\r\n  // 计算上传类型变化\r\n  const propUploadTypeChange = computed(() => {\r\n    return (\r\n      currentUploadType.value === 'stickers' ||\r\n      currentUploadType.value === 'textImage' ||\r\n      currentUploadType.value === 'lastFrames' ||\r\n      currentUploadType.value === 'textVideo'\r\n    )\r\n  })\r\n\r\n  // 计算上传类型禁用状态\r\n  const propUploadTypeDisabled = computed(() => {\r\n    // 如果是通过组合卷轴进行选择，propUploadTypeDisabled一直返回false\r\n    if (isGroupModeActive.value) {\r\n      return false\r\n    }\r\n    if (currentUploadType.value === 'stickers' || currentUploadType.value === 'textImage') {\r\n      return checkedData.checkedStickers.length || checkedData.checkedTextImages.length\r\n    } else if (\r\n      currentUploadType.value === 'lastFrames' ||\r\n      currentUploadType.value === 'textVideo'\r\n    ) {\r\n      return checkedData.checkedLastFrames.length || checkedData.checkedTextVideos.length\r\n    }\r\n    return false\r\n  })\r\n\r\n  return {\r\n    uploadLoading,\r\n    currentUploadType,\r\n    currentUploadVideoType,\r\n    isGroupSelection,\r\n    uploadMaterial,\r\n    handleSubmitFormRes,\r\n    handleSubmitNovelRes,\r\n    propUploadTypeDisabled,\r\n    TypeToCategory,\r\n    categoryToType,\r\n    addUploadCheckedList,\r\n    propUploadTypeChange\r\n  }\r\n}\r\n","import { ref, reactive } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nexport function useMaterialSelection(\r\n  relaxFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  componentList,\r\n  activeTab,\r\n  isFromMaterialChecked,\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewVideoUrl,\r\n  renderPreviewVideoId,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoUrl,\r\n  renderPreviewTextVideoId,\r\n  currentFirstFrameIndex,\r\n  currentUnzipVideoIndex,\r\n  currentLastFrameIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex,\r\n  isGroupModeActive\r\n) {\r\n  const selectDialogVisible = ref(false)\r\n  const dialogTitle = ref('')\r\n  const tabType = ref('')\r\n  const videoFrom = ref('video')\r\n  const tagsObject = ref({})\r\n\r\n  // 处理素材选择\r\n  const handleMaterialSelect = ({ type, from }) => {\r\n    selectMaterial(type, from)\r\n  }\r\n\r\n  const selectMaterial = (type, from, isFromGroup = false) => {\r\n    // 在组合模式下，禁止选择贴图和尾帧（除非是从组合中选择）\r\n    if (\r\n      !isFromGroup &&\r\n      isGroupModeActive.value &&\r\n      (type === 'stickers' || type === 'lastFrames' || type === 'textImage' || type === 'textVideo')\r\n    ) {\r\n      ElMessage.warning(\r\n        `组合模式下，请在各个组合中选择${\r\n          type === 'stickers' || type === 'textImage' ? '贴图' : '尾帧'\r\n        }`\r\n      )\r\n      return\r\n    }\r\n\r\n    tabType.value = type\r\n    if (type === 'stickers' && checkedData.checkedTextImages.length) {\r\n      return\r\n    }\r\n    if (type === 'textImage' && checkedData.checkedStickers.length) {\r\n      return\r\n    }\r\n    if (type === 'lastFrames' && checkedData.checkedTextVideos.length) {\r\n      return\r\n    }\r\n    if (type === 'textVideo' && checkedData.checkedLastFrames.length) {\r\n      return\r\n    }\r\n\r\n    // 设置对话框标题和来源\r\n    const titleMap = {\r\n      novel: '选择小说',\r\n      video: '选择解压视频',\r\n      firstFrames: '选择首帧视频',\r\n      lastFrames: '选择尾帧视频',\r\n      music: '选择背景音乐',\r\n      stickers: '选择贴图',\r\n      textImage: '选择带文字图片库素材',\r\n      textVideo: '选择带文字视频库素材'\r\n    }\r\n    dialogTitle.value = titleMap[type] || '选择素材'\r\n    if (type === 'video' && from === 'top') {\r\n      dialogTitle.value = '选择置顶视频'\r\n    }\r\n\r\n    if (from === 'top') {\r\n      // 置顶视频\r\n      videoFrom.value = 'topVideo'\r\n    } else {\r\n      videoFrom.value = 'video'\r\n    }\r\n\r\n    // 根据点击的素材类型设置对应的标签列表\r\n    const tagsMap = {\r\n      novel: tagValue.novelTags, // 小说标签\r\n      firstFrames: tagValue.firstFramesTags, // 首帧视频标签\r\n      video: tagValue.unzipVideoTag, // 解压视频标签\r\n      topVideo: tagValue.topVideoTags, // 置顶视频标签\r\n      music: tagValue.musicTags, // 背景音乐标签\r\n      stickers: tagValue.stickersTags, // 贴图标签\r\n      textImage: tagValue.textImageTags, // 文字图片标签\r\n      lastFrames: tagValue.lastFrameTags, // 尾帧视频标签\r\n      textVideo: tagValue.textVideoTags // 文字视频标签\r\n    }\r\n\r\n    // 将对应类型的标签赋给tagsList\r\n    tagsObject.value = tagsMap[type] || {}\r\n    if (type === 'video' && from === 'top') {\r\n      tagsObject.value = tagValue.topVideoTags || {}\r\n    }\r\n\r\n    selectDialogVisible.value = true\r\n  }\r\n\r\n  // 根据素材类型获取对应的已选中数据列表\r\n  const getCheckedListByType = (\r\n    type,\r\n    videoFrom,\r\n    isGroupSelection = false,\r\n    groupData = {},\r\n    currentGroupIndex\r\n  ) => {\r\n    if (isGroupSelection) {\r\n      // 通过组合来选\r\n      const TypeMap = {\r\n        stickers: 'Stickers',\r\n        lastFrames: 'LastFrames',\r\n        textImage: 'TextImages',\r\n        textVideo: 'TextVideos'\r\n      }\r\n      const groupIndex = currentGroupIndex.value - 1\r\n      if (groupData[`group${TypeMap[type]}`]?.length) {\r\n        return groupData[`group${TypeMap[type]}`][groupIndex] || []\r\n      }\r\n    } else {\r\n      if (type === 'video' && videoFrom === 'topVideo') {\r\n        return checkedData.checkedTopVideo\r\n      }\r\n      const checkedListMap = {\r\n        novel: checkedData.checkedNovel,\r\n        firstFrames: checkedData.checkedFirstFrames,\r\n        video: checkedData.checkedVideo,\r\n        topVideo: checkedData.checkedTopVideo,\r\n        music: checkedData.checkedMusic,\r\n        stickers: checkedData.checkedStickers,\r\n        textImage: checkedData.checkedTextImages,\r\n        lastFrames: checkedData.checkedLastFrames,\r\n        textVideo: checkedData.checkedTextVideos\r\n      }\r\n      return checkedListMap[type] || []\r\n    }\r\n    return []\r\n  }\r\n\r\n  // 根据素材类型获取对应的组件列表\r\n  const getComponentListByType = (type) => {\r\n    const componentListMap = {\r\n      novel: componentList.novelComponentList,\r\n      firstFrames: componentList.firstFramesComponentList,\r\n      video: componentList.videoComponentList,\r\n      topVideo: componentList.topVideoComponentList,\r\n      music: componentList.musicComponentList,\r\n      stickers: componentList.stickersComponentList,\r\n      textImage: componentList.textImagesComponentList,\r\n      lastFrames: componentList.lastFramesComponentList,\r\n      textVideo: componentList.textVideosComponentList\r\n    }\r\n    return componentListMap[type] || []\r\n  }\r\n\r\n  // 根据素材类型获取对应的共享/个人列表\r\n  const getActiveTabByType = (type) => {\r\n    const activeTabMap = {\r\n      novel: activeTab.novelActiveTab,\r\n      firstFrames: activeTab.firstFramesActiveTab,\r\n      video: activeTab.videoActiveTab,\r\n      topVideo: activeTab.topVideoActiveTab,\r\n      music: activeTab.musicActiveTab,\r\n      stickers: activeTab.stickersActiveTab,\r\n      textImage: activeTab.textImagesActiveTab,\r\n      lastFrames: activeTab.lastFramesActiveTab,\r\n      textVideo: activeTab.textVideosActiveTab\r\n    }\r\n    return activeTabMap[type] || ''\r\n  }\r\n\r\n  const transferCheckedList = (\r\n    checkedListParams,\r\n    transferTagValue,\r\n    activeTabTypeData,\r\n    typeData,\r\n    componentListData,\r\n    start_date,\r\n    end_date,\r\n    from,\r\n    isFromChecked,\r\n    isGroupSelection = false,\r\n    groupData = {},\r\n    currentGroupIndex\r\n  ) => {\r\n    selectDialogVisible.value = false\r\n    if (typeData) {\r\n      materialDates[typeData].start_date = start_date\r\n      materialDates[typeData].end_date = end_date\r\n    }\r\n\r\n    // 处理组合选择\r\n    if (isGroupSelection) {\r\n      const groupIndex = currentGroupIndex.value - 1\r\n      if (typeData === 'stickers') {\r\n        groupData.groupStickers[groupIndex] = checkedListParams\r\n        // 清空带文字图片\r\n        groupData.groupTextImages[groupIndex] = []\r\n      } else if (typeData === 'lastFrames') {\r\n        groupData.groupLastFrames[groupIndex] = checkedListParams\r\n        // 清空带文字视频\r\n        groupData.groupTextVideos[groupIndex] = []\r\n      } else if (typeData === 'textImage') {\r\n        groupData.groupTextImages[groupIndex] = checkedListParams\r\n        // 清空贴图\r\n        groupData.groupStickers[groupIndex] = []\r\n      } else if (typeData === 'textVideo') {\r\n        groupData.groupTextVideos[groupIndex] = checkedListParams\r\n        // 清空尾帧\r\n        groupData.groupLastFrames[groupIndex] = []\r\n      }\r\n      return\r\n    }\r\n\r\n    const actions = {\r\n      novel: () => {\r\n        checkedData.checkedNovel = checkedListParams\r\n        tagValue.novelTags = transferTagValue\r\n        componentList.novelComponentList = componentListData\r\n        activeTab.novelActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.novel = isFromChecked\r\n      },\r\n      firstFrames: () => {\r\n        checkedData.checkedFirstFrames = checkedListParams\r\n        renderPreviewFirstFrameUrl.value = checkedData.checkedFirstFrames[0]?.key_frame_url\r\n        renderPreviewFirstFrameId.value = checkedData.checkedFirstFrames[0]?.id\r\n        currentFirstFrameIndex.value = 0\r\n        tagValue.firstFramesTags = transferTagValue\r\n        componentList.firstFramesComponentList = componentListData\r\n        activeTab.firstFramesActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.firstFrames = isFromChecked\r\n      },\r\n      lastFrames: () => {\r\n        // 先清除带文字视频选择，确保使用数组方法触发响应式更新\r\n        checkedData.checkedTextVideos.splice(0, checkedData.checkedTextVideos.length)\r\n        // 还有清除带文字视频的标签\r\n        tagValue.textVideoTags = { shared: [], personal: [] }\r\n        componentList.textVideosComponentList = []\r\n        activeTab.textVideosActiveTab = ''\r\n        // 还要清除带文字视频预览\r\n        renderPreviewTextVideoUrl.value = ''\r\n        renderPreviewTextVideoId.value = ''\r\n        currentTextVideoIndex.value = -1\r\n\r\n        checkedData.checkedLastFrames = checkedListParams\r\n        renderPreviewLastFrameUrl.value = checkedData.checkedLastFrames[0]?.key_frame_url\r\n        renderPreviewLastFrameId.value = checkedData.checkedLastFrames[0]?.id\r\n        currentLastFrameIndex.value = 0\r\n        tagValue.lastFrameTags = transferTagValue\r\n        componentList.lastFramesComponentList = componentListData\r\n        activeTab.lastFramesActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.lastFrames = isFromChecked\r\n      },\r\n      stickers: () => {\r\n        // 先清除带文字图片选择，确保使用数组方法触发响应式更新\r\n        checkedData.checkedTextImages.splice(0, checkedData.checkedTextImages.length)\r\n        // 还有清除带文字图片的标签\r\n        tagValue.textImageTags = { shared: [], personal: [] }\r\n        componentList.textImagesComponentList = []\r\n        activeTab.textImagesActiveTab = ''\r\n        // 还要清除带文字图片预览\r\n        renderPreviewTextImageUrl.value = ''\r\n        renderPreviewTextImageId.value = ''\r\n        currentTextImageIndex.value = -1\r\n\r\n        checkedData.checkedStickers = checkedListParams\r\n        renderPreviewStickerUrl.value = checkedData.checkedStickers[0]?.file_url\r\n        renderPreviewStickerId.value = checkedData.checkedStickers[0]?.id\r\n        currentStickerIndex.value = 0\r\n        tagValue.stickersTags = transferTagValue\r\n        componentList.stickersComponentList = componentListData\r\n        activeTab.stickersActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.stickers = isFromChecked\r\n      },\r\n      music: () => {\r\n        relaxFormData.selectedAudio = ''\r\n        checkedData.checkedMusic = checkedListParams\r\n        tagValue.musicTags = transferTagValue\r\n        componentList.musicComponentList = componentListData\r\n        activeTab.musicActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.music = isFromChecked\r\n      },\r\n      video: () => {\r\n        if (from === 'video') {\r\n          checkedData.checkedVideo = checkedListParams\r\n          renderPreviewVideoUrl.value = checkedData.checkedVideo[0]?.key_frame_url\r\n          renderPreviewVideoId.value = checkedData.checkedVideo[0]?.id\r\n          currentUnzipVideoIndex.value = 0\r\n          tagValue.unzipVideoTag = transferTagValue\r\n          componentList.videoComponentList = componentListData\r\n          activeTab.videoActiveTab = activeTabTypeData\r\n          isFromMaterialChecked.video = isFromChecked\r\n        } else if (from === 'topVideo') {\r\n          checkedData.checkedTopVideo = checkedListParams\r\n          tagValue.topVideoTags = transferTagValue\r\n          componentList.topVideoComponentList = componentListData\r\n          activeTab.topVideoActiveTab = activeTabTypeData\r\n          isFromMaterialChecked.topVideo = isFromChecked\r\n        }\r\n      },\r\n      textImage: () => {\r\n        // 先清除贴图选择，确保使用数组方法触发响应式更新\r\n        checkedData.checkedStickers.splice(0, checkedData.checkedStickers.length)\r\n        // 还有清除贴图的标签\r\n        tagValue.stickersTags = { shared: [], personal: [] }\r\n        componentList.stickersComponentList = []\r\n        activeTab.stickersActiveTab = ''\r\n        // 还要清除贴图预览\r\n        renderPreviewStickerUrl.value = ''\r\n        renderPreviewStickerId.value = ''\r\n        currentStickerIndex.value = -1\r\n\r\n        checkedData.checkedTextImages = checkedListParams\r\n        renderPreviewTextImageUrl.value = checkedData.checkedTextImages[0]?.file_url\r\n        renderPreviewTextImageId.value = checkedData.checkedTextImages[0]?.id\r\n        currentTextImageIndex.value = 0\r\n        tagValue.textImageTags = transferTagValue\r\n        componentList.textImagesComponentList = componentListData\r\n        activeTab.textImagesActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.textImage = isFromChecked\r\n      },\r\n      textVideo: () => {\r\n        // 先清除尾帧选择，确保使用数组方法触发响应式更新\r\n        checkedData.checkedLastFrames.splice(0, checkedData.checkedLastFrames.length)\r\n        // 还有清除尾帧的标签\r\n        tagValue.lastFrameTags = { shared: [], personal: [] }\r\n        componentList.lastFramesComponentList = []\r\n        activeTab.lastFramesActiveTab = ''\r\n        // 还要清除尾帧预览\r\n        renderPreviewLastFrameUrl.value = ''\r\n        renderPreviewLastFrameId.value = ''\r\n        currentLastFrameIndex.value = -1\r\n\r\n        checkedData.checkedTextVideos = checkedListParams\r\n        renderPreviewTextVideoUrl.value = checkedData.checkedTextVideos[0]?.key_frame_url\r\n        renderPreviewTextVideoId.value = checkedData.checkedTextVideos[0]?.id\r\n        currentTextVideoIndex.value = 0\r\n        tagValue.textVideoTags = transferTagValue\r\n        componentList.textVideosComponentList = componentListData\r\n        activeTab.textVideosActiveTab = activeTabTypeData\r\n        isFromMaterialChecked.textVideo = isFromChecked\r\n      }\r\n    }\r\n\r\n    const action = actions[typeData]\r\n    if (action) {\r\n      action()\r\n    }\r\n  }\r\n\r\n  const handleCloseDialog = () => {\r\n    selectDialogVisible.value = false\r\n  }\r\n\r\n  return {\r\n    selectDialogVisible,\r\n    dialogTitle,\r\n    tabType,\r\n    videoFrom,\r\n    tagsObject,\r\n    handleMaterialSelect,\r\n    selectMaterial,\r\n    getCheckedListByType,\r\n    getComponentListByType,\r\n    getActiveTabByType,\r\n    transferCheckedList,\r\n    handleCloseDialog\r\n  }\r\n}\r\n","import { watch } from 'vue'\r\nimport { getFirstSentenceFromSrt } from '@/utils/utils.js'\r\n\r\n/**\r\n * 设置组件中所有需要的 watchers\r\n * @param {Object} params - 包含所有需要的响应式变量和函数\r\n */\r\nexport function useWatchers({\r\n  checkedData,\r\n  currentFirstFrameIndex,\r\n  currentLastFrameIndex,\r\n  currentUnzipVideoIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex,\r\n  mainSearchBoxText,\r\n  endSearchBoxText,\r\n  relaxFormData,\r\n  baseUrl,\r\n  showTextConfig,\r\n  showTitleConfig,\r\n  showMaterialConfig\r\n}) {\r\n  // 监听首帧视频选择变化\r\n  watch(\r\n    () => checkedData.checkedFirstFrames,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        currentFirstFrameIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  // 监听尾帧视频选择变化\r\n  watch(\r\n    () => checkedData.checkedLastFrames,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        currentLastFrameIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  // 监听视频选择变化\r\n  watch(\r\n    () => checkedData.checkedVideo,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        currentUnzipVideoIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  // 监听贴纸选择变化\r\n  watch(\r\n    () => checkedData.checkedStickers,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        currentStickerIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  // 监听文本图片选择变化\r\n  watch(\r\n    () => checkedData.checkedTextImages,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        currentTextImageIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  // 监听文本视频选择变化\r\n  watch(\r\n    () => checkedData.checkedTextVideos,\r\n    (newVal) => {\r\n      if (newVal.length === 0) {\r\n        currentTextVideoIndex.value = -1\r\n      }\r\n    },\r\n    { deep: true }\r\n  )\r\n\r\n  // 监听小说选择变化，自动填充搜索框\r\n  watch(\r\n    () => checkedData.checkedNovel,\r\n    (newVal) => {\r\n      if (newVal.length > 0 && !mainSearchBoxText.value && !endSearchBoxText.value) {\r\n        const novelName = newVal[0].name\r\n        mainSearchBoxText.value = novelName\r\n        endSearchBoxText.value = novelName\r\n      }\r\n    },\r\n    { deep: true, immediate: true }\r\n  )\r\n\r\n  // 监听小说选择变化，更新预览内容\r\n  watch(\r\n    () => checkedData.checkedNovel,\r\n    (newVal) => {\r\n      if (newVal.length) {\r\n        setHtml()\r\n      } else {\r\n        if (document.getElementById('srtPreview')) {\r\n          document.getElementById('srtPreview').innerHTML = ''\r\n        }\r\n      }\r\n    }\r\n  )\r\n\r\n  // 监听固定组合数变化，当固定组合数大于1时展开组合卡片\r\n  watch(\r\n    () => relaxFormData.groupCount,\r\n    (newVal) => {\r\n      if (newVal > 1) {\r\n        relaxFormData.value = true\r\n      }\r\n    }\r\n  )\r\n\r\n  // 监听showTextConfig变化，自动折叠其他配置\r\n  watch(\r\n    () => showTextConfig.value,\r\n    (newVal) => {\r\n      if (newVal) {\r\n        showTitleConfig.value = false\r\n        showMaterialConfig.value = false\r\n      }\r\n    }\r\n  )\r\n\r\n  // 设置HTML预览内容\r\n  async function setHtml() {\r\n    fetch(\r\n      checkedData.checkedNovel[0]?.subtitle_url\r\n        ? baseUrl + checkedData.checkedNovel[0]?.subtitle_url\r\n        : baseUrl + JSON.parse(checkedData.checkedNovel[0]?.extra)?.subtitle_url\r\n    ).then((response) =>\r\n      response.text().then((text) => {\r\n        const novelContentDiv = document.getElementById('srtPreview')\r\n        novelContentDiv.innerHTML = getFirstSentenceFromSrt(text)\r\n      })\r\n    )\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"title-settings\" :class=\"{ 'title-settings-disabled': props.disabled }\">\r\n    <!-- 标题编辑区域 -->\r\n    <div class=\"titles-container-wrapper\">\r\n      <!-- 标题列表区域，添加滚动条 -->\r\n      <div class=\"titles-scroll-area\">\r\n        <div v-for=\"(domain, index) in localTitles\" :key=\"domain.key\" class=\"title-row\">\r\n          <!-- 紧凑的单行文本输入 -->\r\n          <div class=\"title-input-wrapper\">\r\n            <el-input\r\n              v-model=\"domain.text\"\r\n              :placeholder=\"props.type === 'fixed' ? '请输入固定标题' : '请输入首帧标题'\"\r\n              @input=\"handleTextInput()\"\r\n              class=\"title-input\"\r\n              :disabled=\"isDisabled\"\r\n            />\r\n          </div>\r\n\r\n          <!-- 工具栏 -->\r\n          <div class=\"title-tools\">\r\n            <!-- 合并的样式按钮 -->\r\n            <el-popover\r\n              placement=\"bottom\"\r\n              width=\"320\"\r\n              trigger=\"click\"\r\n              popper-class=\"custom-popover\"\r\n              :disabled=\"isDisabled\"\r\n            >\r\n              <template #reference>\r\n                <div\r\n                  class=\"tool-btn\"\r\n                  :class=\"{ disabled: isDisabled }\"\r\n                  :title=\"props.type === 'fixed' ? '固定标题样式' : '首帧标题样式'\"\r\n                >\r\n                  <svg\r\n                    class=\"icon-svg\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    stroke-width=\"2\"\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                  >\r\n                    <path d=\"M12 20h9\"></path>\r\n                    <path d=\"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z\"></path>\r\n                  </svg>\r\n                </div>\r\n              </template>\r\n\r\n              <div class=\"style-panel\">\r\n                <!-- 字体设置 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"style-section-header\">\r\n                    <svg\r\n                      class=\"icon-svg section-icon\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      stroke-width=\"2\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <text x=\"5\" y=\"19\" style=\"font-size: 17px; font-weight: 400\">A</text>\r\n                    </svg>\r\n                    <span>字体</span>\r\n                  </div>\r\n                  <el-select\r\n                    v-model=\"domain.font_id\"\r\n                    placeholder=\"选择字体\"\r\n                    style=\"width: 100%\"\r\n                    @change=\"updateFormData\"\r\n                    filterable\r\n                    size=\"small\"\r\n                    :teleported=\"false\"\r\n                  >\r\n                    <el-option\r\n                      v-for=\"option in fontFamilyOptions\"\r\n                      :key=\"option.id\"\r\n                      :label=\"option.name.split('.').slice(0, -1).join('.')\"\r\n                      :value=\"option.id\"\r\n                    />\r\n                  </el-select>\r\n                </div>\r\n\r\n                <!-- 字号设置 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"style-section-header\">\r\n                    <svg\r\n                      class=\"icon-svg section-icon\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      stroke-width=\"2\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <text x=\"5\" y=\"19\" style=\"font-size: 14px\">123</text>\r\n                    </svg>\r\n                    <span>字号</span>\r\n                  </div>\r\n                  <el-input-number\r\n                    v-model=\"domain.font_size\"\r\n                    :min=\"1\"\r\n                    :max=\"100\"\r\n                    @change=\"updateFormData\"\r\n                    @input=\"handleSizeInput()\"\r\n                    size=\"small\"\r\n                  />\r\n                </div>\r\n\r\n                <!-- 描边设置 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"style-section-header\">\r\n                    <svg\r\n                      class=\"icon-svg section-icon\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      stroke-width=\"2\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\r\n                      <circle cx=\"12\" cy=\"12\" r=\"6\"></circle>\r\n                    </svg>\r\n                    <span>描边</span>\r\n                  </div>\r\n                  <el-input-number\r\n                    v-model=\"domain.stroke_width\"\r\n                    :min=\"1\"\r\n                    :max=\"20\"\r\n                    :step=\"1\"\r\n                    @input=\"handleStrokeInput()\"\r\n                    @change=\"updateFormData\"\r\n                    size=\"small\"\r\n                  />\r\n                </div>\r\n\r\n                <!-- 颜色设置 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"style-section-header\">\r\n                    <svg\r\n                      class=\"icon-svg section-icon\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      stroke-width=\"2\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <path d=\"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z\"></path>\r\n                    </svg>\r\n                    <span>颜色</span>\r\n                  </div>\r\n                  <div class=\"color-pickers\">\r\n                    <div class=\"color-picker-item\">\r\n                      <span>字体色</span>\r\n                      <el-color-picker\r\n                        v-model=\"domain.fill\"\r\n                        show-alpha\r\n                        @change=\"(val) => handleColorChange(domain, 'fill', val)\"\r\n                        size=\"small\"\r\n                        :teleported=\"false\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"color-picker-item\">\r\n                      <span>背景色</span>\r\n                      <el-color-picker\r\n                        v-model=\"domain.background_color\"\r\n                        show-alpha\r\n                        @change=\"(val) => handleColorChange(domain, 'background_color', val)\"\r\n                        size=\"small\"\r\n                        :teleported=\"false\"\r\n                      />\r\n                    </div>\r\n                    <div class=\"color-picker-item\">\r\n                      <span>描边色</span>\r\n                      <el-color-picker\r\n                        v-model=\"domain.stroke_fill\"\r\n                        show-alpha\r\n                        @change=\"(val) => handleColorChange(domain, 'stroke_fill', val)\"\r\n                        size=\"small\"\r\n                        :teleported=\"false\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- 位置设置 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"style-section-header\">\r\n                    <svg\r\n                      class=\"icon-svg section-icon\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      stroke-width=\"2\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\r\n                      <polyline points=\"19 12 12 19 5 12\"></polyline>\r\n                    </svg>\r\n                    <span>位置</span>\r\n                  </div>\r\n                  <el-slider\r\n                    v-model=\"domain.y\"\r\n                    :min=\"0\"\r\n                    :max=\"1\"\r\n                    :step=\"0.01\"\r\n                    :format-tooltip=\"(value) => `${Math.round(value * 100)}%`\"\r\n                    @input=\"handlePositionInput()\"\r\n                    @change=\"updateFormData\"\r\n                  />\r\n                </div>\r\n\r\n                <!-- 应用到全局 -->\r\n                <div class=\"style-section\">\r\n                  <div class=\"style-section-header\">\r\n                    <svg\r\n                      class=\"icon-svg section-icon\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      stroke-width=\"2\"\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                    >\r\n                      <path\r\n                        d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"\r\n                      ></path>\r\n                      <rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect>\r\n                    </svg>\r\n                    <span>应用于全局</span>\r\n                  </div>\r\n\r\n                  <div class=\"apply-global-options\">\r\n                    <div class=\"apply-options\">\r\n                      <el-checkbox v-model=\"applyOptions.font\" label=\"字体\" border size=\"small\" />\r\n                      <el-checkbox\r\n                        v-model=\"applyOptions.fontSize\"\r\n                        label=\"字号\"\r\n                        border\r\n                        size=\"small\"\r\n                      />\r\n                      <el-checkbox v-model=\"applyOptions.stroke\" label=\"描边\" border size=\"small\" />\r\n                      <el-checkbox v-model=\"applyOptions.colors\" label=\"颜色\" border size=\"small\" />\r\n                    </div>\r\n                    <el-button\r\n                      @click=\"applyToAllTitles(domain, index)\"\r\n                      type=\"primary\"\r\n                      size=\"small\"\r\n                      class=\"apply-btn\"\r\n                      :disabled=\"!hasSelectedOptions\"\r\n                    >\r\n                      应用选中项到所有标题\r\n                    </el-button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </el-popover>\r\n\r\n            <el-button\r\n              type=\"text\"\r\n              @click.prevent=\"removeDomain(domain)\"\r\n              class=\"delete-btn\"\r\n              size=\"small\"\r\n              :disabled=\"isDisabled\"\r\n            >\r\n              <svg\r\n                class=\"icon-svg delete-icon\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                stroke-width=\"2\"\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n              >\r\n                <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n              </svg>\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 添加新标题按钮，固定在底部 -->\r\n      <div class=\"add-title-row\" v-if=\"localTitles.length < 5\">\r\n        <el-button\r\n          type=\"primary\"\r\n          @click.prevent=\"addTitleCard\"\r\n          class=\"add-title-btn\"\r\n          :disabled=\"localTitles.length >= 5 || isDisabled\"\r\n        >\r\n          <svg\r\n            class=\"icon-svg plus-icon\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            stroke-width=\"2\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          >\r\n            <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\r\n            <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\r\n          </svg>\r\n          添加{{ props.type === 'fixed' ? '固定' : '首帧' }}标题\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, watch, computed } from 'vue'\r\n// import { getRandomColorCombination } from '@/utils/utils.js' // Uncomment if randomizeColors is needed\r\n\r\nconst props = defineProps({\r\n  formData: Object,\r\n  checkedData: Object,\r\n  fontFamilyOptions: Array,\r\n  type: {\r\n    type: String,\r\n    default: 'firstFrame', // 'firstFrame' 或 'fixed'\r\n    validator: (value) => ['firstFrame', 'fixed'].includes(value)\r\n  },\r\n  disabled: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:formData'])\r\n\r\n// 使用本地副本避免直接修改 props\r\nconst localFormData = reactive({ ...props.formData })\r\n\r\n// 确保数组初始化\r\nconst ensureArraysInitialized = () => {\r\n  if (!localFormData.fixedTitle || !Array.isArray(localFormData.fixedTitle)) {\r\n    localFormData.fixedTitle = []\r\n    console.log('Fixed titles 初始化为空数组')\r\n  }\r\n  if (!localFormData.firstFrameVideo || !Array.isArray(localFormData.firstFrameVideo)) {\r\n    localFormData.firstFrameVideo = []\r\n    console.log('FirstFrame titles 初始化为空数组')\r\n  }\r\n}\r\n\r\n// 初始化数组\r\nensureArraysInitialized()\r\n\r\n// 计算属性：根据类型确定使用的标题数组\r\nconst localTitles = computed(() => {\r\n  return props.type === 'fixed' ? localFormData.fixedTitle : localFormData.firstFrameVideo\r\n})\r\n\r\n// 应用于全局选项\r\nconst applyOptions = reactive({\r\n  font: false,\r\n  fontSize: false,\r\n  stroke: false,\r\n  colors: false,\r\n  position: false\r\n})\r\n\r\n// 计算是否有选中的选项\r\nconst hasSelectedOptions = computed(() => {\r\n  return (\r\n    applyOptions.font ||\r\n    applyOptions.fontSize ||\r\n    applyOptions.stroke ||\r\n    applyOptions.colors ||\r\n    applyOptions.position\r\n  )\r\n})\r\n\r\n// 添加计算属性判断是否有首帧视频\r\nconst hasFirstFrameVideo = computed(() => {\r\n  return (\r\n    props.type === 'fixed' ||\r\n    (props.checkedData &&\r\n      props.checkedData.checkedFirstFrames &&\r\n      props.checkedData.checkedFirstFrames.length > 0)\r\n  )\r\n})\r\n\r\n// 添加计算属性判断是否禁用\r\nconst isDisabled = computed(() => {\r\n  return props.disabled || (props.type === 'firstFrame' && !hasFirstFrameVideo.value)\r\n})\r\n\r\n// 监听本地数据变化，通知父组件更新\r\nconst updateFormData = () => {\r\n  emit('update:formData', localFormData)\r\n}\r\n\r\n// 添加实时更新函数，确保每次输入都能同步\r\nconst handleTextInput = () => {\r\n  updateFormData()\r\n}\r\n\r\n// 处理字号变化\r\nconst handleSizeInput = () => {\r\n  updateFormData()\r\n}\r\n\r\n// 处理描边宽度变化\r\nconst handleStrokeInput = () => {\r\n  updateFormData()\r\n}\r\n\r\n// 处理颜色变化\r\nconst handleColorChange = (domain, type, value) => {\r\n  domain[type] = value\r\n  updateFormData()\r\n}\r\n\r\n// 处理位置变化\r\nconst handlePositionInput = () => {\r\n  updateFormData()\r\n}\r\n\r\n// 将选中样式应用到所有标题\r\nconst applyToAllTitles = (sourceDomain, sourceIndex) => {\r\n  const titles = props.type === 'fixed' ? localFormData.fixedTitle : localFormData.firstFrameVideo\r\n\r\n  titles.forEach((domain, index) => {\r\n    if (index !== sourceIndex) {\r\n      if (applyOptions.font) {\r\n        domain.font_id = sourceDomain.font_id\r\n      }\r\n      if (applyOptions.fontSize) {\r\n        domain.font_size = sourceDomain.font_size\r\n      }\r\n      if (applyOptions.stroke) {\r\n        domain.stroke_width = sourceDomain.stroke_width\r\n        domain.stroke_fill = sourceDomain.stroke_fill\r\n      }\r\n      if (applyOptions.colors) {\r\n        domain.fill = sourceDomain.fill\r\n        domain.background_color = sourceDomain.background_color\r\n        domain.firstFrameColorMode = sourceDomain.firstFrameColorMode\r\n      }\r\n      if (applyOptions.position) {\r\n        domain.y = sourceDomain.y\r\n      }\r\n    }\r\n  })\r\n\r\n  // 重置选项\r\n  Object.keys(applyOptions).forEach((key) => {\r\n    applyOptions[key] = false\r\n  })\r\n\r\n  updateFormData()\r\n}\r\n\r\n// 监听父组件传递的 props 变化，更新本地副本\r\nwatch(\r\n  () => props.formData,\r\n  (newFormData) => {\r\n    // 深拷贝以确保本地数据与props数据不共享引用\r\n    Object.assign(localFormData, JSON.parse(JSON.stringify(newFormData)))\r\n\r\n    // 确保标题数组初始化\r\n    ensureArraysInitialized()\r\n  },\r\n  { deep: true, immediate: true }\r\n)\r\n\r\n// 添加标题\r\nconst addTitleCard = () => {\r\n  const defaultFont =\r\n    props.fontFamilyOptions.length > 0\r\n      ? props.fontFamilyOptions.find(\r\n          (item) => item.name.split('.').slice(0, -1).join('.') === '方正黑体简体'\r\n        )?.id || props.fontFamilyOptions[0].id\r\n      : ''\r\n\r\n  const newTitle = {\r\n    key: Date.now(),\r\n    text: '',\r\n    font_id: defaultFont,\r\n    font_size: 35,\r\n    stroke_width: 2,\r\n    fill: 'rgba(255, 255, 255, 1)', // 前景色\r\n    background_color: 'rgba(255, 255, 0, 1)', // 背景色\r\n    stroke_fill: 'rgba(0, 0, 0, 1)', // 描边颜色\r\n    y: 0.2 // 顶部距离\r\n  }\r\n\r\n  if (props.type === 'fixed') {\r\n    if (!localFormData.fixedTitle) localFormData.fixedTitle = []\r\n    localFormData.fixedTitle.push(newTitle)\r\n  } else {\r\n    if (!localFormData.firstFrameVideo) localFormData.firstFrameVideo = []\r\n    localFormData.firstFrameVideo.push(newTitle)\r\n  }\r\n\r\n  updateFormData()\r\n}\r\n\r\n// 移除标题\r\nconst removeDomain = (item) => {\r\n  const titles = props.type === 'fixed' ? localFormData.fixedTitle : localFormData.firstFrameVideo\r\n  const index = titles.indexOf(item)\r\n\r\n  if (index !== -1) {\r\n    titles.splice(index, 1)\r\n    updateFormData()\r\n  }\r\n}\r\n\r\n// 随机生成配色 - 保留但暂未使用\r\n/*\r\nconst randomizeColors = (selectIndex) => {\r\n  const titles = props.type === 'fixed' ? localFormData.fixedTitle : localFormData.firstFrameVideo\r\n  const findSelected = titles.find((item, index) => index === selectIndex)\r\n\r\n  if (findSelected) {\r\n    const randomColor = getRandomColorCombination()\r\n    findSelected.fill = randomColor.fill\r\n    findSelected.background_color = randomColor.background_color\r\n    findSelected.stroke_fill = randomColor.stroke_fill\r\n    updateFormData()\r\n  }\r\n}\r\n*/\r\n</script>\r\n\r\n<style scoped>\r\n.title-settings {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n.titles-container-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  height: 100%;\r\n  max-height: 400px;\r\n  position: relative;\r\n}\r\n\r\n.titles-scroll-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  margin: 8px 0;\r\n  overflow-y: auto;\r\n  max-height: calc(100% - 60px);\r\n  padding-right: 8px;\r\n}\r\n\r\n.titles-scroll-area::-webkit-scrollbar {\r\n  width: 6px;\r\n}\r\n\r\n.titles-scroll-area::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 4px;\r\n}\r\n\r\n.titles-scroll-area::-webkit-scrollbar-thumb {\r\n  background: #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\n.titles-scroll-area::-webkit-scrollbar-thumb:hover {\r\n  background: #aaa;\r\n}\r\n\r\n.title-row {\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: #fff;\r\n  border-radius: 6px;\r\n  padding: 10px 12px;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\r\n  gap: 8px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.title-row:hover {\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.title-input-wrapper {\r\n  flex-grow: 1;\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.title-input {\r\n  width: 100%;\r\n}\r\n\r\n.title-tools {\r\n  display: flex;\r\n  gap: 6px;\r\n  align-items: center;\r\n}\r\n\r\n.tool-btn {\r\n  width: 28px;\r\n  height: 28px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 4px;\r\n  background-color: #f5f7fa;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.tool-btn:hover {\r\n  background-color: #e6f1fc;\r\n}\r\n\r\n.tool-btn.disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.tool-btn.disabled:hover {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.delete-btn {\r\n  width: 28px;\r\n  height: 28px;\r\n  padding: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n  background-color: transparent;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.delete-btn:hover {\r\n  background-color: #f5f7fa;\r\n  border-color: #dcdfe6;\r\n}\r\n\r\n.add-title-row {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 12px;\r\n  padding-top: 8px;\r\n  border-top: 1px dashed #e0e0e0;\r\n  position: sticky;\r\n  bottom: 0;\r\n  background-color: #fff;\r\n  z-index: 10;\r\n}\r\n\r\n.add-title-btn {\r\n  width: 100%;\r\n  height: 40px;\r\n  font-weight: 500;\r\n  border-radius: 6px;\r\n  transition: all 0.3s ease;\r\n  background-image: linear-gradient(to right, #409eff, #59b6ff);\r\n  border: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 4px;\r\n}\r\n\r\n.add-title-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(64, 158, 255, 0.2);\r\n}\r\n\r\n.color-pickers {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 12px;\r\n  justify-content: space-between;\r\n}\r\n\r\n.color-picker-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.color-picker-item span {\r\n  font-size: 12px;\r\n  color: #606266;\r\n}\r\n\r\n.icon-svg {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #606266;\r\n}\r\n\r\n.color-option {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.color-label {\r\n  font-size: 12px;\r\n  color: #909399;\r\n  white-space: nowrap;\r\n}\r\n\r\n:deep(.el-color-picker) {\r\n  width: 100%;\r\n}\r\n\r\n:deep(.el-color-picker__trigger) {\r\n  width: 100%;\r\n  height: 32px;\r\n  padding: 2px;\r\n}\r\n\r\n.icon-svg {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #606266;\r\n}\r\n\r\n.plus-icon {\r\n  width: 14px;\r\n  height: 14px;\r\n  color: #fff;\r\n}\r\n\r\n.style-panel {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  max-height: 380px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.style-section {\r\n  border-radius: 6px;\r\n  background-color: #f9f9f9;\r\n  padding: 10px;\r\n}\r\n\r\n.style-section-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  margin-bottom: 8px;\r\n  font-weight: 500;\r\n  color: #303133;\r\n  font-size: 13px;\r\n}\r\n\r\n.section-icon {\r\n  width: 16px;\r\n  height: 16px;\r\n  color: #409eff;\r\n}\r\n\r\n.apply-global-options {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.apply-options {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.title-settings-disabled {\r\n  opacity: 0.7;\r\n  pointer-events: none;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"right-side\">\r\n    <div class=\"preview-container\">\r\n      <div class=\"preview-frame preview-frame-first\">\r\n        <div class=\"frame-title\">首帧视频预览</div>\r\n        <div class=\"frame-content\" ref=\"firstPreview\">\r\n          <img\r\n            :src=\"baseUrl + renderPreviewFirstFrameUrl\"\r\n            alt=\"\"\r\n            v-if=\"checkedData.checkedFirstFrames.length\"\r\n            class=\"videoPreview\"\r\n          />\r\n          <!-- 首帧标题预览 -->\r\n          <div\r\n            class=\"firstFrameText\"\r\n            v-for=\"item in formData.firstFrameVideo\"\r\n            :key=\"item.id\"\r\n            :style=\"{\r\n              color: item.fill,\r\n              backgroundColor: item.background_color,\r\n              fontSize: `${px2remValue(item.font_size / firstAndLastVideoZoom) * zoom()}rem`,\r\n              webkitTextStroke: `${\r\n                px2remValue(item.stroke_width / firstAndLastVideoZoom) * zoom()\r\n              }rem ${item.stroke_fill}`,\r\n              top: `${item.y * 100}%`,\r\n              fontFamily: `${fontFamilyOptions\r\n                .find((ele) => ele.id === item.font_id)\r\n                ?.name.split('.')\r\n                .slice(0, -1)\r\n                .join('.')}`\r\n            }\"\r\n          >\r\n            {{ item.text }}\r\n          </div>\r\n        </div>\r\n        <div class=\"switch-operate\">\r\n          <div class=\"switch-container\">\r\n            <div @click=\"switchToPrevious('firstFrame')\" class=\"previous-btn\"></div>\r\n            <div class=\"counter\">\r\n              {{ `${currentFirstFrameIndex + 1}/${checkedData.checkedFirstFrames?.length}` }}\r\n            </div>\r\n            <div @click=\"switchToNext('firstFrame')\" class=\"next-btn\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"preview-frame preview-frame-main\">\r\n        <div class=\"frame-title\">正片预览</div>\r\n        <div class=\"frame-content\" ref=\"mainPreview\">\r\n          <div class=\"videoPreview\" v-if=\"checkedData.checkedVideo?.length\">\r\n            <img :src=\"baseUrl + renderPreviewVideoUrl\" alt=\"\" class=\"unzipVideoImage\" />\r\n          </div>\r\n          <!-- 正文srt预览 -->\r\n          <div\r\n            class=\"textPreview\"\r\n            id=\"srtPreview\"\r\n            :style=\"{\r\n              fontSize: `${px2remValue(formData.novelFontSize / videoFontZoom) * zoom()}rem`,\r\n              fontFamily: `${fontFamilyOptions\r\n                .find((item) => item.id === formData.fontFamily)\r\n                ?.name.split('.')\r\n                .slice(0, -1)\r\n                .join('.')}`,\r\n              color: formData.novelForegroundColor,\r\n              backgroundColor: formData.novelBackgroundColor,\r\n              webkitTextStroke: `${\r\n                px2remValue(formData.novelStrokeWidth / videoFontZoom) * zoom()\r\n              }rem ${formData.novelStrokeColor}`,\r\n              top: `${formData.novelTopMargin * 100}%`,\r\n              borderRadius: `${px2remValue(5 * zoom())}rem`\r\n            }\"\r\n          ></div>\r\n\r\n          <!-- 固定标题预览 -->\r\n          <div\r\n            class=\"firstFrameText\"\r\n            v-for=\"item in formData.fixedTitle\"\r\n            :key=\"item.id\"\r\n            :style=\"{\r\n              color: item.fill,\r\n              backgroundColor: item.background_color,\r\n              fontSize: `${px2remValue(item.font_size / videoFontZoom) * zoom()}rem`,\r\n              webkitTextStroke: `${px2remValue(item.stroke_width / videoFontZoom) * zoom()}rem ${\r\n                item.stroke_fill\r\n              }`,\r\n              top: `${item.y * 100}%`,\r\n              fontFamily: `${fontFamilyOptions\r\n                .find((ele) => ele.id === item.font_id)\r\n                ?.name.split('.')\r\n                .slice(0, -1)\r\n                .join('.')}`\r\n            }\"\r\n          >\r\n            {{ item.text }}\r\n          </div>\r\n\r\n          <!-- 贴图预览 -->\r\n          <div class=\"imagePreview\" v-if=\"checkedData.checkedStickers.length\">\r\n            <img :src=\"baseUrl + renderPreviewStickerUrl\" class=\"image\" />\r\n          </div>\r\n          <!-- 带文字图片预览,待修改,展示一张切换 -->\r\n          <div class=\"imagePreview\">\r\n            <img\r\n              :src=\"baseUrl + renderPreviewTextImageUrl\"\r\n              class=\"image\"\r\n              v-if=\"checkedData.checkedTextImages.length\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"switch-operate\">\r\n          <div class=\"switch-container\">\r\n            <div @click=\"switchToPrevious('unzipVideo')\" class=\"previous-btn\"></div>\r\n            <div class=\"counter\">\r\n              {{ `${currentUnzipVideoIndex + 1}/${checkedData.checkedVideo?.length}` }}\r\n            </div>\r\n            <div @click=\"switchToNext('unzipVideo')\" class=\"next-btn\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"preview-frame preview-frame-last\">\r\n        <div class=\"frame-title\">尾帧视频预览</div>\r\n        <div class=\"frame-content\" ref=\"lastPreview\">\r\n          <!-- 尾帧视频预览,展示一张切换 -->\r\n          <img\r\n            :src=\"baseUrl + renderPreviewLastFrameUrl\"\r\n            alt=\"\"\r\n            v-if=\"checkedData.checkedLastFrames.length\"\r\n            class=\"videoPreview\"\r\n          />\r\n          <!-- 带文字视频预览,展示一张切换 -->\r\n          <img\r\n            :src=\"baseUrl + renderPreviewTextVideoUrl\"\r\n            class=\"videoPreview\"\r\n            v-if=\"checkedData.checkedTextVideos.length\"\r\n          />\r\n        </div>\r\n        <div class=\"switch-operate\">\r\n          <div class=\"switch-container\" v-if=\"!checkedData.checkedTextVideos.length\">\r\n            <div @click=\"switchToPrevious('lastFrame')\" class=\"previous-btn\"></div>\r\n            <div class=\"counter\">\r\n              {{ `${currentLastFrameIndex + 1}/${checkedData.checkedLastFrames?.length}` }}\r\n            </div>\r\n            <div @click=\"switchToNext('lastFrame')\" class=\"next-btn\"></div>\r\n          </div>\r\n          <div class=\"switch-operate\" v-if=\"checkedData.checkedTextVideos.length\">\r\n            <div class=\"switch-container\">\r\n              <div @click=\"switchToPrevious('textVideo')\" class=\"previous-btn\"></div>\r\n              <div class=\"counter\">\r\n                {{ `${currentTextVideoIndex + 1}/${checkedData.checkedTextVideos?.length}` }}\r\n              </div>\r\n              <div @click=\"switchToNext('textVideo')\" class=\"next-btn\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 创建按钮放在右侧预览区域底部 -->\r\n    <div class=\"create-button-right\">\r\n      <el-button type=\"primary\" @click=\"handleGenerateVideo\" :loading=\"createVideoDisabled\" :disabled=\"createVideoDisabled\">\r\n        {{ `创建任务 （共${groupCount === 0 ? count : count * groupCount}条）` }}\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineProps, defineEmits, onMounted } from 'vue'\r\nimport { px2remValue, zoom } from '@/utils/resize.js'\r\n\r\nconst props = defineProps({\r\n  formData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  checkedData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  fontFamilyOptions: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  baseUrl: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  renderPreviewFirstFrameUrl: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  renderPreviewVideoUrl: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  renderPreviewLastFrameUrl: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  renderPreviewStickerUrl: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  renderPreviewTextImageUrl: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  renderPreviewTextVideoUrl: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  currentFirstFrameIndex: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  currentUnzipVideoIndex: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  currentLastFrameIndex: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  currentTextVideoIndex: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  firstAndLastVideoZoom: {\r\n    type: Number,\r\n    default: 1\r\n  },\r\n  videoFontZoom: {\r\n    type: Number,\r\n    default: 1\r\n  },\r\n  createVideoDisabled: {\r\n    type: Boolean,\r\n    default: false // 确保默认值为false\r\n  },\r\n  count: {\r\n    type: Number,\r\n    default: 1\r\n  },\r\n  groupCount: {\r\n    type: Number,\r\n    default: 0\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['switchToPrevious', 'switchToNext', 'generateVideo'])\r\n\r\n// 引用DOM元素\r\nconst firstPreview = ref(null)\r\nconst mainPreview = ref(null)\r\nconst lastPreview = ref(null)\r\n\r\n// 切换到上一个素材\r\nconst switchToPrevious = (type) => {\r\n  emit('switchToPrevious', type)\r\n}\r\n\r\n// 切换到下一个素材\r\nconst switchToNext = (type) => {\r\n  emit('switchToNext', type)\r\n}\r\n\r\n// 创建任务按钮点击事件\r\nconst handleGenerateVideo = () => {\r\n  emit('generateVideo')\r\n}\r\n\r\n// 在组件挂载后设置预览区域的尺寸\r\nonMounted(() => {\r\n  // 生成的视频是720*1280的 缩小videoFontZoom倍  * 相对于开发时1000的屏幕为基准放大的倍数zoom\r\n\r\n  // 设置首帧预览区域尺寸\r\n  if (firstPreview.value) {\r\n    firstPreview.value.style.width = `${px2remValue(720 / props.firstAndLastVideoZoom) * zoom()}rem`\r\n    firstPreview.value.style.minWidth = `${\r\n      px2remValue(720 / props.firstAndLastVideoZoom) * zoom()\r\n    }rem`\r\n    firstPreview.value.style.height = `${\r\n      px2remValue(1280 / props.firstAndLastVideoZoom) * zoom()\r\n    }rem`\r\n  }\r\n\r\n  // 设置正片预览区域尺寸\r\n  if (mainPreview.value) {\r\n    mainPreview.value.style.width = `${px2remValue(720 / props.videoFontZoom) * zoom()}rem`\r\n    mainPreview.value.style.minWidth = `${px2remValue(720 / props.videoFontZoom) * zoom()}rem`\r\n    mainPreview.value.style.height = `${px2remValue(1280 / props.videoFontZoom) * zoom()}rem`\r\n  }\r\n\r\n  // 设置尾帧预览区域尺寸\r\n  if (lastPreview.value) {\r\n    lastPreview.value.style.width = `${px2remValue(720 / props.firstAndLastVideoZoom) * zoom()}rem`\r\n    lastPreview.value.style.minWidth = `${\r\n      px2remValue(720 / props.firstAndLastVideoZoom) * zoom()\r\n    }rem`\r\n    lastPreview.value.style.height = `${\r\n      px2remValue(1280 / props.firstAndLastVideoZoom) * zoom()\r\n    }rem`\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.right-side {\r\n  flex: 1;\r\n  flex-shrink: 0;\r\n  position: sticky;\r\n  top: 20px;\r\n  align-self: flex-start;\r\n  height: calc(100vh - 120px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #f5f7fa;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.03);\r\n  overflow: hidden;\r\n  padding-bottom: 60px; // 减少底部内边距\r\n}\r\n\r\n.preview-container {\r\n  display: flex;\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  flex-direction: row;\r\n  gap: 24px;\r\n  height: auto;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 30px 0;\r\n  padding-top: 45px;\r\n}\r\n\r\n.preview-frame {\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .videoPreview {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n\r\n  .unzipVideoImage {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n  }\r\n}\r\n\r\n.frame-title {\r\n  background-color: #f5f7fa;\r\n  padding: 8px 15px;\r\n  font-size: 14px;\r\n  font-weight: normal;\r\n  color: #606266;\r\n  border-bottom: 1px solid #ebeef5;\r\n  height: 37px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.frame-content {\r\n  padding: 0;\r\n  position: relative;\r\n  overflow: hidden;\r\n  background-color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  .firstFrameText {\r\n    position: absolute;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    z-index: 1;\r\n  }\r\n\r\n  .textPreview {\r\n    position: absolute;\r\n  }\r\n\r\n  .imagePreview {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    .image {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n.switch-operate {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 10px 0;\r\n  background: #f5f7fa;\r\n  border-radius: 0 0 8px 8px;\r\n\r\n  .switch-container {\r\n    display: flex;\r\n    align-items: center;\r\n    background: white;\r\n    border: 1px solid #dcdfe6;\r\n    border-radius: 20px;\r\n    padding: 4px 8px;\r\n    gap: 4px;\r\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n    transition: all 0.3s ease;\r\n\r\n    &:hover {\r\n      border-color: #409eff;\r\n      box-shadow: 0 2px 6px rgba(64, 158, 255, 0.1);\r\n    }\r\n\r\n    .counter {\r\n      min-width: 40px;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      color: #606266;\r\n    }\r\n\r\n    .previous-btn,\r\n    .next-btn {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 24px;\r\n      height: 24px;\r\n      border-radius: 50%;\r\n      cursor: pointer;\r\n      transition: all 0.3s ease;\r\n      background: transparent;\r\n      position: relative;\r\n      color: #606266;\r\n\r\n      &:hover {\r\n        color: #409eff;\r\n      }\r\n\r\n      &:active {\r\n        background: #ecf5ff;\r\n      }\r\n\r\n      &::before {\r\n        content: '';\r\n        display: inline-block;\r\n        width: 6px;\r\n        height: 6px;\r\n        border-top: 2px solid currentColor;\r\n        border-right: 2px solid currentColor;\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n      }\r\n    }\r\n\r\n    .previous-btn::before {\r\n      transform: translate(-50%, -50%) rotate(-135deg);\r\n    }\r\n\r\n    .next-btn::before {\r\n      transform: translate(-50%, -50%) rotate(45deg);\r\n    }\r\n  }\r\n}\r\n\r\n// 创建按钮样式\r\n.create-button-right {\r\n  position: sticky;\r\n  bottom: 10px; // 从100px改为10px，使按钮位置与CreateTask一致\r\n  left: 0;\r\n  right: 0;\r\n  text-align: center;\r\n  padding: 15px 0;\r\n  background-color: #f5f8fa;\r\n  border-top: 1px solid #ebeef5;\r\n  z-index: 100;\r\n  margin-top: auto;\r\n\r\n  :deep(.el-button) {\r\n    font-weight: 600;\r\n    padding: 12px 30px;\r\n    font-size: 14px;\r\n    min-width: 120px;\r\n    background: linear-gradient(135deg, var(--primary-purple), var(--primary-blue));\r\n    border: none;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"task-info-section\">\r\n    <div class=\"task-info-card material-card\">\r\n      <div class=\"card-header\" @click=\"toggleMaterialConfig\">\r\n        <div class=\"card-title\">素材</div>\r\n        <div class=\"collapse-icon\">\r\n          <span v-if=\"showMaterialConfig\">−</span>\r\n          <span v-else>+</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"card-content material-content\" v-show=\"showMaterialConfig\">\r\n        <!-- 首帧分区 -->\r\n        <div class=\"section-divider\">\r\n          <span class=\"divider-text\">首帧</span>\r\n        </div>\r\n\r\n        <!-- 首帧视频 -->\r\n        <div class=\"material-row\">\r\n          <div class=\"material-label\">首帧视频</div>\r\n          <div class=\"material-controls\">\r\n            <!-- 首帧视频选择按钮 -->\r\n            <div class=\"music-card pre-video-card\" v-if=\"checkedData.checkedFirstFrames?.length\">\r\n              <div class=\"music-card-header\">\r\n                <div class=\"music-selected-info\" v-if=\"isFromMaterialChecked.firstFrames\">\r\n                  已选择 {{ checkedData.checkedFirstFrames.length }} 条首帧视频\r\n                </div>\r\n                <span\r\n                  class=\"music-selected-info\"\r\n                  v-else\r\n                  :title=\"\r\n                    mergeTags(tagValue.firstFramesTags)\r\n                      ?.map((item) => item.label)\r\n                      .join('、')\r\n                  \"\r\n                  >已选标签:\r\n                  {{\r\n                    mergeTags(tagValue.firstFramesTags)\r\n                      .map((item) => item.label)\r\n                      .join('、')\r\n                  }}\r\n                </span>\r\n                <div class=\"continue-select-btn\" @click=\"selectMaterial('firstFrames')\">\r\n                  <i class=\"el-icon\">\r\n                    <Plus />\r\n                  </i>\r\n                  <span>继续选择</span>\r\n                </div>\r\n                <div\r\n                  class=\"upload-icon-btn\"\r\n                  @click=\"uploadMaterial('firstFrames')\"\r\n                  :style=\"\r\n                    formData.count === checkedData.checkedFirstFrames?.length\r\n                      ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                      : {}\r\n                  \"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Upload />\r\n                  </i>\r\n                </div>\r\n              </div>\r\n              <div class=\"music-card-content\">\r\n                <div class=\"music-settings\">\r\n                  <div class=\"setting-item\">\r\n                    <div class=\"setting-label\">音量</div>\r\n                    <el-slider\r\n                      class=\"volume-slider\"\r\n                      :model-value=\"preVideoDbValue\"\r\n                      @update:model-value=\"updatePreVideoDbValue\"\r\n                      :min=\"-20\"\r\n                      :max=\"20\"\r\n                      :step=\"0.1\"\r\n                      :format-tooltip=\"(val) => val.toFixed(1) + ' dB'\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"edit-title-tip\" @click.stop=\"openTitleSettings\">\r\n                <i class=\"el-icon\">\r\n                  <i-ep-edit />\r\n                </i>\r\n                <span>编辑标题</span>\r\n              </div>\r\n            </div>\r\n            <div v-else class=\"select-material-btn\">\r\n              <div class=\"select-btn\" @click=\"selectMaterial('firstFrames')\">\r\n                <i class=\"el-icon\">\r\n                  <Plus />\r\n                </i>\r\n                <span>选择首帧视频</span>\r\n              </div>\r\n            </div>\r\n            <div\r\n              class=\"upload-btn\"\r\n              @click=\"uploadMaterial('firstFrames')\"\r\n              v-if=\"!checkedData.checkedFirstFrames?.length\"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Upload />\r\n              </i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 正片分区 -->\r\n        <div class=\"section-divider\">\r\n          <span class=\"divider-text\">正片</span>\r\n        </div>\r\n\r\n        <!-- 解压视频 -->\r\n        <div class=\"material-row\">\r\n          <div class=\"material-label required-label\">解压视频</div>\r\n          <div class=\"material-controls\">\r\n            <!-- 解压视频选择按钮 -->\r\n            <div\r\n              v-if=\"checkedData.checkedVideo?.length > 0\"\r\n              class=\"selected-material\"\r\n              @click=\"selectMaterial('video')\"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Check />\r\n              </i>\r\n              <span v-if=\"isFromMaterialChecked.video\"\r\n                >已选 {{ checkedData.checkedVideo.length }} 项</span\r\n              >\r\n              <span\r\n                v-else\r\n                class=\"selection-text\"\r\n                :title=\"\r\n                  mergeTags(tagValue.unzipVideoTag)\r\n                    ?.map((item) => item.label)\r\n                    .join('、')\r\n                \"\r\n                >已选标签:\r\n                {{\r\n                  mergeTags(tagValue.unzipVideoTag)\r\n                    .map((item) => item.label)\r\n                    .join('、')\r\n                }}</span\r\n              >\r\n            </div>\r\n            <div v-else class=\"select-material-btn\" @click=\"selectMaterial('video')\">\r\n              <i class=\"el-icon\">\r\n                <Plus />\r\n              </i>\r\n              <span>选择解压视频</span>\r\n            </div>\r\n            <div\r\n              class=\"upload-btn\"\r\n              @click=\"uploadMaterial('video')\"\r\n              :style=\"\r\n                formData.count === checkedData.checkedVideo?.length\r\n                  ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                  : {}\r\n              \"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Upload />\r\n              </i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 置顶视频部分 -->\r\n        <div class=\"material-row\">\r\n          <div class=\"material-label\">置顶视频</div>\r\n          <div class=\"material-controls\">\r\n            <!-- 置顶视频选择按钮 -->\r\n            <div\r\n              v-if=\"checkedData.checkedTopVideo?.length > 0\"\r\n              class=\"selected-material\"\r\n              @click=\"selectMaterial('video', 'top')\"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Check />\r\n              </i>\r\n              <span v-if=\"isFromMaterialChecked.topVideo\"\r\n                >已选 {{ checkedData.checkedTopVideo.length }} 项</span\r\n              >\r\n              <span\r\n                v-else\r\n                class=\"selection-text\"\r\n                :title=\"\r\n                  mergeTags(tagValue.topVideoTags)\r\n                    ?.map((item) => item.label)\r\n                    .join('、')\r\n                \"\r\n                >已选标签:\r\n                {{\r\n                  mergeTags(tagValue.topVideoTags)\r\n                    .map((item) => item.label)\r\n                    .join('、')\r\n                }}</span\r\n              >\r\n            </div>\r\n            <div v-else class=\"select-material-btn\" @click=\"selectMaterial('video', 'top')\">\r\n              <i class=\"el-icon\">\r\n                <Plus />\r\n              </i>\r\n              <span>选择置顶视频</span>\r\n            </div>\r\n            <div class=\"upload-btn\" @click=\"uploadMaterial('video', 'topVideo')\">\r\n              <i class=\"el-icon\">\r\n                <Upload />\r\n              </i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 背景音乐 -->\r\n        <div class=\"material-row\">\r\n          <div class=\"material-label\">背景音乐</div>\r\n          <div class=\"material-controls\">\r\n            <!-- 已选择音乐时的显示 -->\r\n            <div\r\n              v-if=\"checkedData.checkedMusic?.length\"\r\n              class=\"music-card search-box-card\"\r\n              style=\"cursor: pointer\"\r\n            >\r\n              <div class=\"music-card-header\">\r\n                <div class=\"music-selected-info\" v-if=\"isFromMaterialChecked.music\">\r\n                  已选择 {{ checkedData.checkedMusic.length }} 项音乐\r\n                </div>\r\n\r\n                <span\r\n                  class=\"music-selected-info\"\r\n                  v-else\r\n                  :title=\"\r\n                    mergeTags(tagValue.musicTags)\r\n                      ?.map((item) => item.label)\r\n                      .join('、')\r\n                  \"\r\n                  >已选标签:\r\n                  {{\r\n                    mergeTags(tagValue.musicTags)\r\n                      .map((item) => item.label)\r\n                      .join('、')\r\n                  }}</span\r\n                >\r\n\r\n                <div class=\"continue-select-btn\" @click.stop=\"selectMaterial('music')\">\r\n                  <i class=\"el-icon\">\r\n                    <Plus />\r\n                  </i>\r\n                  <span @click.stop=\"selectMaterial('music')\">继续选择</span>\r\n                </div>\r\n                <div\r\n                  class=\"upload-btn\"\r\n                  @click=\"uploadMaterial('music')\"\r\n                  :style=\"\r\n                    formData.count === checkedData.checkedMusic?.length\r\n                      ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                      : {}\r\n                  \"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Upload />\r\n                  </i>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"music-card-content\" @click.stop>\r\n                <div class=\"music-settings\">\r\n                  <div class=\"setting-item\">\r\n                    <div class=\"setting-label\">音量</div>\r\n                    <el-slider\r\n                      :model-value=\"musicDbValue\"\r\n                      @update:model-value=\"updateMusicDbValue\"\r\n                      :min=\"-20\"\r\n                      :max=\"20\"\r\n                      :step=\"0.1\"\r\n                      :format-tooltip=\"(val) => val.toFixed(1) + ' dB'\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"setting-item\">\r\n                    <div class=\"setting-label\">开始位置</div>\r\n                    <div class=\"position-selector\">\r\n                      <div\r\n                        v-for=\"option in musicStartPositionOptions\"\r\n                        :key=\"option.value\"\r\n                        class=\"position-option\"\r\n                        :class=\"{\r\n                          selected: formData.musicStartPosition === option.value\r\n                        }\"\r\n                        @click.stop=\"updateMusicStartPosition(option.value)\"\r\n                      >\r\n                        {{ option.label }}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 未选择音乐时的显示 -->\r\n            <div v-else class=\"select-material-btn\" @click=\"selectMaterial('music')\">\r\n              <i class=\"el-icon\">\r\n                <Plus />\r\n              </i>\r\n              <span>选择背景音乐</span>\r\n            </div>\r\n\r\n            <!-- 上传按钮 -->\r\n            <div\r\n              v-if=\"!checkedData.checkedMusic?.length\"\r\n              class=\"upload-btn\"\r\n              @click=\"uploadMaterial('music')\"\r\n              :style=\"\r\n                formData.count === checkedData.checkedMusic?.length\r\n                  ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                  : {}\r\n              \"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Upload />\r\n              </i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 贴图 -->\r\n        <div class=\"material-row\">\r\n          <div class=\"material-label\">贴图</div>\r\n          <div class=\"material-controls\">\r\n            <!-- 贴图已选择时的显示 -->\r\n            <div\r\n              v-if=\"checkedData.checkedStickers?.length\"\r\n              class=\"selected-material\"\r\n              @click=\"isGroupModeActive ? null : selectMaterial('stickers')\"\r\n              :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : {}\"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Check />\r\n              </i>\r\n              <span v-if=\"isFromMaterialChecked.stickers\"\r\n                >已选 {{ checkedData.checkedStickers?.length }} 项贴图</span\r\n              >\r\n              <span\r\n                v-else\r\n                class=\"selection-text\"\r\n                :title=\"\r\n                  mergeTags(tagValue.stickersTags)\r\n                    .map((item) => item.label)\r\n                    .join('、')\r\n                \"\r\n                >已选标签:\r\n                {{\r\n                  mergeTags(tagValue.stickersTags)\r\n                    .map((item) => item.label)\r\n                    .join('、')\r\n                }}</span\r\n              >\r\n              <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n            </div>\r\n\r\n            <!-- 带文字图片已选择时的显示 -->\r\n            <div\r\n              v-else-if=\"checkedData.checkedTextImages.length\"\r\n              class=\"music-card search-box-card\"\r\n              @click=\"isGroupModeActive ? null : selectMaterial('textImage')\"\r\n              :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : { cursor: 'pointer' }\"\r\n            >\r\n              <div class=\"music-card-header\">\r\n                <div class=\"music-selected-info\" v-if=\"isFromMaterialChecked.textImage\">\r\n                  已选择 {{ checkedData.checkedTextImages.length }} 项搜索框\r\n                  <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                </div>\r\n\r\n                <span\r\n                  class=\"music-selected-info\"\r\n                  v-else\r\n                  :title=\"\r\n                    mergeTags(tagValue.textImageTags)\r\n                      .map((item) => item.label)\r\n                      .join('、')\r\n                  \"\r\n                  >已选标签:\r\n                  {{\r\n                    mergeTags(tagValue.textImageTags)\r\n                      .map((item) => item.label)\r\n                      .join('、')\r\n                  }}\r\n                  <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span\r\n                ></span>\r\n\r\n                <div\r\n                  class=\"continue-select-btn\"\r\n                  @click.stop=\"isGroupModeActive ? null : selectMaterial('textImage')\"\r\n                  :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Plus />\r\n                  </i>\r\n                  <span>继续选择</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"music-card-content\" @click=\"e => {e.stopPropagation()}\">\r\n                <div class=\"search-box-settings\">\r\n                  <div class=\"setting-item\">\r\n                    <div class=\"setting-label\">内容</div>\r\n                    <el-input\r\n                      :model-value=\"mainSearchBoxText\"\r\n                      @update:model-value=\"updateMainSearchBoxText\"\r\n                      placeholder=\"请输入搜索框显示的文本\"\r\n                      clearable\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 未选择任何内容时的显示 -->\r\n            <div\r\n              v-else\r\n              class=\"select-material-btn\"\r\n              @click=\"isGroupModeActive ? null : selectMaterial('stickers')\"\r\n              :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Plus />\r\n              </i>\r\n              <span>选择贴图</span>\r\n              <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n            </div>\r\n\r\n            <!-- 上传按钮 -->\r\n            <div\r\n              class=\"upload-btn\"\r\n              @click=\"\r\n                isGroupModeActive\r\n                  ? null\r\n                  : uploadMaterial(checkedData.checkedTextImages.length ? 'textImage' : 'stickers')\r\n              \"\r\n              :style=\"\r\n                isGroupModeActive ||\r\n                formData.count ===\r\n                  (checkedData.checkedStickers?.length || checkedData.checkedTextImages?.length)\r\n                  ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                  : {}\r\n              \"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Upload />\r\n              </i>\r\n              <span v-if=\"isGroupModeActive\" class=\"upload-disabled-tip\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 尾帧 -->\r\n        <div class=\"material-row\">\r\n          <div class=\"material-label\">尾帧</div>\r\n          <div class=\"material-controls\">\r\n            <!-- 尾帧视频已选择时的显示 -->\r\n            <div\r\n              v-if=\"checkedData.checkedLastFrames?.length\"\r\n              class=\"selected-material\"\r\n              @click=\"isGroupModeActive ? null : selectMaterial('lastFrames')\"\r\n              :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : {}\"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Check />\r\n              </i>\r\n              <span v-if=\"isFromMaterialChecked.lastFrames\"\r\n                >已选 {{ checkedData.checkedLastFrames?.length }} 项尾帧视频</span\r\n              >\r\n              <span\r\n                v-else\r\n                class=\"selection-text\"\r\n                :title=\"\r\n                  mergeTags(tagValue.lastFrameTags)\r\n                    .map((item) => item.label)\r\n                    .join('、')\r\n                \"\r\n                >已选标签:\r\n                {{\r\n                  mergeTags(tagValue.lastFrameTags)\r\n                    .map((item) => item.label)\r\n                    .join('、')\r\n                }}</span\r\n              >\r\n              <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n            </div>\r\n\r\n            <!-- 带文字视频已选择时的显示 -->\r\n            <div\r\n              v-else-if=\"checkedData.checkedTextVideos.length\"\r\n              class=\"music-card search-box-card\"\r\n              @click=\"isGroupModeActive ? null : selectMaterial('textVideo')\"\r\n              :style=\"isGroupModeActive ? { cursor: 'not-allowed' } : { cursor: 'pointer' }\"\r\n            >\r\n              <div class=\"music-card-header\">\r\n                <div class=\"music-selected-info\" v-if=\"isFromMaterialChecked.textVideo\">\r\n                  已选择 {{ checkedData.checkedTextVideos.length }} 项尾帧搜索框\r\n                  <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n                </div>\r\n\r\n                <span\r\n                  class=\"music-selected-info\"\r\n                  v-else\r\n                  :title=\"\r\n                    mergeTags(tagValue.textVideoTags)\r\n                      .map((item) => item.label)\r\n                      .join('、')\r\n                  \"\r\n                  >已选标签:\r\n                  {{\r\n                    mergeTags(tagValue.textVideoTags)\r\n                      .map((item) => item.label)\r\n                      .join('、')\r\n                  }}\r\n                  <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span\r\n                ></span>\r\n\r\n                <div\r\n                  class=\"continue-select-btn\"\r\n                  @click=\"isGroupModeActive ? null : selectMaterial('textVideo')\"\r\n                  :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n                >\r\n                  <i class=\"el-icon\">\r\n                    <Plus />\r\n                  </i>\r\n                  <span>继续选择</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"music-card-content\" @click=\"e => {e.stopPropagation()}\">\r\n                <div class=\"search-box-settings\">\r\n                  <div class=\"setting-item\">\r\n                    <div class=\"setting-label\">内容</div>\r\n                    <el-input\r\n                      :model-value=\"endSearchBoxText\"\r\n                      @update:model-value=\"updateEndSearchBoxText\"\r\n                      placeholder=\"请输入搜索框显示的文本\"\r\n                      clearable\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 未选择任何内容时的显示 -->\r\n            <div\r\n              v-else\r\n              class=\"select-material-btn\"\r\n              @click=\"isGroupModeActive ? null : selectMaterial('lastFrames')\"\r\n              :style=\"isGroupModeActive ? { cursor: 'not-allowed', opacity: 0.6 } : {}\"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Plus />\r\n              </i>\r\n              <span>选择尾帧</span>\r\n              <span v-if=\"isGroupModeActive\" class=\"disabled-tip\"></span>\r\n            </div>\r\n\r\n            <!-- 上传按钮 -->\r\n            <div\r\n              class=\"upload-btn\"\r\n              @click=\"\r\n                isGroupModeActive\r\n                  ? null\r\n                  : uploadMaterial(\r\n                      checkedData.checkedTextVideos.length ? 'textVideo' : 'lastFrames'\r\n                    )\r\n              \"\r\n              :style=\"\r\n                isGroupModeActive ||\r\n                formData.count ===\r\n                  (checkedData.checkedLastFrames?.length || checkedData.checkedTextVideos?.length)\r\n                  ? { cursor: 'not-allowed', opacity: 0.6 }\r\n                  : {}\r\n              \"\r\n            >\r\n              <i class=\"el-icon\">\r\n                <Upload />\r\n              </i>\r\n              <span v-if=\"isGroupModeActive\" class=\"upload-disabled-tip\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// No imports needed from Vue\r\nimport { Check, Plus, Upload } from '@element-plus/icons-vue'\r\n\r\nconst props = defineProps({\r\n  formData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  checkedData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  tagValue: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  rules: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  musicStartPositionOptions: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  musicDbValue: {\r\n    type: Number,\r\n    required: true\r\n  },\r\n  mainSearchBoxText: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  endSearchBoxText: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  showMaterialConfig: {\r\n    type: Boolean,\r\n    required: true\r\n  },\r\n  isGroupModeActive: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  isFromMaterialChecked: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  preVideoDbValue: {\r\n    type: Number,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits([\r\n  'update:showMaterialConfig',\r\n  'update:musicDbValue',\r\n  'update:mainSearchBoxText',\r\n  'update:endSearchBoxText',\r\n  'update:formData',\r\n  'selectMaterial',\r\n  'uploadMaterial',\r\n  'update:preVideoDbValue',\r\n  'openTitleSettings'\r\n])\r\n\r\n// 切换素材配置显示状态\r\nconst toggleMaterialConfig = () => {\r\n  emit('update:showMaterialConfig', !props.showMaterialConfig)\r\n}\r\n\r\n// 选择素材\r\nconst selectMaterial = (type, from) => {\r\n  emit('selectMaterial', { type, from })\r\n}\r\n\r\n// 上传素材\r\nconst uploadMaterial = (type, from) => {\r\n  emit('uploadMaterial', { type, from })\r\n}\r\n\r\n// 合并标签\r\nconst mergeTags = (tags) => {\r\n  if (!tags) return []\r\n  return [...(tags.shared || []), ...(tags.personal || [])]\r\n}\r\n\r\n// 更新音乐音量\r\nconst updateMusicDbValue = (value) => {\r\n  emit('update:musicDbValue', value)\r\n}\r\n\r\n// 更新主搜索框文本\r\nconst updateMainSearchBoxText = (value) => {\r\n  emit('update:mainSearchBoxText', value)\r\n}\r\n\r\n// 更新尾帧搜索框文本\r\nconst updateEndSearchBoxText = (value) => {\r\n  emit('update:endSearchBoxText', value)\r\n}\r\n\r\n// 更新音乐开始位置\r\nconst updateMusicStartPosition = (value) => {\r\n  // 直接修改父组件中的数据\r\n  const updatedFormData = { ...props.formData, musicStartPosition: value }\r\n  // 触发事件通知父组件更新\r\n  emit('update:formData', updatedFormData)\r\n  console.log('Updated music start position to:', value)\r\n}\r\n\r\n// 首帧音量\r\nconst updatePreVideoDbValue = (value) => {\r\n  emit('update:preVideoDbValue', value)\r\n}\r\n\r\n// 方法：打开标题设置\r\nconst openTitleSettings = () => {\r\n  emit('openTitleSettings')\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/* 素材卡片样式 */\r\n.task-info-section {\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.task-info-card {\r\n  border: none;\r\n  border-radius: 0;\r\n\r\n  &:last-child {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n  }\r\n}\r\n\r\n.card-header {\r\n  padding: 14px 16px;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  transition: all 0.3s;\r\n  color: var(--text-dark);\r\n}\r\n\r\n.card-title {\r\n  color: var(--text-dark);\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n}\r\n\r\n.collapse-icon {\r\n  font-size: 18px;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  background: rgba(255, 255, 255, 0.4);\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.card-content {\r\n  padding: 15px;\r\n  overflow-y: visible;\r\n  overflow-x: hidden;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.material-content {\r\n  padding: 0;\r\n  background-color: #fff;\r\n\r\n  .section-divider {\r\n    display: flex;\r\n    align-items: center;\r\n    text-align: center;\r\n    padding: 10px 16px;\r\n    margin: 0;\r\n\r\n    &::before,\r\n    &::after {\r\n      content: '';\r\n      flex: 1;\r\n      height: 1px;\r\n      background-color: #ebeef5;\r\n    }\r\n\r\n    .divider-text {\r\n      padding: 0 12px;\r\n      font-size: 14px;\r\n      color: #909399;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n\r\n  .unzip-video-btn {\r\n    :deep(.el-form-item__label) {\r\n      margin-bottom: 0;\r\n      color: #606266;\r\n      font-size: 14px;\r\n      margin-bottom: 8px;\r\n    }\r\n    :deep(.el-form-item__label::after) {\r\n      content: '*';\r\n      color: var(--el-color-danger);\r\n      margin-left: 4px;\r\n    }\r\n  }\r\n}\r\n\r\n.material-row {\r\n  margin-bottom: 16px;\r\n  padding: 0 16px;\r\n\r\n  .material-label {\r\n    margin-bottom: 8px;\r\n    color: #606266;\r\n    font-size: 14px;\r\n\r\n    &.required-label::after {\r\n      content: '*';\r\n      color: #f56c6c;\r\n      margin-right: 4px;\r\n    }\r\n  }\r\n\r\n  .material-controls {\r\n    display: flex;\r\n    gap: 8px;\r\n    align-items: center;\r\n    width: 100%;\r\n\r\n    .selected-material,\r\n    .select-material-btn {\r\n      flex: 1;\r\n      height: 39px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 4px;\r\n      padding: 0 12px;\r\n      border-radius: 4px;\r\n      cursor: pointer;\r\n      transition: all 0.3s;\r\n      font-size: 14px;\r\n\r\n      .el-icon {\r\n        margin-right: 4px;\r\n      }\r\n\r\n      .disabled-tip {\r\n        color: #f56c6c;\r\n        margin-left: 4px;\r\n        font-weight: 500;\r\n      }\r\n    }\r\n\r\n    .disabled-tip {\r\n      color: #f56c6c;\r\n      margin-left: 4px;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .selected-material {\r\n      border: 1px solid #409eff;\r\n      background-color: #ecf5ff;\r\n      color: #409eff;\r\n\r\n      &:hover {\r\n        background-color: #409eff;\r\n        color: #fff;\r\n        transform: translateY(-1px);\r\n        box-shadow: 0 2px 6px rgba(64, 158, 255, 0.2);\r\n      }\r\n\r\n      .selection-text {\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        max-width: 250px;\r\n      }\r\n    }\r\n\r\n    .select-material-btn {\r\n      border: 1px solid #dcdfe6;\r\n      background-color: #fff;\r\n      color: #606266;\r\n\r\n      &:hover {\r\n        border-color: #409eff;\r\n        color: #409eff;\r\n        background: linear-gradient(\r\n          135deg,\r\n          rgba(128, 135, 255, 0.15),\r\n          rgba(116, 189, 255, 0.15),\r\n          rgba(124, 239, 203, 0.15)\r\n        );\r\n        transform: translateY(-1px);\r\n        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\r\n      }\r\n    }\r\n\r\n    .upload-btn {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 36px;\r\n      height: 36px;\r\n      border-radius: 4px;\r\n      background: transparent;\r\n      border: 1px solid #dcdfe6;\r\n      cursor: pointer;\r\n      transition: all 0.3s ease;\r\n      position: relative;\r\n\r\n      &:hover {\r\n        background-color: #ecf5ff;\r\n        border-color: #409eff;\r\n\r\n        .el-icon {\r\n          color: #409eff;\r\n        }\r\n      }\r\n\r\n      .el-icon {\r\n        color: #909399;\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.material-selection {\r\n  width: 100%;\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: center;\r\n}\r\n\r\n/* 音乐卡片样式 */\r\n.music-card {\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\r\n  border: 1px solid rgba(124, 189, 255, 0.3);\r\n  width: 100%;\r\n  min-width: 300px;\r\n\r\n  &.search-box-card {\r\n    border: 1px solid #d9ecff;\r\n  }\r\n}\r\n\r\n/* 首帧视频卡片中的编辑标题提示 */\r\n.edit-title-tip {\r\n  position: absolute;\r\n  bottom: -30px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  background-color: #f0f7ff;\r\n  color: #409eff;\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n\r\n  i {\r\n    font-size: 14px;\r\n  }\r\n\r\n  span {\r\n    white-space: nowrap;\r\n  }\r\n}\r\n\r\n.pre-video-card {\r\n  position: relative;\r\n  overflow: visible;\r\n\r\n  &:hover {\r\n    .edit-title-tip {\r\n      opacity: 1;\r\n      bottom: -24px;\r\n      pointer-events: auto;\r\n    }\r\n  }\r\n}\r\n\r\n.music-card-header {\r\n  padding: 10px 12px;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  color: #606266;\r\n  font-weight: 500;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.music-card-content {\r\n  padding: 15px;\r\n  display: flex;\r\n  width: 100%;\r\n  background: rgba(255, 255, 255, 0.5);\r\n  min-width: 300px;\r\n}\r\n\r\n.music-selected-info {\r\n  font-size: 14px;\r\n  color: #606266;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  width: 215px;\r\n}\r\n\r\n.continue-select-btn {\r\n  padding: 4px 10px;\r\n  border-radius: 16px;\r\n  font-size: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  color: #409eff;\r\n  background-color: rgba(64, 158, 255, 0.1);\r\n  transition: all 0.2s ease;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: rgba(64, 158, 255, 0.2);\r\n    color: #409eff;\r\n    transform: translateY(-1px);\r\n  }\r\n}\r\n\r\n.upload-icon-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 8px;\r\n  background: transparent;\r\n  border: 1px solid rgba(124, 189, 255, 0.3);\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.15),\r\n      rgba(116, 189, 255, 0.15),\r\n      rgba(124, 239, 203, 0.15)\r\n    );\r\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\r\n    transform: translateY(-1px);\r\n    border-color: #409eff;\r\n\r\n    .el-icon {\r\n      color: #409eff;\r\n    }\r\n  }\r\n\r\n  .el-icon {\r\n    color: #909399;\r\n    font-size: 16px;\r\n  }\r\n\r\n  .upload-disabled-tip {\r\n    position: absolute;\r\n    bottom: -20px;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    color: #f56c6c;\r\n    font-size: 12px;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n\r\n.music-settings {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n  width: 100%;\r\n}\r\n\r\n.setting-item {\r\n  margin-bottom: 10px;\r\n  width: 100%;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .setting-label {\r\n    font-size: 13px;\r\n    color: #606266;\r\n    font-weight: 500;\r\n    margin-bottom: 8px;\r\n  }\r\n}\r\n\r\n.position-selector {\r\n  display: flex;\r\n  gap: 10px;\r\n  width: 100%;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.position-option {\r\n  padding: 6px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  background-color: rgba(240, 240, 240, 0.5);\r\n  color: #606266;\r\n  transition: all 0.3s ease;\r\n  border: 1px solid transparent;\r\n  text-align: center;\r\n\r\n  &.selected {\r\n    background: linear-gradient(\r\n      135deg,\r\n      rgba(128, 135, 255, 0.25),\r\n      rgba(116, 189, 255, 0.25),\r\n      rgba(124, 239, 203, 0.25)\r\n    );\r\n    color: #606266;\r\n    border-color: rgba(124, 189, 255, 0.3);\r\n  }\r\n\r\n  &:hover:not(.selected) {\r\n    background-color: rgba(230, 230, 230, 0.8);\r\n    border-color: #c6e2ff;\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n  }\r\n}\r\n\r\n.search-box-settings {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n  width: 100%;\r\n}\r\n\r\n/* Removed unused music-settings-panel class */\r\n</style>\r\n","<template>\r\n  <el-dialog\r\n    v-model=\"dialogVisible\"\r\n    title=\"保存正文配置\"\r\n    width=\"400\"\r\n    :before-close=\"handleClose\"\r\n  >\r\n    <el-form :model=\"formModel\" label-width=\"auto\" :rules=\"rules\" ref=\"formRef\" @submit.prevent>\r\n      <el-form-item label=\"配置名称\" prop=\"configName\">\r\n        <el-input v-model=\"formModel.configName\" placeholder=\"请输入配置名称\" @keyup.enter=\"handleConfirm\" />\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <template #footer>\r\n      <div class=\"dialog-footer\">\r\n        <el-button @click=\"handleCancel\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleConfirm\">保存</el-button>\r\n      </div>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed } from 'vue'\r\n\r\nconst props = defineProps({\r\n  dialogVisible: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  formData: {\r\n    type: Object,\r\n    default: () => ({})\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:dialogVisible', 'confirm', 'load'])\r\n\r\n// 计算属性：双向绑定dialogVisible\r\nconst dialogVisible = computed({\r\n  get: () => props.dialogVisible,\r\n  set: (val) => emit('update:dialogVisible', val)\r\n})\r\n\r\nconst formRef = ref()\r\nconst formModel = reactive({\r\n  configName: ''\r\n})\r\n\r\n// 表单验证规则\r\nconst rules = {\r\n  configName: [\r\n    { required: true, message: '请输入配置名称', trigger: 'blur' },\r\n    { min: 1, max: 50, message: '长度在 1 到 50 个字符', trigger: 'blur' }\r\n  ]\r\n}\r\n\r\n// 关闭对话框\r\nconst handleClose = () => {\r\n  dialogVisible.value = false\r\n  formRef.value?.resetFields()\r\n}\r\n\r\n// 取消按钮\r\nconst handleCancel = () => {\r\n  dialogVisible.value = false\r\n  formRef.value?.resetFields()\r\n}\r\n\r\n// 确认保存配置\r\nconst handleConfirm = () => {\r\n  formRef.value?.validate((valid) => {\r\n    if (valid) {\r\n      // 获取已保存的配置列表\r\n      let savedConfigs = JSON.parse(localStorage.getItem('videoConfigs') || '[]')\r\n\r\n      // 生成唯一ID (使用时间戳)\r\n      const configId = Date.now().toString()\r\n\r\n      // 提取需要保存的配置\r\n      const configToSave = {\r\n        id: configId,\r\n        configName: formModel.configName,\r\n        fontFamily: props.formData.fontFamily,\r\n        novelFontSize: props.formData.novelFontSize,\r\n        novelStrokeWidth: props.formData.novelStrokeWidth,\r\n        novelColorMode: props.formData.novelColorMode,\r\n        novelForegroundColor: props.formData.novelForegroundColor,\r\n        novelBackgroundColor: props.formData.novelBackgroundColor,\r\n        novelStrokeColor: props.formData.novelStrokeColor,\r\n        novelTopMargin: props.formData.novelTopMargin,\r\n        novelVolume: props.formData.novelVolume\r\n      }\r\n\r\n      // 添加新配置\r\n      savedConfigs.push(configToSave)\r\n\r\n      // 保存回localStorage\r\n      localStorage.setItem('videoConfigs', JSON.stringify(savedConfigs))\r\n\r\n      // 触发confirm事件，将新配置的ID传递给父组件\r\n      emit('confirm', { config: configToSave, id: configId })\r\n      formRef.value?.resetFields()\r\n      dialogVisible.value = false\r\n    } else {\r\n      return false\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dialog-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n}\r\n</style>\r\n","<template>\r\n  <!-- 正文配置卡片 -->\r\n  <div class=\"main-section\" :class=\"{ 'main-section-active': showTextConfig }\">\r\n    <div class=\"main-header\" @click=\"toggleTextConfig\">\r\n      <h3>正文</h3>\r\n      <div class=\"main-collapse-icon\">\r\n        <span v-if=\"showTextConfig\">−</span>\r\n        <span v-else>+</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-content\" :class=\"{ hidden: !showTextConfig }\">\r\n      <div class=\"settings-container\">\r\n        <!-- 配置操作按钮 -->\r\n        <div class=\"config-actions\">\r\n          <button class=\"config-action-btn\" @click=\"handleOpenSaveVideoConfig\">保存配置</button>\r\n          <div class=\"config-select-wrapper\">\r\n            <el-select\r\n              v-model=\"selectedVideoConfigId\"\r\n              placeholder=\"请选择配置\"\r\n              @change=\"handleLoadVideoConfig\"\r\n              style=\"width: 150px; height: 32px\"\r\n            >\r\n              <el-option\r\n                v-for=\"item in savedVideoConfigs\"\r\n                :key=\"item.id || item.configName\"\r\n                :label=\"item.configName\"\r\n                :value=\"item.id || item.configName\"\r\n              />\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 文字样式设置 -->\r\n        <div class=\"setting-block\">\r\n          <div class=\"setting-header\" @click=\"toggleFontSettings\">\r\n            <div class=\"setting-title\">文字样式</div>\r\n            <div class=\"setting-collapse-icon\" :class=\"{ collapsed: !showFontSettings }\">▼</div>\r\n          </div>\r\n          <div class=\"setting-content\" :class=\"{ hidden: !showFontSettings }\">\r\n            <!-- 文字样式内容 -->\r\n            <div class=\"form-group\">\r\n              <el-form-item label=\"字体\" prop=\"fontFamily\" label-position=\"top\">\r\n                <el-select\r\n                  :model-value=\"formData.fontFamily\"\r\n                  @update:model-value=\"updateFormData('fontFamily', $event)\"\r\n                  placeholder=\"选择字体\"\r\n                  filterable\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in fontFamilyOptions\"\r\n                    :key=\"item.id\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item.id\"\r\n                  />\r\n                </el-select>\r\n              </el-form-item>\r\n            </div>\r\n\r\n            <div class=\"form-row\">\r\n              <div class=\"form-column\">\r\n                <el-form-item label=\"字号\" prop=\"novelFontSize\" label-position=\"top\">\r\n                  <el-input-number\r\n                    :model-value=\"formData.novelFontSize\"\r\n                    @update:model-value=\"updateFormData('novelFontSize', $event)\"\r\n                    :min=\"1\"\r\n                    :max=\"100\"\r\n                    label=\"字号\"\r\n                  />\r\n                </el-form-item>\r\n              </div>\r\n\r\n              <div class=\"form-column\">\r\n                <el-form-item label=\"描边宽度\" prop=\"novelStrokeWidth\" label-position=\"top\">\r\n                  <el-input-number\r\n                    :model-value=\"formData.novelStrokeWidth\"\r\n                    @update:model-value=\"updateFormData('novelStrokeWidth', $event)\"\r\n                    :min=\"1\"\r\n                    :max=\"20\"\r\n                    :step=\"1\"\r\n                  ></el-input-number>\r\n                </el-form-item>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- 字符间距和段落间距横排 -->\r\n            <div class=\"form-group\">\r\n              <div v-if=\"formData.novelColorMode\">\r\n                <el-button @click=\"randomizeNovelColors\">生成随机配色</el-button>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\" style=\"display: flex\">\r\n              <el-form-item label=\"字体色\" prop=\"novelForegroundColor\" label-position=\"top\">\r\n                <el-color-picker\r\n                  :model-value=\"formData.novelForegroundColor\"\r\n                  @update:model-value=\"updateFormData('novelForegroundColor', $event)\"\r\n                  show-alpha\r\n                />\r\n              </el-form-item>\r\n              <el-form-item label=\"背景色\" prop=\"novelBackgroundColor\" label-position=\"top\">\r\n                <el-color-picker\r\n                  :model-value=\"formData.novelBackgroundColor\"\r\n                  @update:model-value=\"updateFormData('novelBackgroundColor', $event)\"\r\n                  show-alpha\r\n                />\r\n              </el-form-item>\r\n              <el-form-item label=\"描边颜色\" prop=\"novelStrokeColor\" label-position=\"top\">\r\n                <el-color-picker\r\n                  :model-value=\"formData.novelStrokeColor\"\r\n                  @update:model-value=\"updateFormData('novelStrokeColor', $event)\"\r\n                  show-alpha\r\n                />\r\n              </el-form-item>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n              <el-form-item label=\"顶部距离\" prop=\"novelTopMargin\" label-position=\"top\">\r\n                <el-slider\r\n                  :model-value=\"formData.novelTopMargin\"\r\n                  @update:model-value=\"updateFormData('novelTopMargin', $event)\"\r\n                  :min=\"0\"\r\n                  :max=\"1\"\r\n                  :step=\"0.001\"\r\n                  style=\"width: 300px\"\r\n                ></el-slider>\r\n              </el-form-item>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 音量设置 -->\r\n        <div class=\"setting-block\">\r\n          <div class=\"setting-header\" @click=\"toggleVolumeSettings\">\r\n            <div class=\"setting-title\">音量设置</div>\r\n            <div class=\"setting-collapse-icon\" :class=\"{ collapsed: !showVolumeSettings }\">▼</div>\r\n          </div>\r\n          <div class=\"setting-content\" :class=\"{ hidden: !showVolumeSettings }\">\r\n            <!-- 音量设置内容 -->\r\n            <div class=\"form-group\">\r\n              <label>音量大小</label>\r\n              <el-slider\r\n                v-model=\"novelDbValue\"\r\n                :min=\"-20\"\r\n                :max=\"20\"\r\n                :step=\"0.1\"\r\n                :format-tooltip=\"(val) => val.toFixed(1) + ' dB'\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- 保存正文配置对话框 -->\r\n  <SaveVideoConfig\r\n    v-model:dialogVisible=\"saveVideoConfigDialogVisible\"\r\n    :formData=\"formData\"\r\n    @confirm=\"handleSaveVideoConfigConfirm\"\r\n  />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted, nextTick } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { getRandomColorCombination } from '@/utils/utils.js'\r\nimport SaveVideoConfig from './SaveMainContentSectionDialog.vue'\r\nimport bus from '@/utils/mitt.js'\r\nimport { useNovelStore } from '@/store/novelStore'\r\nconst novelStore = useNovelStore()\r\n\r\nconst props = defineProps({\r\n  formData: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  fontFamilyOptions: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  showTextConfig: {\r\n    type: Boolean,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['update:showTextConfig', 'update:formData', 'randomizeColors'])\r\n\r\n// 计算属性：dB ↔ multiplier 双向转换\r\nconst novelDbValue = computed({\r\n  get: () => {\r\n    // multiplier → dB（确保 novelVolume > 0）\r\n    return 20 * Math.log10(Math.max(0.0001, props.formData.novelVolume))\r\n  },\r\n  set: (dB) => {\r\n    // dB → multiplier\r\n    const updatedFormData = {\r\n      ...props.formData,\r\n      novelVolume: Math.max(0.0001, Math.pow(10, dB / 20))\r\n    }\r\n    emit('update:formData', updatedFormData)\r\n    checkConfigMatch()\r\n  }\r\n})\r\n\r\n// 折叠状态管理\r\nconst showFontSettings = ref(false)\r\nconst showVolumeSettings = ref(false)\r\n\r\n// 保存配置相关状态\r\nconst saveVideoConfigDialogVisible = ref(false)\r\nconst savedVideoConfigs = ref([])\r\nconst selectedVideoConfigId = ref('')\r\n\r\n// 正文折叠卡片控制\r\nconst toggleTextConfig = () => {\r\n  emit('update:showTextConfig', !props.showTextConfig)\r\n}\r\n\r\n// 文字样式折叠控制\r\nconst toggleFontSettings = () => {\r\n  showFontSettings.value = !showFontSettings.value\r\n}\r\n\r\n// 音量设置折叠控制\r\nconst toggleVolumeSettings = () => {\r\n  showVolumeSettings.value = !showVolumeSettings.value\r\n}\r\n\r\n// 随机生成配色\r\nconst randomizeNovelColors = () => {\r\n  const randomColor = getRandomColorCombination()\r\n  const updatedFormData = {\r\n    ...props.formData,\r\n    novelForegroundColor: randomColor.fill,\r\n    novelBackgroundColor: randomColor.background_color,\r\n    novelStrokeColor: randomColor.stroke_fill\r\n  }\r\n  emit('update:formData', updatedFormData)\r\n}\r\n\r\n// 更新表单数据的通用方法\r\nconst updateFormData = (key, value) => {\r\n  const updatedFormData = { ...props.formData }\r\n  updatedFormData[key] = value\r\n  emit('update:formData', updatedFormData)\r\n\r\n  // 检查修改后的数据是否与当前选择的配置匹配\r\n  checkConfigMatch(updatedFormData)\r\n}\r\n\r\n// 保存和加载配置\r\nconst handleOpenSaveVideoConfig = () => {\r\n  saveVideoConfigDialogVisible.value = true\r\n}\r\n\r\n// 处理保存配置对话框的确认事件\r\nconst handleSaveVideoConfigConfirm = (data) => {\r\n  // 重新加载配置列表\r\n  loadSavedVideoConfigs()\r\n  // 设置选中的配置ID\r\n  if (data && data.id) {\r\n    selectedVideoConfigId.value = data.id\r\n  }\r\n  ElMessage.success('正文配置已保存')\r\n}\r\n\r\n// 加载已保存的配置列表\r\nconst loadSavedVideoConfigs = () => {\r\n  try {\r\n    const configs = JSON.parse(localStorage.getItem('videoConfigs') || '[]')\r\n    savedVideoConfigs.value = configs\r\n\r\n    // 如果有配置，选择最后一个配置\r\n    if (configs.length > 0) {\r\n      const lastConfig = configs[configs.length - 1]\r\n      selectedVideoConfigId.value = lastConfig.id || lastConfig.configName\r\n      handleLoadVideoConfig()\r\n    }\r\n  } catch (error) {\r\n    console.error('加载配置失败', error)\r\n    savedVideoConfigs.value = []\r\n  }\r\n}\r\n\r\n// 从选择的配置中加载\r\nconst handleLoadVideoConfig = () => {\r\n  // 如果没有选择配置，则加载默认配置\r\n  if (!selectedVideoConfigId.value) {\r\n    const savedConfig = localStorage.getItem('videoConfig')\r\n    if (savedConfig) {\r\n      const config = JSON.parse(savedConfig)\r\n      emit('update:formData', { ...props.formData, ...config })\r\n    }\r\n    return\r\n  }\r\n\r\n  // 从已保存的配置中查找选中的配置\r\n  const selectedConfig = savedVideoConfigs.value.find(\r\n    (config) => config.id === selectedVideoConfigId.value\r\n  )\r\n\r\n  if (selectedConfig) {\r\n    // 将选中的配置应用到当前表单\r\n    const updatedFormData = {\r\n      ...props.formData,\r\n      fontFamily: selectedConfig.fontFamily,\r\n      novelFontSize: selectedConfig.novelFontSize,\r\n      novelStrokeWidth: selectedConfig.novelStrokeWidth,\r\n      novelColorMode: selectedConfig.novelColorMode,\r\n      novelForegroundColor: selectedConfig.novelForegroundColor,\r\n      novelBackgroundColor: selectedConfig.novelBackgroundColor,\r\n      novelStrokeColor: selectedConfig.novelStrokeColor,\r\n      novelTopMargin: selectedConfig.novelTopMargin,\r\n      novelVolume: selectedConfig.novelVolume\r\n    }\r\n    emit('update:formData', updatedFormData)\r\n  } else {\r\n    ElMessage.warning('未找到所选配置')\r\n  }\r\n}\r\n\r\n// 检查当前表单数据是否与选中的配置匹配\r\nconst checkConfigMatch = () => {\r\n  // 如果没有选中的配置，则不需要检查\r\n  if (!selectedVideoConfigId.value) return\r\n  selectedVideoConfigId.value = ''\r\n}\r\n\r\n// 在组件挂载时加载配置列表\r\nonMounted(() => {\r\n  loadSavedVideoConfigs()\r\n  if (novelStore.isFromHistoryTask) {\r\n    selectedVideoConfigId.value = ''\r\n  }\r\n  novelStore.setIsFromHistoryTask(false)\r\n})\r\n\r\n// 在组件卸载时移除事件监听器\r\nonUnmounted(() => {\r\n  bus.off('jumpToNovelTask')\r\n})\r\n\r\ndefineExpose({\r\n  loadSavedVideoConfigs\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/* 主要内容区域样式 */\r\n.main-section {\r\n  margin-bottom: 20px;\r\n  border-radius: 8px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\r\n  overflow: hidden;\r\n  transition: all 0.3s;\r\n\r\n  &.main-section-active {\r\n    border-color: #409eff;\r\n    box-shadow: 0 2px 12px rgba(64, 158, 255, 0.1);\r\n  }\r\n}\r\n\r\n.main-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 14px 16px;\r\n  background: linear-gradient(\r\n    135deg,\r\n    rgba(128, 135, 255, 0.15),\r\n    rgba(116, 189, 255, 0.15),\r\n    rgba(124, 239, 203, 0.15)\r\n  );\r\n  border-bottom: 1px solid #f0f0f0;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n\r\n  h3 {\r\n    margin: 0;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: #333;\r\n  }\r\n\r\n  .main-collapse-icon {\r\n    font-size: 18px;\r\n    width: 24px;\r\n    height: 24px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border-radius: 50%;\r\n    background: rgba(255, 255, 255, 0.4);\r\n    transition: transform 0.3s;\r\n\r\n    span {\r\n      font-size: 16px;\r\n      display: inline-block;\r\n      width: 20px;\r\n      height: 20px;\r\n      line-height: 18px;\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n\r\n.main-content {\r\n  padding: 20px;\r\n  transition: all 0.3s;\r\n\r\n  &.hidden {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.settings-container {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n}\r\n\r\n/* 配置操作按钮样式 */\r\n.config-actions {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  margin-bottom: 15px;\r\n  gap: 10px;\r\n}\r\n\r\n.config-action-btn {\r\n  background: linear-gradient(135deg, rgba(128, 135, 255, 0.9), rgba(116, 189, 255, 0.9));\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 6px 12px;\r\n  cursor: pointer;\r\n  font-size: 13px;\r\n  height: 32px;\r\n  line-height: 20px;\r\n  transition: all 0.3s;\r\n\r\n  &:hover {\r\n    background: linear-gradient(135deg, rgba(128, 135, 255, 1), rgba(116, 189, 255, 1));\r\n  }\r\n}\r\n\r\n.config-select-wrapper {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  margin-left: 10px;\r\n}\r\n\r\n/* 设置块样式 */\r\n.setting-block {\r\n  margin-bottom: 15px;\r\n  border: 1px solid #e4e7ed;\r\n  border-radius: 4px;\r\n  background-color: #f8f9fa;\r\n  overflow: hidden;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n}\r\n\r\n.setting-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 15px;\r\n  background-color: #f0f2f5;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid #e4e7ed;\r\n  transition: all 0.3s;\r\n\r\n  &:hover {\r\n    background-color: #eef1f6;\r\n  }\r\n\r\n  .setting-title {\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #303133;\r\n  }\r\n\r\n  .setting-collapse-icon {\r\n    font-size: 12px;\r\n    color: #909399;\r\n    transition: transform 0.3s;\r\n\r\n    &.collapsed {\r\n      transform: rotate(-90deg);\r\n    }\r\n  }\r\n}\r\n\r\n.setting-content {\r\n  padding: 15px;\r\n  background-color: #fff;\r\n  transition: all 0.3s;\r\n\r\n  &.hidden {\r\n    display: none;\r\n  }\r\n}\r\n\r\n/* 表单样式 */\r\n.form-group {\r\n  margin-bottom: 15px;\r\n\r\n  &:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  label {\r\n    display: block;\r\n    margin-bottom: 8px;\r\n    font-size: 14px;\r\n    color: #606266;\r\n  }\r\n}\r\n\r\n.form-row {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-column {\r\n  flex: 1;\r\n}\r\n\r\n:deep(.el-form-item__label) {\r\n  color: #606266;\r\n  font-size: 14px;\r\n}\r\n\r\n:deep(.el-slider__runway) {\r\n  margin: 8px 0;\r\n}\r\n\r\n:deep(.el-input-number) {\r\n  width: 100%;\r\n}\r\n\r\n:deep(.config-select-wrapper .el-input__wrapper) {\r\n  height: 32px;\r\n}\r\n</style>\r\n","<template>\r\n  <el-card class=\"create-task-card\">\r\n    <div class=\"dialog-content\">\r\n      <!-- 主要内容区 -->\r\n      <div class=\"main-content\">\r\n        <!-- 左侧表单区域 -->\r\n        <div class=\"left-side\">\r\n          <el-form\r\n            :model=\"relaxFormData\"\r\n            label-width=\"100px\"\r\n            :rules=\"rules\"\r\n            ref=\"ruleFormRef\"\r\n            @submit.prevent\r\n            @keydown.enter.prevent\r\n            require-asterisk-position=\"right\"\r\n          >\r\n            <!-- 任务信息卡片 -->\r\n            <TaskInfoCard :form-data=\"relaxFormData\" @update:form-data=\"handleUpdateFormData\" />\r\n\r\n            <!-- 视频配置卡片 -->\r\n            <div class=\"task-info-section\">\r\n              <div class=\"task-info-card\">\r\n                <div class=\"card-header\">\r\n                  <div class=\"card-title\">视频配置</div>\r\n                </div>\r\n                <div class=\"card-content\">\r\n                  <!-- 小说选择组件 -->\r\n                  <NovelSelection\r\n                    :checkedData=\"checkedData\"\r\n                    :isFromMaterialChecked=\"isFromMaterialChecked\"\r\n                    :tagValue=\"tagValue\"\r\n                    @selectMaterial=\"handleMaterialSelect({ type: $event })\"\r\n                    @uploadMaterial=\"handleMaterialUpload({ type: $event })\"\r\n                  />\r\n\r\n                  <!-- 正文配置卡片 -->\r\n                  <MainContentSection\r\n                    :formData=\"relaxFormData\"\r\n                    :fontFamilyOptions=\"fontFamilyOptions\"\r\n                    :showTextConfig=\"showTextConfig\"\r\n                    @update:showTextConfig=\"showTextConfig = $event\"\r\n                    @update:formData=\"handleUpdateFormData\"\r\n                    ref=\"mainContentRef\"\r\n                  />\r\n\r\n                  <!-- 组合卡片，仅当固定组合数大于1时显示 -->\r\n                  <GroupSection\r\n                    videoType=\"Relaxation\"\r\n                    :formData=\"relaxFormData\"\r\n                    :groupData=\"groupData\"\r\n                    :showGroupConfig=\"showGroupConfig\"\r\n                    :checkedData=\"checkedData\"\r\n                    @update:showGroupConfig=\"showGroupConfig = $event\"\r\n                    @update:groupData=\"groupDataInfo\"\r\n                    @selectGroupMaterial=\"handleSelectGroupMaterial\"\r\n                    @uploadMaterial=\"materialUpload.uploadMaterial\"\r\n                  />\r\n\r\n                  <!-- 素材卷轴组件 -->\r\n                  <MaterialsSection\r\n                    :formData=\"relaxFormData\"\r\n                    :checkedData=\"checkedData\"\r\n                    :tagValue=\"tagValue\"\r\n                    :rules=\"rules\"\r\n                    :musicStartPositionOptions=\"musicStartPositionOptions\"\r\n                    :musicDbValue=\"musicDbValue\"\r\n                    :mainSearchBoxText=\"mainSearchBoxText\"\r\n                    :endSearchBoxText=\"endSearchBoxText\"\r\n                    :showMaterialConfig=\"showMaterialConfig\"\r\n                    :isGroupModeActive=\"isGroupModeActive\"\r\n                    :isFromMaterialChecked=\"isFromMaterialChecked\"\r\n                    :preVideoDbValue=\"preVideoDbValue\"\r\n                    @update:showMaterialConfig=\"showMaterialConfig = $event\"\r\n                    @update:musicDbValue=\"musicDbValue = $event\"\r\n                    @update:mainSearchBoxText=\"mainSearchBoxText = $event\"\r\n                    @update:endSearchBoxText=\"endSearchBoxText = $event\"\r\n                    @update:formData=\"handleUpdateFormData\"\r\n                    @selectMaterial=\"handleMaterialSelect\"\r\n                    @uploadMaterial=\"handleMaterialUpload\"\r\n                    @update:preVideoDbValue=\"preVideoDbValue = $event\"\r\n                    @openTitleSettings=\"openTitleSettings\"\r\n                  />\r\n\r\n                  <!-- 添加标题卡片 -->\r\n                  <div class=\"task-info-section\">\r\n                    <div class=\"task-info-card title-card\">\r\n                      <div class=\"card-header\" @click=\"toggleTitleConfig\">\r\n                        <div class=\"card-title\">标题</div>\r\n                        <div class=\"collapse-icon\">\r\n                          <span v-if=\"showTitleConfig\">−</span>\r\n                          <span v-else>+</span>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"card-content\" v-show=\"showTitleConfig\">\r\n                        <!-- 固定标题 -->\r\n                        <div class=\"title-section\">\r\n                          <h4 class=\"section-title\">固定标题</h4>\r\n                          <div class=\"config-actions\">\r\n                            <button\r\n                              class=\"config-action-btn\"\r\n                              @click=\"handleSaveTitleConfig('fixed')\"\r\n                            >\r\n                              保存配置\r\n                            </button>\r\n                          </div>\r\n                          <TitleSettings\r\n                            :formData=\"relaxFormData\"\r\n                            :checkedData=\"checkedData\"\r\n                            :fontFamilyOptions=\"fontFamilyOptions\"\r\n                            type=\"fixed\"\r\n                            @update:formData=\"\r\n                              (updatedData) => Object.assign(relaxFormData, updatedData)\r\n                            \"\r\n                          />\r\n                        </div>\r\n\r\n                        <!-- 首帧标题 -->\r\n                        <div class=\"title-section\">\r\n                          <h4 class=\"section-title\">\r\n                            首帧标题\r\n                            <el-tag\r\n                              size=\"small\"\r\n                              type=\"info\"\r\n                              class=\"inactive-tag\"\r\n                              v-if=\"!hasFirstFrameVideo\"\r\n                            >\r\n                              需选择首帧视频\r\n                            </el-tag>\r\n                          </h4>\r\n\r\n                          <!-- 首帧标题设置区域 -->\r\n                          <div class=\"first-frame-settings-wrapper\">\r\n                            <div class=\"config-actions\">\r\n                              <button\r\n                                class=\"config-action-btn\"\r\n                                @click=\"handleSaveTitleConfig('first')\"\r\n                              >\r\n                                保存配置\r\n                              </button>\r\n                            </div>\r\n\r\n                            <TitleSettings\r\n                              :formData=\"relaxFormData\"\r\n                              :checkedData=\"checkedData\"\r\n                              :fontFamilyOptions=\"fontFamilyOptions\"\r\n                              type=\"firstFrame\"\r\n                              :disabled=\"!hasFirstFrameVideo\"\r\n                              @update:formData=\"\r\n                                (updatedData) => Object.assign(relaxFormData, updatedData)\r\n                              \"\r\n                            />\r\n\r\n                            <!-- 如果没有选择首帧视频，显示提示信息 -->\r\n                            <div class=\"empty-first-frame-tip\" v-if=\"!hasFirstFrameVideo\">\r\n                              <div class=\"tip-content\">\r\n                                请先在\"素材\"中选择首帧视频，才能添加首帧标题\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </el-form>\r\n        </div>\r\n\r\n        <!-- 右侧预览区域 -->\r\n        <PreviewArea\r\n          :formData=\"relaxFormData\"\r\n          :checkedData=\"checkedData\"\r\n          :fontFamilyOptions=\"fontFamilyOptions\"\r\n          :baseUrl=\"baseUrl\"\r\n          :renderPreviewFirstFrameUrl=\"renderPreviewFirstFrameUrl\"\r\n          :renderPreviewVideoUrl=\"renderPreviewVideoUrl\"\r\n          :renderPreviewLastFrameUrl=\"renderPreviewLastFrameUrl\"\r\n          :renderPreviewStickerUrl=\"renderPreviewStickerUrl\"\r\n          :renderPreviewTextImageUrl=\"renderPreviewTextImageUrl\"\r\n          :renderPreviewTextVideoUrl=\"renderPreviewTextVideoUrl\"\r\n          :currentFirstFrameIndex=\"currentFirstFrameIndex\"\r\n          :currentUnzipVideoIndex=\"currentUnzipVideoIndex\"\r\n          :currentLastFrameIndex=\"currentLastFrameIndex\"\r\n          :currentTextVideoIndex=\"currentTextVideoIndex\"\r\n          :firstAndLastVideoZoom=\"firstAndLastVideoZoom\"\r\n          :videoFontZoom=\"videoFontZoom\"\r\n          :createVideoDisabled=\"createVideoDisabled\"\r\n          :count=\"relaxFormData.count\"\r\n          :groupCount=\"relaxFormData.groupCount\"\r\n          @switchToPrevious=\"switchToPrevious\"\r\n          @switchToNext=\"switchToNext\"\r\n          @generateVideo=\"handleGenerateVideo\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </el-card>\r\n\r\n  <!-- 选择素材弹窗 -->\r\n  <ComSelectDialog\r\n    v-if=\"materialSelection.selectDialogVisible.value\"\r\n    ref=\"comSelectDialogRef\"\r\n    :title=\"materialSelection.dialogTitle\"\r\n    :tabType=\"materialSelection.tabType.value\"\r\n    :count=\"materialUpload.isGroupSelection.value ? 1 : relaxFormData.count\"\r\n    :propCheckedList=\"\r\n      materialSelection.getCheckedListByType(\r\n        materialSelection.tabType.value,\r\n        materialSelection.videoFrom.value,\r\n        materialUpload.isGroupSelection.value,\r\n        groupData,\r\n        currentGroupIndex\r\n      )\r\n    \"\r\n    :propComponentList=\"materialSelection.getComponentListByType(materialSelection.tabType.value)\"\r\n    :propTagsObject=\"materialSelection.tagsObject\"\r\n    :propActiveTabType=\"materialSelection.getActiveTabByType(materialSelection.tabType.value)\"\r\n    @submit=\"handleSubmit\"\r\n    @closeDialog=\"handleCloseDialog\"\r\n    :from=\"materialSelection.videoFrom.value\"\r\n    :isFromReading=\"false\"\r\n    :isGroupSelection=\"materialUpload.isGroupSelection.value\"\r\n  />\r\n\r\n  <!-- 新增素材 -->\r\n  <ComMaterialAdd\r\n    ref=\"createVideoRef\"\r\n    @submitForm=\"materialUpload.handleSubmitFormRes\"\r\n    :v-loading=\"materialUpload.uploadLoading\"\r\n    :propUploadTypeChange=\"materialUpload.propUploadTypeChange.value\"\r\n    :propUploadTypeDisabled=\"materialUpload.propUploadTypeDisabled.value\"\r\n  />\r\n  <!-- 新增素材-小说 -->\r\n  <ComNovelAdd\r\n    ref=\"createNovelRef\"\r\n    @submitForm=\"materialUpload.handleSubmitNovelRes\"\r\n    :v-loading=\"materialUpload.uploadLoading\"\r\n  />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted, onUnmounted, watchEffect, computed } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport bus from '@/utils/mitt.js'\r\nimport { useNovelStore } from '@/store/novelStore'\r\nimport { useTaskInitialization } from './useTaskInitialization'\r\nimport { useFormSubmit } from './useFormSubmit'\r\nimport { useMaterialUpload } from './useMaterialUpload'\r\nimport { useMaterialSelection } from './useMaterialSelection'\r\nimport { useWatchers } from './useWatchers'\r\nimport { getFontFamily } from '@/utils/fontFamily'\r\nimport TitleSettings from './components/TitleSettings.vue'\r\n// import createVideo from '../ResourceListComponents/comMaterialAdd/index.vue'\r\n// import createNovel from '../ResourceListComponents/comNovelAdd/index.vue'\r\n// import comSelectDialog from '../comSelectDialog/index.vue'\r\nimport {ComSelectDialog, ComNovelAdd, ComMaterialAdd} from 'uchuang-resource-lib'\r\nimport PreviewArea from './components/PreviewArea.vue'\r\nimport TaskInfoCard from '../CreateTaskPublicComponents/TaskInfoCard.vue'\r\nimport GroupSection from '../CreateTaskPublicComponents/GroupSection.vue'\r\nimport MaterialsSection from './components/MaterialsSection.vue'\r\nimport MainContentSection from './components/MainContentSection.vue'\r\nimport NovelSelection from '../CreateTaskPublicComponents/NovelSelection.vue'\r\n\r\nconst novelStore = useNovelStore()\r\nconst baseUrl = import.meta.env.VITE_API_BASE_URL\r\nconst relaxFormData = reactive({\r\n  taskName: '',\r\n  // 选择小说部分\r\n  fontFamily: '',\r\n  novelFontSize: 35,\r\n  lineHeight: 1.5,\r\n  scrollStart: 0,\r\n  novelStrokeWidth: 2,\r\n  novelColorMode: false,\r\n  novelForegroundColor: 'rgba(255, 255, 255, 1)', // 前景色\r\n  novelBackgroundColor: 'rgba(255, 255, 0, 1)', // 背景色\r\n  novelStrokeColor: 'rgba(0, 0, 0, 1)', // 描边颜色\r\n  novelTopMargin: 0.7,\r\n  novelVolume: 1.0,\r\n  // 条数\r\n  count: 1,\r\n  groupCount: 0,\r\n  // 首帧视频\r\n  firstFrameVideo: [],\r\n  firstFrameKeepAudio: true,\r\n  // 音频列表\r\n  selectedAudio: '',\r\n  musicStartPosition: '首帧',\r\n  fixedTitle: [],\r\n  previewUnzipVideoList: [], //解压视频切换列表，只显示小于等于count个\r\n  template: '',\r\n  volume: 1.0,\r\n  pre_video_volume: 1.0\r\n})\r\n\r\nconst musicDbValue = computed({\r\n  get: () => {\r\n    // multiplier → dB（确保 novelVolume > 0）\r\n    return 20 * Math.log10(Math.max(0.0001, relaxFormData.volume))\r\n  },\r\n  set: (dB) => {\r\n    // dB → multiplier\r\n    relaxFormData.volume = Math.max(0.0001, Math.pow(10, dB / 20))\r\n  }\r\n})\r\n\r\nconst preVideoDbValue = computed({\r\n  get: () => {\r\n    // multiplier → dB（确保 novelVolume > 0）\r\n    return 20 * Math.log10(Math.max(0.0001, relaxFormData.pre_video_volume))\r\n  },\r\n  set: (dB) => {\r\n    // dB → multiplier\r\n    relaxFormData.pre_video_volume = Math.max(0.0001, Math.pow(10, dB / 20))\r\n  }\r\n})\r\n\r\n//勾选的数据\r\nconst checkedData = reactive({\r\n  checkedFirstFrames: [],\r\n  checkedMusic: [],\r\n  checkedLastFrames: [],\r\n  checkedStickers: [],\r\n  checkedNovel: [],\r\n  checkedVideo: [],\r\n  checkedTopVideo: [],\r\n  checkedTextImages: [],\r\n  checkedTextVideos: []\r\n})\r\n\r\n// 添加组合相关的数据结构\r\nconst groupData = reactive({\r\n  groupStickers: [],\r\n  groupLastFrames: [],\r\n  groupTextImages: [],\r\n  groupTextVideos: [],\r\n  groupTextImageTexts: [],\r\n  groupTextVideoTexts: [],\r\n  groupNames: []\r\n})\r\n\r\n// 新增素材\r\nconst createVideoRef = ref(null)\r\n// 新增小说\r\nconst createNovelRef = ref(null)\r\n\r\nconst isGroupModeActive = computed(() => formSubmit.isGroupModeActive.value)\r\n\r\nconst tagValue = reactive({\r\n  novelTags: [],\r\n  firstFramesTags: [],\r\n  unzipVideoTag: [],\r\n  topVideoTags: [],\r\n  musicTags: [],\r\n  stickersTags: [],\r\n  textImageTags: [],\r\n  lastFrameTags: [],\r\n  textVideoTags: []\r\n})\r\n\r\nconst componentList = reactive({\r\n  novelComponentList: [],\r\n  firstFramesComponentList: [],\r\n  musicComponentList: [],\r\n  lastFramesComponentList: [],\r\n  stickersComponentList: [],\r\n  videoComponentList: [],\r\n  topVideoComponentList: [],\r\n  textImagesComponentList: [],\r\n  textVideosComponentList: []\r\n})\r\n\r\nconst activeTab = reactive({\r\n  novelActiveTab: '',\r\n  firstFramesActiveTab: '',\r\n  videoActiveTab: '',\r\n  topVideoActiveTab: '',\r\n  musicActiveTab: '',\r\n  stickersActiveTab: '',\r\n  textImagesActiveTab: '',\r\n  lastFramesActiveTab: '',\r\n  textVideosActiveTab: ''\r\n})\r\n\r\nconst materialDates = reactive({\r\n  novel: { start_date: '', end_date: '' },\r\n  firstFrames: { start_date: '', end_date: '' },\r\n  video: { start_date: '', end_date: '' },\r\n  topVideo: { start_date: '', end_date: '' },\r\n  music: { start_date: '', end_date: '' },\r\n  stickers: { start_date: '', end_date: '' },\r\n  textImage: { start_date: '', end_date: '' },\r\n  lastFrames: { start_date: '', end_date: '' },\r\n  textVideo: { start_date: '', end_date: '' }\r\n})\r\n\r\nconst isFromMaterialChecked = reactive({\r\n  novel: true,\r\n  firstFrames: true,\r\n  video: true,\r\n  topVideo: true,\r\n  music: true,\r\n  stickers: true,\r\n  textImage: true,\r\n  lastFrames: true,\r\n  textVideo: true\r\n})\r\n\r\n// 折叠状态管理\r\nconst showTextConfig = ref(false)\r\nconst showTitleConfig = ref(false) // 改为默认展开标题配置\r\nconst showMaterialConfig = ref(false)\r\n// 组合配置相关状态\r\nconst showGroupConfig = ref(true)\r\n\r\nconst mainSearchBoxText = ref('')\r\nconst endSearchBoxText = ref('')\r\n\r\nconst mainContentRef = ref(null)\r\n\r\nonMounted(() => {\r\n  if (mainContentRef.value) {\r\n    formSubmit.setLoadConfigFn(mainContentRef.value.loadSavedVideoConfigs)\r\n  }\r\n})\r\n\r\n\r\n// 标题折叠卡片控制\r\nconst toggleTitleConfig = () => {\r\n  showTitleConfig.value = !showTitleConfig.value\r\n  // 如果打开标题配置，自动折叠其他两个配置\r\n  if (showTitleConfig.value) {\r\n    showTextConfig.value = false\r\n    showMaterialConfig.value = false\r\n  }\r\n}\r\n\r\n// 处理素材选择\r\nconst handleMaterialSelect = ({ type, from }) => {\r\n  materialSelection.handleMaterialSelect({ type, from })\r\n}\r\n\r\n// 处理素材上传\r\nconst handleMaterialUpload = ({ type, from }) => {\r\n  materialUpload.uploadMaterial(type, from)\r\n}\r\n\r\nconst hasFirstFrameVideo = computed(() => {\r\n  return (\r\n    checkedData &&\r\n    Array.isArray(checkedData.checkedFirstFrames) &&\r\n    checkedData.checkedFirstFrames.length > 0\r\n  )\r\n})\r\n\r\nconst handleSaveTitleConfig = (type) => {\r\n  if (type === 'fixed') {\r\n    const config = {\r\n      fixedTitle: relaxFormData.fixedTitle.map((item) => {\r\n        return {\r\n          ...item,\r\n          text: ''\r\n        }\r\n      })\r\n    }\r\n    localStorage.setItem('fixedTitleConfig', JSON.stringify(config))\r\n  } else {\r\n    const config = {\r\n      firstFrameVideo: relaxFormData.firstFrameVideo.map((item) => {\r\n        return {\r\n          ...item,\r\n          text: ''\r\n        }\r\n      })\r\n    }\r\n    localStorage.setItem('createVideoFirstTitleConfig', JSON.stringify(config))\r\n  }\r\n  ElMessage.success('配置已保存')\r\n}\r\n\r\nconst handleLoadTitleConfig = (type) => {\r\n  if (type === 'fixed') {\r\n    const savedConfig = localStorage.getItem('fixedTitleConfig')\r\n    if (savedConfig) {\r\n      const config = JSON.parse(savedConfig)\r\n      Object.assign(relaxFormData, config)\r\n    }\r\n  } else {\r\n    const savedConfig = localStorage.getItem('createVideoFirstTitleConfig')\r\n    if (savedConfig) {\r\n      const config = JSON.parse(savedConfig)\r\n      Object.assign(relaxFormData, config)\r\n    }\r\n  }\r\n}\r\n\r\nconst firstAndLastVideoZoom = 6\r\n\r\nconst ruleFormRef = ref()\r\n\r\nconst currentFirstFrameIndex = ref(-1)\r\nconst currentLastFrameIndex = ref(-1)\r\nconst currentUnzipVideoIndex = ref(-1)\r\nconst currentStickerIndex = ref(-1)\r\nconst currentTextImageIndex = ref(-1)\r\nconst currentTextVideoIndex = ref(-1)\r\n\r\nconst loadTextConfig = () => {\r\n  handleLoadTitleConfig('fixed')\r\n  handleLoadTitleConfig('first')\r\n}\r\n\r\nconst loadMusicConfig = () => {\r\n  const savedMusicVolume = localStorage.getItem('relaxFormDataMusicVolume')\r\n  if (savedMusicVolume) {\r\n    relaxFormData.volume = JSON.parse(savedMusicVolume)\r\n  }\r\n}\r\n\r\nonMounted(async () => {\r\n  await getFontFamily({ baseUrl, fontFamilyOptions, formData: relaxFormData })\r\n  // 然后加载配置\r\n  loadTextConfig()\r\n  loadMusicConfig()\r\n  initializeTaskData()\r\n  bus.on('jumpToNovelTask', (val) => {\r\n    if (val.category === 'Relaxation') {\r\n      initializeTaskData()\r\n    }\r\n  })\r\n})\r\n\r\nconst handleUpdateFormData = (newFormData) => {\r\n  Object.assign(relaxFormData, newFormData)\r\n}\r\n\r\nconst fontFamilyOptions = ref([])\r\n\r\n// 视频区域缩放的倍数\r\nconst videoFontZoom = 4\r\n\r\nconst {\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewVideoUrl,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextVideoUrl,\r\n  initializeTaskData,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewVideoId,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoId\r\n} = useTaskInitialization(\r\n  relaxFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  currentFirstFrameIndex,\r\n  currentUnzipVideoIndex,\r\n  currentTextVideoIndex,\r\n  currentLastFrameIndex,\r\n  groupData,\r\n  mainSearchBoxText,\r\n  endSearchBoxText\r\n)\r\n\r\n// 初始化素材上传相关功能\r\nconst currentGroupIndex = ref(0)\r\nconst currentUploadType = ref('')\r\n\r\nconst materialUpload = useMaterialUpload(\r\n  relaxFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  groupData,\r\n  isFromMaterialChecked,\r\n  currentUploadType,\r\n  currentGroupIndex,\r\n  isGroupModeActive,\r\n  createVideoRef,\r\n  createNovelRef,\r\n  ruleFormRef,\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewVideoUrl,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextVideoUrl,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewVideoId,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoId,\r\n  currentFirstFrameIndex,\r\n  currentUnzipVideoIndex,\r\n  currentLastFrameIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex\r\n)\r\n\r\n// 初始化素材选择相关功能\r\nconst materialSelection = useMaterialSelection(\r\n  relaxFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  componentList,\r\n  activeTab,\r\n  isFromMaterialChecked,\r\n  renderPreviewFirstFrameUrl,\r\n  renderPreviewFirstFrameId,\r\n  renderPreviewVideoUrl,\r\n  renderPreviewVideoId,\r\n  renderPreviewLastFrameUrl,\r\n  renderPreviewLastFrameId,\r\n  renderPreviewStickerUrl,\r\n  renderPreviewStickerId,\r\n  renderPreviewTextImageUrl,\r\n  renderPreviewTextImageId,\r\n  renderPreviewTextVideoUrl,\r\n  renderPreviewTextVideoId,\r\n  currentFirstFrameIndex,\r\n  currentUnzipVideoIndex,\r\n  currentLastFrameIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex,\r\n  isGroupModeActive\r\n)\r\n\r\n// 初始化表单验证和提交逻辑\r\nconst formSubmit = useFormSubmit(\r\n  relaxFormData,\r\n  checkedData,\r\n  tagValue,\r\n  materialDates,\r\n  groupData,\r\n  isFromMaterialChecked,\r\n  mainSearchBoxText,\r\n  endSearchBoxText,\r\n  bus,\r\n  fontFamilyOptions,\r\n  componentList,\r\n  activeTab,\r\n  loadTextConfig,\r\n  loadMusicConfig\r\n)\r\n\r\n// 使用useFormValidation返回的值\r\nconst rules = ref(formSubmit.rules)\r\nconst generateVideo = ref(formSubmit.generateVideo)\r\nconst createVideoDisabled = ref(formSubmit.createVideoDisabled)\r\n\r\nconst musicStartPositionOptions = [\r\n  { label: '正片', value: '正片' },\r\n  { label: '首帧', value: '首帧' }\r\n]\r\n\r\n// 处理生成视频按钮点击\r\nconst handleGenerateVideo = () => {\r\n  if (generateVideo.value) {\r\n    generateVideo.value(ruleFormRef.value)\r\n  }\r\n}\r\n\r\nuseWatchers({\r\n  checkedData,\r\n  currentFirstFrameIndex,\r\n  currentLastFrameIndex,\r\n  currentUnzipVideoIndex,\r\n  currentStickerIndex,\r\n  currentTextImageIndex,\r\n  currentTextVideoIndex,\r\n  mainSearchBoxText,\r\n  endSearchBoxText,\r\n  relaxFormData,\r\n  baseUrl,\r\n  showTextConfig,\r\n  showTitleConfig,\r\n  showMaterialConfig\r\n})\r\n\r\nconst switchMaterial = (type, direction) => {\r\n  const config = {\r\n    firstFrame: {\r\n      data: checkedData.checkedFirstFrames,\r\n      currentIndex: currentFirstFrameIndex,\r\n      url: renderPreviewFirstFrameUrl,\r\n      id: renderPreviewFirstFrameId\r\n    },\r\n    lastFrame: {\r\n      data: checkedData.checkedLastFrames,\r\n      currentIndex: currentLastFrameIndex,\r\n      url: renderPreviewLastFrameUrl,\r\n      id: renderPreviewLastFrameId\r\n    },\r\n    unzipVideo: {\r\n      data: checkedData.checkedVideo,\r\n      currentIndex: currentUnzipVideoIndex,\r\n      url: renderPreviewVideoUrl,\r\n      id: renderPreviewVideoId\r\n    },\r\n    stickers: {\r\n      data: checkedData.checkedStickers,\r\n      currentIndex: currentStickerIndex,\r\n      url: renderPreviewStickerUrl,\r\n      id: renderPreviewStickerId\r\n    },\r\n    textImage: {\r\n      data: checkedData.checkedTextImages,\r\n      currentIndex: currentTextImageIndex,\r\n      url: renderPreviewTextImageUrl,\r\n      id: renderPreviewTextImageId\r\n    },\r\n    textVideo: {\r\n      data: checkedData.checkedTextVideos,\r\n      currentIndex: currentTextVideoIndex,\r\n      url: renderPreviewTextVideoUrl,\r\n      id: renderPreviewTextVideoId\r\n    }\r\n  }\r\n\r\n  const { data, currentIndex, url, id, extraUpdate } = config[type]\r\n  const maxIndex = data.length - 1\r\n  const newIndex =\r\n    direction === 'next'\r\n      ? Math.min(currentIndex.value + 1, maxIndex)\r\n      : Math.max(currentIndex.value - 1, 0)\r\n\r\n  if (newIndex === currentIndex.value || newIndex < 0 || newIndex > maxIndex) return\r\n\r\n  currentIndex.value = newIndex\r\n  const currentItem = data[newIndex]\r\n  url.value = currentItem.key_frame_url || currentItem.file_url\r\n  id.value = currentItem.id\r\n\r\n  if (extraUpdate) extraUpdate(newIndex)\r\n}\r\n\r\nconst switchToPrevious = (type) => switchMaterial(type, 'prev')\r\nconst switchToNext = (type) => switchMaterial(type, 'next')\r\n\r\nonUnmounted(() => {\r\n  novelStore.setTaskGenerateParams({})\r\n})\r\n\r\n// 处理组件选择组内素材\r\nconst handleSelectGroupMaterial = ({ type, groupIndex }) => {\r\n  currentGroupIndex.value = groupIndex\r\n  materialSelection.selectMaterial(type, null, true)\r\n  materialUpload.isGroupSelection.value = true\r\n}\r\n\r\nconst groupDataInfo = (info) => {\r\n  Object.assign(groupData, info)\r\n}\r\n\r\nconst handleSubmit = (\r\n  checkedListParams,\r\n  transferTagValue,\r\n  activeTabTypeData,\r\n  typeData,\r\n  componentListData,\r\n  start_date,\r\n  end_date,\r\n  from,\r\n  isFromChecked\r\n) => {\r\n  materialSelection.transferCheckedList(\r\n    checkedListParams,\r\n    transferTagValue,\r\n    activeTabTypeData,\r\n    typeData,\r\n    componentListData,\r\n    start_date,\r\n    end_date,\r\n    from,\r\n    isFromChecked,\r\n    materialUpload.isGroupSelection.value,\r\n    groupData,\r\n    currentGroupIndex\r\n  )\r\n\r\n  materialUpload.isGroupSelection.value = false\r\n  materialUpload.currentUploadType.value = ''\r\n}\r\n\r\nconst handleCloseDialog = () => {\r\n  materialSelection.handleCloseDialog()\r\n  materialUpload.isGroupSelection.value = false\r\n  materialUpload.currentUploadType.value = ''\r\n}\r\n\r\nconst openTitleSettings = () => {\r\n  // 打开标题设置\r\n  showTitleConfig.value = true\r\n  // 如果其他设置卡片是打开的，可以选择关闭它们\r\n  showMaterialConfig.value = false\r\n  showTextConfig.value = false\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@use './index.scss';\r\n</style>\r\n","<template>\r\n  <div\r\n    v-show=\"visible\"\r\n    class=\"pack-queue-float-container\"\r\n    :style=\"floatContainerStyle\"\r\n    ref=\"floatContainer\"\r\n  >\r\n    <div class=\"pack-queue-panel\">\r\n      <!-- 简化后的标题栏 -->\r\n      <div class=\"panel-header\" @mousedown=\"startDrag\">\r\n        <div class=\"header-title\">\r\n          打包队列\r\n          <small v-if=\"packQueue.length\" class=\"task-count\">{{ packQueue.length }}个任务</small>\r\n        </div>\r\n        <div class=\"header-actions\">\r\n          <el-tooltip content=\"一键清空\" placement=\"top\" :disabled=\"!packQueue.length\">\r\n            <el-button\r\n              @click=\"clearAllTasks\"\r\n              link\r\n              type=\"info\"\r\n              size=\"small\"\r\n              class=\"clear-btn\"\r\n              :disabled=\"!packQueue.length\"\r\n            >\r\n              <el-icon><i-ep-delete /></el-icon>\r\n            </el-button>\r\n          </el-tooltip>\r\n          <el-button @click=\"handleClose\" link type=\"danger\" size=\"small\" class=\"close-btn\">\r\n            <el-icon><i-ep-close /></el-icon>\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 内容区域 -->\r\n      <div class=\"panel-content\">\r\n        <div v-if=\"packQueue.length === 0\" class=\"empty-queue\">\r\n          <el-empty description=\"暂无打包任务\" :image-size=\"50\" />\r\n        </div>\r\n        <div v-else class=\"queue-list\">\r\n          <div\r\n            v-for=\"(item, index) in packQueue\"\r\n            :key=\"index\"\r\n            class=\"queue-item\"\r\n            :class=\"{\r\n              active: item.status === 'Success',\r\n              Pending: item.status === 'Pending',\r\n              Failed: item.status === 'Failed'\r\n            }\"\r\n          >\r\n            <div class=\"queue-item-content\">\r\n              <div class=\"queue-item-status\">\r\n                <el-icon class=\"status-icon\" v-if=\"item.status === 'Pending'\"\r\n                  ><i-ep-loading\r\n                /></el-icon>\r\n                <el-icon class=\"status-icon\" v-else-if=\"item.status === 'Success'\"\r\n                  ><i-ep-check\r\n                /></el-icon>\r\n                <el-icon class=\"status-icon\" v-else-if=\"item.status === 'Failed'\"\r\n                  ><i-ep-close\r\n                /></el-icon>\r\n              </div>\r\n\r\n              <div class=\"queue-item-info\">\r\n                <div class=\"queue-name\" :title=\"item.name\">{{ item.name }}</div>\r\n                <div class=\"queue-details\">\r\n                  <span class=\"queue-status-text\" :class=\"item.status\">\r\n                    {{\r\n                      item.status === 'Pending'\r\n                        ? `打包中`\r\n                        : item.status === 'Success'\r\n                        ? '已完成'\r\n                        : '打包失败'\r\n                    }}\r\n                  </span>\r\n                  <!-- <span class=\"queue-time\">{{ formatTime(item.createTime) }}</span> -->\r\n                </div>\r\n                <div v-if=\"item.status === 'Success'\" class=\"queue-time\">\r\n                  <div>请在{{ item.expire_at }}之前下载</div>\r\n                  <div>超时可能过期</div>\r\n                </div>\r\n\r\n                <div class=\"progress-bar-wrapper\" v-if=\"item.status === 'Pending'\">\r\n                  <div class=\"progress-bar\" :style=\"{ width: `${item.progress_rate * 100}%` }\"></div>\r\n                  <span class=\"progress-text\">{{ item.progress_rate * 100 || '0' }}%</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"queue-item-actions\">\r\n                <el-tooltip v-if=\"item.status === 'Success'\" content=\"下载\" placement=\"top\">\r\n                  <el-button type=\"primary\" size=\"small\" @click=\"downloadPack(item)\">\r\n                    <el-icon><i-ep-download /></el-icon>\r\n                  </el-button>\r\n                </el-tooltip>\r\n\r\n                <el-tooltip v-if=\"item.status === 'Failed'\" content=\"重试\" placement=\"top\">\r\n                  <el-button type=\"warning\" size=\"small\" @click=\"retryPack(item)\">\r\n                    <el-icon><i-ep-refresh /></el-icon>\r\n                  </el-button>\r\n                </el-tooltip>\r\n\r\n                <el-tooltip v-if=\"item.status === 'Pending'\" content=\"取消\" placement=\"top\">\r\n                  <el-button type=\"danger\" size=\"small\" @click=\"removePack(item)\">\r\n                    <el-icon><i-ep-close /></el-icon>\r\n                  </el-button>\r\n                </el-tooltip>\r\n\r\n                <el-tooltip\r\n                  v-if=\"['Success', 'Failed'].includes(item.status)\"\r\n                  content=\"删除\"\r\n                  placement=\"top\"\r\n                >\r\n                  <el-button\r\n                    type=\"info\"\r\n                    size=\"small\"\r\n                    @click=\"removePack(item)\"\r\n                    style=\"margin-left: 0\"\r\n                  >\r\n                    <el-icon><i-ep-delete /></el-icon>\r\n                  </el-button>\r\n                </el-tooltip>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted, onBeforeUnmount, watchEffect, computed } from 'vue'\r\nimport { ElMessage, ElNotification, ElMessageBox } from 'element-plus'\r\nimport dayjs from 'dayjs'\r\nimport {\r\n  getGzipTaskList,\r\n  postGzipTaskDelete,\r\n  postGzipTaskRetry,\r\n  postGzipTaskClean\r\n} from '@/service/novel'\r\nimport bus from '@/utils/mitt.js'\r\nconst props = defineProps({\r\n  modelValue: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n// const visible = ref(false)\r\nconst emit = defineEmits(['update:modelValue'])\r\n\r\nconst visible = computed({\r\n  get: () => props.modelValue,\r\n  set: (val) => {\r\n    emit('update:modelValue', val)\r\n  }\r\n})\r\nconst packQueue = ref([])\r\nlet pollingTimer = null\r\n\r\n// 记录已显示通知的完成任务ID\r\nconst notifiedCompletedTasks = new Set()\r\n\r\n// 拖拽相关\r\nconst floatContainer = ref(null)\r\nconst containerPosition = ref({ right: 80, bottom: 80 })\r\nconst isDragging = ref(false)\r\nconst dragStartPos = ref({ x: 0, y: 0 })\r\n\r\n// 计算浮动容器样式\r\nconst floatContainerStyle = computed(() => {\r\n  return {\r\n    right: `${containerPosition.value.right}px`,\r\n    bottom: `${containerPosition.value.bottom}px`\r\n  }\r\n})\r\n\r\n// 开始拖拽\r\nconst startDrag = (e) => {\r\n  e.preventDefault() // 防止文本选择\r\n  isDragging.value = true\r\n  dragStartPos.value = {\r\n    x: e.clientX,\r\n    y: e.clientY\r\n  }\r\n\r\n  // 记录初始位置\r\n  const initialPos = {\r\n    right: containerPosition.value.right,\r\n    bottom: containerPosition.value.bottom\r\n  }\r\n\r\n  // 添加全局事件监听\r\n  document.addEventListener('mousemove', handleDrag)\r\n  document.addEventListener('mouseup', stopDrag)\r\n\r\n  // 处理拖拽\r\n  function handleDrag(e) {\r\n    if (!isDragging.value) return\r\n\r\n    // 计算位移 - 鼠标移动方向与位置变化相反\r\n    const deltaX = e.clientX - dragStartPos.value.x\r\n    const deltaY = e.clientY - dragStartPos.value.y\r\n\r\n    // 更新位置 - right和bottom值会随鼠标移动反向变化\r\n    containerPosition.value = {\r\n      right: Math.max(10, initialPos.right - deltaX),\r\n      bottom: Math.max(10, initialPos.bottom - deltaY)\r\n    }\r\n  }\r\n\r\n  // 停止拖拽\r\n  function stopDrag() {\r\n    isDragging.value = false\r\n    document.removeEventListener('mousemove', handleDrag)\r\n    document.removeEventListener('mouseup', stopDrag)\r\n  }\r\n}\r\n\r\nconst gzipParams = reactive({\r\n  page: 1,\r\n  pageSize: 99\r\n})\r\n// 获取打包队列\r\nconst fetchPackQueue = async () => {\r\n  console.log('获取打包队列')\r\n  try {\r\n    const res = await getGzipTaskList(gzipParams)\r\n    if (res.code === 0) {\r\n      // 记录之前的队列状态\r\n      const previousQueue = [...packQueue.value]\r\n\r\n      // 更新队列\r\n      packQueue.value = res.data.list || []\r\n\r\n      // 触发打包队列更新事件，更新全局计数\r\n      // bus.emit('packQueueUpdated')\r\n\r\n      // 检查新完成的任务并显示通知\r\n      packQueue.value.forEach((item) => {\r\n        if (item.status === 'Success') {\r\n          // 查找此任务之前的状态\r\n          const prevTask = previousQueue.find((prevItem) => prevItem.id === item.id)\r\n\r\n          // 如果之前不是completed状态，且未显示过通知，则显示通知\r\n          if (prevTask && prevTask.status !== 'Success' && !notifiedCompletedTasks.has(item.id)) {\r\n            notifiedCompletedTasks.add(item.id)\r\n\r\n            ElNotification({\r\n              title: '打包完成',\r\n              message: `任务 \"${item.name}\" 已完成打包，可以下载了`,\r\n              type: 'success',\r\n              duration: 5000,\r\n              onClick: () => {\r\n                visible.value = true\r\n              }\r\n            })\r\n          }\r\n        } else if (item.status === 'Failed') {\r\n          // 查找此任务之前的状态\r\n          const prevTask = previousQueue.find((prevItem) => prevItem.id === item.id)\r\n\r\n          // 如果之前不是failed状态，且未显示过通知，则显示通知\r\n          if (\r\n            prevTask &&\r\n            prevTask.status !== 'Failed' &&\r\n            !notifiedCompletedTasks.has(`failed_${item.id}`)\r\n          ) {\r\n            notifiedCompletedTasks.add(`failed_${item.id}`)\r\n\r\n            ElNotification({\r\n              title: '打包失败',\r\n              message: `任务 \"${item.name}\" 打包失败，请重试`,\r\n              type: 'error',\r\n              duration: 5000,\r\n              onClick: () => {\r\n                visible.value = true\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n\r\n      // 检测是否存在 Pending 任务\r\n      const hasPendingTasks = packQueue.value.some((item) => item.status === 'Pending')\r\n\r\n      // 根据是否有 Pending 任务决定是否继续轮询\r\n      if (hasPendingTasks) {\r\n        startPolling() // 有未完成任务，继续轮询\r\n      } else {\r\n        stopPolling() // 无未完成任务，停止轮询\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('获取打包队列失败:', error)\r\n  }\r\n}\r\n// 下载打包文件\r\nconst downloadPack = async (item) => {\r\n  try {\r\n    const baseUrl = import.meta.env.VITE_API_BASE_URL.replace(/\\/$/, '')\r\n    const downloadUrl = `${baseUrl}/gzip/download/${item.id}`\r\n\r\n    // 先发送请求检查文件状态\r\n    const response = await fetch(downloadUrl)\r\n    const contentType = response.headers.get('content-type')\r\n\r\n    // 如果返回的是JSON，说明可能是错误信息\r\n    if (contentType && contentType.includes('application/json')) {\r\n      const result = await response.json()\r\n      if (result.code === 10001) {\r\n        ElMessage.error('文件已过期，请重新打包')\r\n        return\r\n      }\r\n      // 其他错误情况\r\n      ElMessage.error(result.message || '下载失败')\r\n      return\r\n    }\r\n\r\n    // 正常下载流程\r\n    const link = document.createElement('a')\r\n    link.href = downloadUrl\r\n    link.style.display = 'none'\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n\r\n    ElMessage.success('下载开始')\r\n    fetchPackQueue()\r\n  } catch (error) {\r\n    console.error('下载失败:', error)\r\n    ElMessage.error('下载失败，请稍后再试')\r\n  }\r\n}\r\n\r\n// 重试打包\r\nconst retryPack = async (item) => {\r\n  try {\r\n    // 调用重试API id不对,需要后端返回\r\n    const res = await postGzipTaskRetry(item.id)\r\n\r\n    if (res.code === 0) {\r\n      ElMessage.success('已重新提交打包')\r\n      bus.emit('packQueueUpdated')\r\n      fetchPackQueue() // 重新获取队列数据\r\n    } else {\r\n      ElMessage.error(res.message || '重试失败')\r\n    }\r\n  } catch (error) {\r\n    bus.emit('packQueueUpdated')\r\n    console.error('重试打包失败:', error)\r\n    ElMessage.error('重试失败，请稍后再试')\r\n  }\r\n}\r\n\r\n// 取消打包\r\nconst cancelPack = async (item, showMessage = true) => {\r\n  try {\r\n    // 这里应该调用后端API来取消打包任务\r\n    // const res = await cancelPackTask(item.id)\r\n\r\n    // 假设API调用成功，或者在没有API的情况下模拟成功\r\n    const index = packQueue.value.findIndex((i) => i.id === item.id)\r\n    if (index !== -1) {\r\n      packQueue.value.splice(index, 1)\r\n      // 触发打包队列更新事件\r\n      bus.emit('packQueueUpdated')\r\n    }\r\n\r\n    // 只有在showMessage为true时才显示消息\r\n    if (showMessage) {\r\n      ElMessage.success('已取消打包任务')\r\n    }\r\n\r\n    return true\r\n  } catch (error) {\r\n    console.error('取消打包任务失败:', error)\r\n    if (showMessage) {\r\n      ElMessage.error('取消打包任务失败')\r\n    }\r\n    return false\r\n  }\r\n}\r\n\r\n// 删除打包任务\r\nconst removePack = async (item, showMessage = true) => {\r\n  try {\r\n    const res = await postGzipTaskDelete(item.id)\r\n    if (res.code === 0) {\r\n      ElMessage.success('已删除打包任务')\r\n      bus.emit('packQueueUpdated')\r\n      fetchPackQueue() // 重新获取队列数据\r\n    } else {\r\n      ElMessage.error(res.message || '清空失败')\r\n    }\r\n  } catch (error) {\r\n    console.error('删除打包任务失败:', error)\r\n    if (showMessage) {\r\n      ElMessage.error('删除打包任务失败')\r\n    }\r\n    return false\r\n  }\r\n}\r\n// 全局轮询状态控制\r\nlet isPolling = false\r\n// 开启轮询\r\nconst startPolling = () => {\r\n  stopPolling() // 先停止之前的轮询\r\n  if (isPolling) return\r\n  isPolling = true\r\n  pollingTimer = setInterval(() => {\r\n    fetchPackQueue()\r\n  }, 3000) // 每1秒轮询一次\r\n}\r\n\r\n// 停止轮询\r\nconst stopPolling = () => {\r\n  if (pollingTimer) {\r\n    clearInterval(pollingTimer)\r\n    pollingTimer = null\r\n    isPolling = false\r\n  }\r\n}\r\n\r\n// 打开抽屉时开始轮询\r\nconst openDrawer = () => {\r\n  // 重置位置到图标左上方\r\n  containerPosition.value = { right: 80, bottom: 80 }\r\n  visible.value = true\r\n  fetchPackQueue()\r\n  startPolling()\r\n}\r\n\r\n// 关闭抽屉回调\r\nconst handleClose = () => {\r\n  visible.value = false\r\n  stopPolling()\r\n}\r\n\r\n// 清空所有打包任务\r\nconst clearAllTasks = async () => {\r\n  // 弹出确认对话框\r\n  ElMessageBox.confirm('确定要清空所有打包任务吗？', '提示', {\r\n    confirmButtonText: '确定',\r\n    cancelButtonText: '取消',\r\n    type: 'warning',\r\n    customClass: 'resource-list-dialog',\r\n    showClose: true,\r\n    beforeClose: async (action, instance, done) => {\r\n      if (action === 'confirm') {\r\n        instance.confirmButtonLoading = true\r\n        instance.confirmButtonText = '清空中...'\r\n        done()\r\n      } else {\r\n        done()\r\n      }\r\n    }\r\n  })\r\n    .then(async () => {\r\n      try {\r\n        const res = await postGzipTaskClean()\r\n        if (res.code === 0) {\r\n          ElMessage.success('已清空打包队列')\r\n          packQueue.value = []\r\n          bus.emit('packQueueUpdated')\r\n          fetchPackQueue() // 重新获取队列数据\r\n        } else {\r\n          ElMessage.error(res.message || '清空失败')\r\n        }\r\n      } catch (error) {\r\n        console.error('清空打包队列失败:', error)\r\n        ElMessage.error('清空队列失败，请稍后重试')\r\n      }\r\n    })\r\n    .catch(() => {\r\n      // 用户取消操作\r\n    })\r\n}\r\n\r\nonMounted(() => {\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  stopPolling()\r\n})\r\n\r\n// 监听visible变化，关闭时停止轮询，打开时开始轮询\r\n// watchEffect(() => {\r\n//   if (visible.value) {\r\n//     fetchPackQueue()\r\n//     startPolling()\r\n//   } else {\r\n//     stopPolling()\r\n//   }\r\n// })\r\n\r\n// 向父组件暴露方法\r\ndefineExpose({\r\n  openDrawer,\r\n  fetchPackQueue,\r\n  visible\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.pack-queue-float-container {\r\n  position: fixed;\r\n  z-index: 2999; //确保层级在最上面\r\n  width: 330px;\r\n  max-height: calc(100vh - 160px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n.pack-queue-panel {\r\n  background-color: #fff;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  border: 1px solid #ebeef5;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.panel-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 14px;\r\n  border-bottom: 1px solid #ebeef5;\r\n  cursor: move;\r\n  user-select: none;\r\n  background-color: #fafafa;\r\n\r\n  .header-title {\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #303133;\r\n\r\n    .task-count {\r\n      font-weight: normal;\r\n      color: #909399;\r\n      font-size: 12px;\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n\r\n  .header-actions {\r\n    display: flex;\r\n    gap: 6px;\r\n  }\r\n\r\n  .close-btn {\r\n    padding: 3px;\r\n    color: #909399;\r\n\r\n    &:hover {\r\n      color: #f56c6c;\r\n    }\r\n\r\n    .el-icon {\r\n      font-size: 14px;\r\n    }\r\n  }\r\n}\r\n\r\n.panel-content {\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  max-height: 320px;\r\n  padding: 10px;\r\n  background-color: #f5f7fa;\r\n\r\n  /* 滚动条样式 */\r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: rgba(144, 147, 153, 0.3);\r\n    border-radius: 3px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background-color: rgba(0, 0, 0, 0.02);\r\n    border-radius: 3px;\r\n  }\r\n}\r\n\r\n.empty-queue {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 120px;\r\n}\r\n\r\n.queue-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.queue-item {\r\n  border-radius: 8px;\r\n  background-color: #ffffff;\r\n  transition: all 0.2s ease;\r\n  border-left: 3px solid transparent;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);\r\n  margin-bottom: 2px;\r\n\r\n  &.active {\r\n    border-left-color: #67c23a;\r\n  }\r\n\r\n  &.Pending {\r\n    border-left-color: #409eff;\r\n  }\r\n\r\n  &.Failed {\r\n    border-left-color: #f56c6c;\r\n  }\r\n\r\n  &:hover {\r\n    transform: translateY(-1px);\r\n    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);\r\n  }\r\n}\r\n\r\n.queue-item-content {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px 12px;\r\n}\r\n\r\n.queue-item-status {\r\n  margin-right: 12px;\r\n\r\n  .status-icon {\r\n    font-size: 18px;\r\n\r\n    .Pending & {\r\n      animation: rotate 1s linear infinite;\r\n      color: #409eff;\r\n    }\r\n\r\n    .Success & {\r\n      color: #67c23a;\r\n    }\r\n\r\n    .Failed & {\r\n      color: #f56c6c;\r\n    }\r\n  }\r\n}\r\n\r\n.queue-item-info {\r\n  flex: 1;\r\n  min-width: 0;\r\n\r\n  .queue-name {\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    margin-bottom: 4px;\r\n    max-width: 180px;\r\n    color: #303133;\r\n  }\r\n\r\n  .queue-details {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: 12px;\r\n    color: #606266;\r\n    margin-bottom: 6px;\r\n  }\r\n  .queue-time {\r\n    // margin-top: 8px;\r\n    font-size: 11px;\r\n    color: #909399;\r\n    width: 200px;\r\n  }\r\n\r\n  .queue-status-text {\r\n    font-weight: 500;\r\n\r\n    &.Success {\r\n      color: #67c23a;\r\n    }\r\n\r\n    &.Pending {\r\n      color: #409eff;\r\n    }\r\n\r\n    &.Failed {\r\n      color: #f56c6c;\r\n    }\r\n  }\r\n}\r\n\r\n.queue-item-actions {\r\n  display: flex;\r\n  gap: 6px;\r\n  // margin-left: 8px;\r\n\r\n  .el-button {\r\n    padding: 5px;\r\n    min-height: 28px;\r\n    height: 28px;\r\n    border-radius: 5px;\r\n    background-color: #f5f7fa;\r\n    border: none;\r\n\r\n    &:hover {\r\n      background-color: #ecf5ff;\r\n      transform: translateY(-1px);\r\n      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);\r\n    }\r\n\r\n    .el-icon {\r\n      font-size: 14px;\r\n    }\r\n\r\n    &.el-button--primary {\r\n      color: #409eff;\r\n\r\n      &:hover {\r\n        background-color: #ecf5ff;\r\n      }\r\n    }\r\n\r\n    &.el-button--warning {\r\n      color: #e6a23c;\r\n\r\n      &:hover {\r\n        background-color: #fdf6ec;\r\n      }\r\n    }\r\n\r\n    &.el-button--danger {\r\n      color: #f56c6c;\r\n\r\n      &:hover {\r\n        background-color: #fef0f0;\r\n      }\r\n    }\r\n\r\n    &.el-button--info {\r\n      color: #909399;\r\n\r\n      &:hover {\r\n        background-color: #f4f4f5;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.progress-bar-wrapper {\r\n  width: 100%;\r\n  height: 5px;\r\n  background-color: #f0f2f5;\r\n  border-radius: 3px;\r\n  overflow: visible;\r\n  margin-top: 4px;\r\n  position: relative;\r\n}\r\n\r\n.progress-bar {\r\n  height: 100%;\r\n  background-color: #409eff;\r\n  border-radius: 3px;\r\n  transition: width 0.3s ease-in-out;\r\n}\r\n\r\n.progress-text {\r\n  position: absolute;\r\n  top: -17px;\r\n  right: 0;\r\n  font-size: 12px;\r\n  color: #409eff;\r\n  font-weight: 600;\r\n}\r\n\r\n@keyframes rotate {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n@keyframes pulse {\r\n  0% {\r\n    box-shadow: 0 0 0 0 rgba(103, 194, 58, 0.4);\r\n  }\r\n  70% {\r\n    box-shadow: 0 0 0 5px rgba(103, 194, 58, 0);\r\n  }\r\n  100% {\r\n    box-shadow: 0 0 0 0 rgba(103, 194, 58, 0);\r\n  }\r\n}\r\n\r\n.active {\r\n  animation: pulse 2s infinite;\r\n}\r\n\r\n.clear-btn {\r\n  padding: 3px;\r\n  color: #909399;\r\n\r\n  &:hover:not(:disabled) {\r\n    color: #ff9900;\r\n  }\r\n\r\n  &:disabled {\r\n    color: #c0c4cc;\r\n    cursor: not-allowed;\r\n  }\r\n\r\n  .el-icon {\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"table-wrapper\">\r\n    <el-table\r\n      ref=\"multipleTableRef\"\r\n      :data=\"tableData\"\r\n      style=\"width: 100%\"\r\n      @selection-change=\"handleSelectionChange\"\r\n      v-loading=\"loading\"\r\n    >\r\n      <el-table-column type=\"selection\" :selectable=\"selectable\" width=\"55\" />\r\n      <el-table-column property=\"name\" label=\"名称\" width=\"200\" show-overflow-tooltip>\r\n      </el-table-column>\r\n      <el-table-column property=\"category\" label=\"类型\" width=\"100\">\r\n        <template #default=\"scope\">\r\n          <el-tag :type=\"scope.row.category === 'ReadingSimu' ? 'success' : 'warning'\">\r\n            {{ getCategoryName(scope.row.category) }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column property=\"create_time\" label=\"创建时间\" width=\"250\">\r\n        <template #default=\"scope\">{{\r\n          dayjs(scope.row.create_time).format('YYYY-MM-DD HH:mm:ss')\r\n        }}</template>\r\n      </el-table-column>\r\n      <el-table-column property=\"status\" label=\"数量(已完成/总数)\" width=\"200\" />\r\n      <el-table-column property=\"advance\" label=\"状态\" width=\"250\">\r\n        <!-- <template #default=\"scope\">{{ scope.row.status || '0/0' }}</template> -->\r\n        <template #default=\"scope\">\r\n          <!-- <div class=\"queue-info\" v-if=\"scope.row.statusText === statusMap.QUEUING\">\r\n            <el-icon class=\"queue-icon\"><i-ep-loading /></el-icon>\r\n            <span>排队中 (第{{ scope.row.index - 1 }}位/共{{ scope.row.total }}位)</span>\r\n          </div>\r\n          <div class=\"queue-info\" v-else-if=\"scope.row.statusText === statusMap.PROGRESSING\">\r\n            <el-icon class=\"generating-icon\"><i-ep-loading /></el-icon>\r\n            <span>生成中</span>\r\n          </div>\r\n          <div class=\"queue-info\" v-else-if=\"scope.row.statusText == statusMap.DONE\">\r\n            <el-icon class=\"completed-icon\"><i-ep-check /></el-icon>\r\n            <span>\r\n              {{ `已完成 ${scope.row.failed_count ? '（部分失败）' : '（全部成功）'}` }}\r\n            </span>\r\n          </div>\r\n          <div class=\"queue-info\" v-else-if=\"scope.row.statusText == statusMap.STOP\">\r\n            <el-icon class=\"stop-icon\"><i-ep-warning /></el-icon>\r\n            <span>已停止</span>\r\n          </div> -->\r\n\r\n          <div class=\"queue-info\">\r\n            <el-icon class=\"queue-icon\" v-if=\"scope.row.statusText === statusMap.QUEUING\">\r\n              <i-ep-loading />\r\n            </el-icon>\r\n            <el-icon class=\"stop-icon\" v-if=\"scope.row.statusText === statusMap.STOP\"\r\n              ><i-ep-warning\r\n            /></el-icon>\r\n            <el-icon class=\"generating-icon\" v-if=\"scope.row.statusText === statusMap.PROGRESSING\"\r\n              ><i-ep-loading\r\n            /></el-icon>\r\n            <el-icon class=\"completed-icon\" v-if=\"scope.row.statusText === statusMap.DONE\"\r\n              ><i-ep-check\r\n            /></el-icon>\r\n            <el-icon class=\"stop-icon\" v-if=\"scope.row.statusText === statusMap.STOP_PART_DONE\"\r\n              ><i-ep-warning\r\n            /></el-icon>\r\n            <el-icon\r\n              class=\"completed-part-fail-icon\"\r\n              v-if=\"scope.row.statusText === statusMap.DONE_PART_FAIL\"\r\n              ><i-ep-warning\r\n            /></el-icon>\r\n            <span>\r\n              {{\r\n                scope.row.statusText === statusMap.QUEUING\r\n                  ? `${scope.row.statusText} 第${scope.row.index}位/共${scope.row.total}位`\r\n                  : scope.row.statusText\r\n              }}</span\r\n            >\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column fixed=\"right\" label=\"操作\" min-width=\"440\">\r\n        <template #header>\r\n          <div class=\"flex items-center gap-[5px]\">\r\n            <span>操作</span>\r\n            <el-icon class=\"cursor-pointer\" title=\"刷新列表\" @click=\"getTaskList\"\r\n              ><i-ep-refresh\r\n            /></el-icon>\r\n          </div>\r\n        </template>\r\n        <template #default=\"scope\">\r\n          <el-button link type=\"primary\" size=\"small\" @click.prevent=\"copyTask(scope.row.id)\">\r\n            复制任务\r\n          </el-button>\r\n          <el-button\r\n            link\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            @click.prevent=\"viewDetails(scope.row.id)\"\r\n            :disabled=\"\r\n              scope.row.statusText === statusMap.STOP ||\r\n              scope.row.statusText === statusMap.QUEUING ||\r\n              scope.row.statusText === statusMap.PROGRESSING\r\n            \"\r\n          >\r\n            查看详情\r\n          </el-button>\r\n          <el-button\r\n            link\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            @click.prevent=\"downloadTask(scope.row.id)\"\r\n            :disabled=\"\r\n              scope.row.statusText === statusMap.STOP ||\r\n              scope.row.statusText === statusMap.QUEUING ||\r\n              scope.row.statusText === statusMap.PROGRESSING\r\n            \"\r\n          >\r\n            一键打包\r\n          </el-button>\r\n          <el-button\r\n            v-if=\"[statusMap.QUEUING].includes(scope.row.statusText)\"\r\n            link\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            @click.prevent=\"topTask(scope.row.id)\"\r\n            title=\"每日最多插队10次\"\r\n            :disabled=\"remainJumpQuotaRef <= 0\"\r\n            style=\"display: inline-flex; align-items: center; gap: 8px\"\r\n          >\r\n            优先生成\r\n            <el-tooltip\r\n              class=\"box-item\"\r\n              effect=\"dark\"\r\n              :content=\"`剩余${remainJumpQuotaRef}次`\"\r\n              placement=\"top\"\r\n            >\r\n              <el-icon class=\"info-icon\"><i-ep-warning /></el-icon>\r\n            </el-tooltip>\r\n          </el-button>\r\n\r\n          <el-button\r\n            v-if=\"\r\n              scope.row.statusText === statusMap.QUEUING ||\r\n              scope.row.statusText === statusMap.PROGRESSING\r\n            \"\r\n            link\r\n            type=\"danger\"\r\n            size=\"small\"\r\n            @click.prevent=\"stopTask(scope.row.id)\"\r\n            style=\"margin-left: 12px\"\r\n          >\r\n            停止任务\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"demo-pagination-block\">\r\n      <el-pagination\r\n        v-model:current-page=\"data.currentPage\"\r\n        v-model:page-size=\"data.pageSize\"\r\n        :page-sizes=\"[10, 20, 30, 40]\"\r\n        layout=\"sizes, prev, pager, next\"\r\n        :total=\"data.total\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n  <el-drawer\r\n    v-model=\"drawer\"\r\n    :direction=\"direction\"\r\n    size=\"45%\"\r\n    destroy-on-close\r\n    :before-close=\"handleClose\"\r\n    :z-index=\"2000\"\r\n  >\r\n    <template #default>\r\n      <div>\r\n        <el-button\r\n          type=\"primary\"\r\n          class=\"bulk-operation\"\r\n          @click=\"addToPack\"\r\n          :disabled=\"!checkedNames.length\"\r\n        >\r\n          批量打包\r\n        </el-button>\r\n        <div class=\"material-list\" v-loading=\"loading\">\r\n          <!-- 全选复选框 -->\r\n          <el-checkbox\r\n            v-model=\"isAllSelected\"\r\n            @change=\"handleSelectAll\"\r\n            class=\"select-all-checkbox\"\r\n          >\r\n            全选\r\n          </el-checkbox>\r\n          <el-checkbox-group v-model=\"checkedNames\" class=\"el-checkbox-group\">\r\n            <el-checkbox\r\n              v-for=\"(item, index) in videoList\"\r\n              :key=\"index\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n              class=\"image-item\"\r\n            >\r\n              <div class=\"name\">{{ item.name }}</div>\r\n              <div class=\"preview\">\r\n                <video\r\n                  :src=\"baseUrl + item.file_url\"\r\n                  class=\"preview\"\r\n                  controls\r\n                  preload=\"none\"\r\n                  :poster=\"baseUrl + item.key_frame_url\"\r\n                  @play=\"handlePlay\"\r\n                ></video>\r\n                <div class=\"info\">\r\n                  <div class=\"details\">尺寸: {{ item.width }}*{{ item.height }}</div>\r\n                  <div class=\"details\">时长: {{ formatSecondsToTime(item.duration || 0) }}</div>\r\n                </div>\r\n              </div>\r\n            </el-checkbox>\r\n          </el-checkbox-group>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </el-drawer>\r\n\r\n  <!-- 打包队列抽屉 -->\r\n  <PackQueueDrawer ref=\"packQueueDrawerRef\" v-model=\"drawerVisible\" />\r\n</template>\r\n<script setup>\r\nimport { ref, reactive, watch, nextTick, onMounted, onBeforeUnmount, computed } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport {\r\n  getHistoryTaskListVideoRequest,\r\n  getTaskParamsRequest,\r\n  getHistoryTaskListRequest,\r\n  getHistoryTaskListUpgrade,\r\n  StopHistoryTask,\r\n  getHistoryTaskPosition,\r\n  getHistoryTaskJumpQuota,\r\n  postNovelVideoPackTask,\r\n  getGzipTaskList,\r\n  postNovelVideoPackVideo\r\n} from '@/service/novel'\r\nimport dayjs from 'dayjs'\r\nimport bus from '@/utils/mitt.js'\r\nimport { useNovelStore } from '@/store/novelStore'\r\nimport { formatSecondsToTime } from '@/utils/utils'\r\nimport PackQueueDrawer from './PackQueueDrawer.vue'\r\nimport { taskSourceEnum } from '@/utils/enums.js'\r\n\r\nconst novelStore = useNovelStore()\r\nconst statusMap = {\r\n  QUEUING: '排队中',\r\n  STOP: '已停止',\r\n  PROGRESSING: '生成中',\r\n  DONE: '已完成（全部成功）',\r\n  STOP_PART_DONE: '已停止（部分成功）',\r\n  DONE_PART_FAIL: '已完成（部分失败）'\r\n}\r\n\r\nconst loading = ref(false)\r\n\r\nconst videoList = ref([])\r\n\r\nconst checkedNames = ref([])\r\n\r\nconst baseUrl = import.meta.env.VITE_API_BASE_URL\r\n\r\nconst multipleTableRef = ref()\r\n\r\nconst multipleSelection = ref([])\r\n\r\nconst drawer = ref(false)\r\nconst direction = ref('rtl')\r\n\r\nconst tableData = ref([])\r\nconst selectTaskIdList = ref([])\r\nconst remainJumpQuotaRef = ref(0)\r\n\r\nconst data = reactive({\r\n  currentPage: 1,\r\n  pageSize: 20,\r\n  total: 0\r\n})\r\nconst gzipParams = reactive({\r\n  page: 1,\r\n  pageSize: 99\r\n})\r\nconst nameRef = ref('')\r\n\r\nconst props = defineProps({\r\n  videoType: {\r\n    type: String,\r\n    default: 'ReadingSimu'\r\n  },\r\n  source: {\r\n    type: String,\r\n    default: 'novel'\r\n  }\r\n})\r\n\r\nconst isNovel = computed(() => {\r\n  return props.source === taskSourceEnum.NOVEL\r\n})\r\n\r\nconst packCount = ref(0)\r\nconst packQueueDrawerRef = ref(null)\r\nlet packQueueTimer = null\r\n\r\nconst isAllSelected = ref(false)\r\nconst drawerVisible = ref(false)\r\nonMounted(() => {\r\n  getTaskList()\r\n  bus.on('refreshHistoryList', () => {\r\n    getTaskList()\r\n  })\r\n\r\n  startPackQueuePolling()\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  stopPackQueuePolling()\r\n})\r\n\r\nconst handleSelectAll = (val) => {\r\n  if (val) {\r\n    checkedNames.value = videoList.value.map((item) => item.id)\r\n  } else {\r\n    checkedNames.value = []\r\n  }\r\n}\r\n\r\nwatch(\r\n  drawerVisible,\r\n  (newVal) => {\r\n    console.log('drawerVisible新增', newVal)\r\n    // isAllSelected.value = newVal.length === videoList.value.length\r\n  },\r\n  { deep: true }\r\n)\r\nwatch(\r\n  checkedNames,\r\n  (newVal) => {\r\n    isAllSelected.value = newVal.length === videoList.value.length\r\n  },\r\n  { deep: true }\r\n)\r\n\r\nconst handleClose = (done) => {\r\n  checkedNames.value = []\r\n  isAllSelected.value = false\r\n  done()\r\n}\r\n\r\nconst getTaskList = async (fromInitial, name = '', pageNum, pageSize) => {\r\n  if (fromInitial) {\r\n    nameRef.value = name\r\n  }\r\n  try {\r\n    loading.value = true\r\n    const res = await getHistoryTaskListRequest(!isNovel.value, {\r\n      page: pageNum || data.currentPage,\r\n      pagesize: pageSize || data.pageSize,\r\n      name: nameRef.value || ''\r\n    })\r\n    if (res.code === 0) {\r\n      const statusList = await getHistoryTaskPositionFromIds(res.data.list.map((el) => el.id))\r\n      if (statusList) {\r\n        res.data.list.forEach((el) => {\r\n          const obj = statusList[el.id] || {}\r\n          obj.statusText = obj.status\r\n          delete obj.status\r\n          el = Object.assign(el, obj)\r\n        })\r\n        const jumpQuota = await getHistoryTaskJumpQuotaRequest()\r\n        remainJumpQuotaRef.value = jumpQuota\r\n      }\r\n      tableData.value = res.data.list\r\n      data.total = res.data.count\r\n      loading.value = false\r\n    } else {\r\n      ElMessage.error('获取资源失败')\r\n      throw new Error(res.message)\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error(error)\r\n  }\r\n}\r\n\r\nconst categoryMap = {\r\n  ReadingSimu: '模拟',\r\n  Relaxation: '解压',\r\n  ShortFilm: '短剧'\r\n}\r\n\r\nconst getCategoryName = (category) => {\r\n  return categoryMap[category] || category\r\n}\r\n\r\nconst getHistoryTaskPositionFromIds = async (ids) => {\r\n  const res = await getHistoryTaskPosition(!isNovel.value, JSON.stringify({ id_list: ids }))\r\n  return res.data\r\n}\r\n\r\nconst getHistoryTaskJumpQuotaRequest = async () => {\r\n  const res = await getHistoryTaskJumpQuota(!isNovel.value)\r\n  return res.data\r\n}\r\n\r\nconst handleSizeChange = (val) => {\r\n  data.pageSize = val\r\n  data.currentPage = 1\r\n  getTaskList()\r\n}\r\nconst handleCurrentChange = (val) => {\r\n  data.currentPage = val\r\n  getTaskList()\r\n}\r\n\r\nwatch(\r\n  () => props.videoType,\r\n  (newVal) => {\r\n    if (newVal) {\r\n      data.currentPage = 1\r\n      data.pageSize = 20\r\n      getTaskList()\r\n    }\r\n  }\r\n)\r\n\r\nconst copyTask = async (id) => {\r\n  try {\r\n    const res = await getTaskParamsRequest(!isNovel.value, id)\r\n    if (res.code === 0) {\r\n      if (isNovel.value) {\r\n        novelStore.setTaskGenerateParams(res.data)\r\n        bus.emit('jumpToNovelTask', res.data)\r\n      } else {\r\n        // 短剧复制任务\r\n        const data = res.data\r\n        data.category = 'ShortFilm'\r\n        novelStore.setTaskGenerateParams(res.data)\r\n        bus.emit('jumpToShortPlayTask', res.data)\r\n      }\r\n      novelStore.setIsFromHistoryTask(true)\r\n    } else {\r\n      ElMessage.error(res.message || '获取资源失败')\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error(error)\r\n  }\r\n}\r\n\r\nconst getDetailVideoList = async (downloadTaskAllVideo) => {\r\n  const task_ids = selectTaskIdList.value.reduce((acc, id) => {\r\n    acc[`task_ids`] = id\r\n    return acc\r\n  }, {})\r\n\r\n  const params = Object.assign(task_ids, {\r\n    page: 1,\r\n    pagesize: 60\r\n  })\r\n\r\n  try {\r\n    const res = await getHistoryTaskListVideoRequest(!isNovel.value, params)\r\n    if (res.code === 0) {\r\n      videoList.value = res.data.list\r\n      if (downloadTaskAllVideo) {\r\n        downloadTaskAllVideo(res.data.list)\r\n      }\r\n    } else {\r\n      ElMessage.error('获取资源失败')\r\n      throw new Error(res.message)\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error(error)\r\n  }\r\n}\r\n\r\nconst downloadTaskAllVideo = (videoData) => {\r\n  if (!videoData || videoData.length === 0) {\r\n    return\r\n  }\r\n\r\n  return videoData\r\n}\r\n\r\nconst viewDetails = (taskId, downloadTaskAllVideo) => {\r\n  if (!downloadTaskAllVideo) {\r\n    drawer.value = true\r\n  }\r\n  const taskList = []\r\n  taskList.push(taskId)\r\n  selectTaskIdList.value = taskList\r\n  getDetailVideoList(downloadTaskAllVideo)\r\n}\r\n\r\nconst handleSelectionChange = (val) => {\r\n  multipleSelection.value = val\r\n}\r\n\r\nconst downloadVideos = async () => {\r\n  const checkedList = videoList.value.filter((item) => checkedNames.value.includes(item.id))\r\n  if (!checkedList.length) return\r\n  checkedList.forEach((url) => {\r\n    const link = document.createElement('a')\r\n    link.href = baseUrl + url.file_url\r\n    link.download = `${url.name}.mp4`\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n  })\r\n\r\n  checkedNames.value = []\r\n  isAllSelected.value = false\r\n}\r\n\r\nconst handlePlay = (event) => {\r\n  const currentVideo = event.target\r\n  const allVideos = document.querySelectorAll('video')\r\n\r\n  allVideos.forEach((video) => {\r\n    if (video !== currentVideo) {\r\n      video.pause()\r\n    }\r\n  })\r\n}\r\n\r\nconst downloadTask = async (id) => {\r\n  viewDetails(id, async (videoListData) => {\r\n    if (!videoListData || videoListData.length === 0) {\r\n      ElMessage.warning('没有可打包的视频')\r\n      return\r\n    }\r\n\r\n    try {\r\n      const res = await postNovelVideoPackTask(!isNovel.value, id)\r\n\r\n      if (res.code === 0) {\r\n        ElMessage.success('已开始打包')\r\n        // 触发打包队列更新事件，通知全局组件更新计数\r\n        bus.emit('packQueueUpdated')\r\n\r\n        // 由父组件统一控制打开抽屉，发出事件\r\n        bus.emit('openPackQueueDrawer')\r\n      } else {\r\n        ElMessage.error(res.message || '添加打包队列失败')\r\n      }\r\n    } catch (error) {\r\n      ElMessage.error('添加打包队列失败')\r\n      console.error(error)\r\n    }\r\n  })\r\n}\r\n\r\nconst topTask = (id) => {\r\n  ElMessageBox.confirm('请确认是否需要提升本任务的优先级', '提示', {\r\n    confirmButtonText: '确定',\r\n    cancelButtonText: '取消',\r\n    type: 'warning'\r\n  })\r\n    .then(async () => {\r\n      const jumpQuota = await getHistoryTaskJumpQuotaRequest()\r\n      if (!jumpQuota) {\r\n        ElMessage.error('今日优先生成次数已用完')\r\n        return\r\n      }\r\n      const params = isNovel.value ? { id } : { task_id: id }\r\n      const res = await getHistoryTaskListUpgrade(!isNovel.value, params)\r\n      if (res) {\r\n        ElMessage.success('操作成功！')\r\n        // getTaskList()\r\n      }\r\n    })\r\n    .catch(() => {\r\n      // 用户取消关闭\r\n    })\r\n}\r\n\r\nconst stopTask = (id) => {\r\n  const params = isNovel.value ? { id } : { task_id: id }\r\n  StopHistoryTask(!isNovel.value, params).then(() => {\r\n    ElMessage.success('操作成功！')\r\n    getTaskList()\r\n  })\r\n}\r\n\r\nconst addToPack = async () => {\r\n  if (!checkedNames.value.length) {\r\n    ElMessage.warning('请先选择要打包的视频')\r\n    return\r\n  }\r\n\r\n  try {\r\n    const checkedList = videoList.value.filter((item) => checkedNames.value.includes(item.id))\r\n    const params = {\r\n      id_list: checkedNames.value\r\n    }\r\n    const res = await postNovelVideoPackVideo(!isNovel.value, params)\r\n\r\n    if (res.code === 0) {\r\n      ElMessage.success('已开始打包')\r\n      checkedNames.value = []\r\n      isAllSelected.value = false\r\n      bus.emit('packQueueUpdated')\r\n      bus.emit('openPackQueueDrawer')\r\n    } else {\r\n      ElMessage.error(res.message || '添加打包队列失败')\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('添加打包队列失败')\r\n    console.error(error)\r\n  }\r\n}\r\n\r\nconst startPackQueuePolling = () => {\r\n  stopPackQueuePolling()\r\n  fetchPackQueueCount()\r\n\r\n  //   packQueueTimer = setInterval(() => {\r\n  //     fetchPackQueueCount()\r\n  //   }, 5000)\r\n}\r\n\r\nconst stopPackQueuePolling = () => {\r\n  if (packQueueTimer) {\r\n    clearInterval(packQueueTimer)\r\n    packQueueTimer = null\r\n  }\r\n}\r\n\r\nconst fetchPackQueueCount = async () => {\r\n  try {\r\n    const res = await getGzipTaskList(gzipParams)\r\n    if (res.code === 0) {\r\n      packCount.value = (res.data.list || []).length\r\n    }\r\n  } catch (error) {\r\n    console.error('获取打包队列数量失败:', error)\r\n  }\r\n}\r\n\r\nconst openPackQueueDrawer = () => {\r\n  packQueueDrawerRef.value.openDrawer()\r\n}\r\n\r\ndefineExpose({\r\n  getTaskList,\r\n  packCount\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.table-wrapper {\r\n  .bulk-operation {\r\n    position: absolute;\r\n    top: 40px;\r\n    right: 30px;\r\n  }\r\n\r\n  .el-table {\r\n    height: calc(100vh - 300px);\r\n  }\r\n\r\n  .demo-pagination-block {\r\n    position: absolute;\r\n    right: 40px;\r\n    bottom: 25px;\r\n  }\r\n}\r\n\r\n.material-list {\r\n  padding: 20px;\r\n  // background-color: #f5f7fa;\r\n  border-radius: 8px;\r\n  margin-top: 20px;\r\n\r\n  .select-all-checkbox {\r\n    margin-bottom: 20px;\r\n    :deep(.el-checkbox__label) {\r\n      padding-left: 25px;\r\n    }\r\n  }\r\n\r\n  .el-checkbox-group {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 20px;\r\n  }\r\n\r\n  .el-checkbox {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    position: relative;\r\n    margin-right: 0;\r\n  }\r\n\r\n  :deep(.el-checkbox__input) {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 0;\r\n    flex-shrink: 0;\r\n    padding-left: 4px;\r\n  }\r\n\r\n  .el-checkbox__label {\r\n    flex-grow: 1;\r\n  }\r\n\r\n  .image-item {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    // background-color: #fff;\r\n    border-radius: 8px;\r\n    padding: 15px;\r\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n    width: 260px;\r\n    height: 460px;\r\n    box-sizing: border-box;\r\n\r\n    .content {\r\n      flex-grow: 1;\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 10px;\r\n    }\r\n\r\n    .name {\r\n      width: 200px;\r\n      overflow: hidden;\r\n      font-size: 16px;\r\n      font-weight: 700;\r\n      text-overflow: ellipsis;\r\n      padding: 10px;\r\n      background-color: #f5f5f5;\r\n      text-align: center;\r\n    }\r\n\r\n    .preview {\r\n      position: relative;\r\n      width: 100%;\r\n      max-width: 200px;\r\n      border-radius: 8px;\r\n      overflow: hidden;\r\n\r\n      video {\r\n        width: 100%;\r\n        height: auto;\r\n        border-radius: 8px;\r\n      }\r\n\r\n      .info {\r\n        padding: 10px;\r\n        text-align: left;\r\n\r\n        .details {\r\n          font-size: 12px;\r\n          color: #606266;\r\n          margin-bottom: 5px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.queue-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  font-size: 12px;\r\n\r\n  .queue-icon,\r\n  .generating-icon {\r\n    color: #e6a23c;\r\n    animation: rotate 1s linear infinite;\r\n  }\r\n\r\n  .completed-icon {\r\n    color: #67c23a;\r\n  }\r\n  .stop-icon {\r\n    color: #f56c6c;\r\n  }\r\n  .completed-part-fail-icon {\r\n    color: #e6a23c;\r\n  }\r\n}\r\n\r\n.info-icon {\r\n  margin-left: 5px;\r\n}\r\n\r\n@keyframes rotate {\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <!-- <el-button\r\n    type=\"primary\"\r\n    class=\"download_button\"\r\n    @click=\"downloadVideos\"\r\n    :disabled=\"!checkedNames.length\"\r\n  >\r\n    打包下载\r\n  </el-button> -->\r\n  <div class=\"material-list\" v-loading=\"loading\">\r\n    <el-checkbox-group v-model=\"checkedNames\" class=\"el-checkbox-group\" @scroll=\"handleScroll\">\r\n      <el-checkbox\r\n        v-for=\"(item, index) in videoList\"\r\n        :key=\"index\"\r\n        :label=\"item.name\"\r\n        :value=\"item.id\"\r\n        class=\"image-item\"\r\n      >\r\n        <video\r\n          :src=\"baseUrl + item.file_url\"\r\n          class=\"preview\"\r\n          controls\r\n          preload=\"none\"\r\n          :poster=\"baseUrl + item.key_frame_url\"\r\n          @play=\"handlePlay\"\r\n        ></video>\r\n        <div class=\"info\">\r\n          <div class=\"name\">{{ item.name }}</div>\r\n          <div class=\"material-tags-row\">\r\n            <el-tag\r\n              v-if=\"item.category\"\r\n              :type=\"item.category === 'ReadingSimu' ? 'success' : 'warning'\"\r\n            >\r\n              {{ getCategoryName(item.category) }}\r\n            </el-tag>\r\n          </div>\r\n          <div class=\"material-info-row\">\r\n            <div class=\"material-size\" v-if=\"item.width && item.height\">\r\n              尺寸: {{ item.width && item.height ? `${item.width}*${item.height}` : '--' }}\r\n            </div>\r\n            <div class=\"material-duration\">\r\n              时长: {{ item.duration ? `${parseFloat(item.duration)?.toFixed(2)}s` : '0s' }}\r\n            </div>\r\n          </div>\r\n          <!-- <div class=\"details\">尺寸: {{ item.width }}*{{ item.height }}</div>\r\n          <div class=\"details\">时长: {{ `${parseFloat(item.duration)?.toFixed(2)} s` }}</div> -->\r\n        </div>\r\n      </el-checkbox>\r\n    </el-checkbox-group>\r\n  </div>\r\n\r\n  <!-- 保留打包队列抽屉 -->\r\n  <PackQueueDrawer ref=\"packQueueDrawerRef\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch, onBeforeUnmount, computed } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { getHistoryVideoListRequest, postNovelVideoPackVideo } from '@/service/novel'\r\nimport dayjs from 'dayjs'\r\nimport PackQueueDrawer from './PackQueueDrawer.vue'\r\nimport bus from '@/utils/mitt.js'\r\nimport { taskSourceEnum } from '@/utils/enums.js'\r\n\r\nconst loading = ref(false)\r\nconst videoList = ref([])\r\nconst checkedNames = ref([])\r\nconst baseUrl = import.meta.env.VITE_API_BASE_URL\r\nconst page = ref(1) // 当前页码\r\nconst pagesize = 20 // 每页加载的数据量\r\nconst totalCount = ref(0) // 数据总数\r\nconst hasMore = ref(true)\r\n\r\n// 打包队列相关\r\nconst packCount = ref(0) // 打包队列数量\r\nconst packQueueDrawerRef = ref(null) // 打包队列抽屉引用\r\nlet packQueueTimer = null // 打包队列轮询定时器\r\n\r\nonMounted(() => {\r\n  getVideoList()\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  // stopPackQueuePolling()\r\n})\r\n\r\nconst props = defineProps({\r\n  videoType: {\r\n    type: String,\r\n    default: 'ReadingSimu'\r\n  },\r\n  source: {\r\n    type: String,\r\n    default: 'novel'\r\n  }\r\n})\r\n\r\nconst isNovel = computed(() => {\r\n  return props.source === taskSourceEnum.NOVEL\r\n})\r\n\r\n// 当某个视频开始播放时，暂停其他所有视频\r\nconst handlePlay = (event) => {\r\n  const currentVideo = event.target\r\n  const allVideos = document.querySelectorAll('video')\r\n\r\n  allVideos.forEach((video) => {\r\n    if (video !== currentVideo) {\r\n      video.pause()\r\n    }\r\n  })\r\n}\r\n// 任务类型映射\r\nconst categoryMap = {\r\n  ReadingSimu: '模拟',\r\n  Relaxation: '解压',\r\n  ShortFilm: '短剧'\r\n}\r\n// 获取类型名称的方法\r\nconst getCategoryName = (category) => {\r\n  return categoryMap[category] || category\r\n}\r\n// 搜索内容\r\nconst searchContent = ref('')\r\n// 获取视频列表\r\nconst getVideoList = async (page = 1, name) => {\r\n  console.log('获取视频列表', page)\r\n  searchContent.value = name\r\n  try {\r\n    loading.value = true\r\n    const res = await getHistoryVideoListRequest(!isNovel.value, {\r\n      name: searchContent.value,\r\n      page,\r\n      pagesize\r\n    })\r\n    if (res.code === 0) {\r\n      if (page === 1) {\r\n        videoList.value = res.data.list\r\n      } else {\r\n        videoList.value = [...videoList.value, ...res.data.list]\r\n      }\r\n      totalCount.value = res.data.count // 更新总数\r\n      hasMore.value = videoList.value.length < totalCount.value // 判断是否还有更多数据\r\n      loading.value = false\r\n    } else {\r\n      ElMessage.error('获取资源失败')\r\n      throw new Error(res.message)\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error(error)\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 监听 videoType 变化\r\nwatch(\r\n  () => props.videoType,\r\n  (newVal) => {\r\n    if (newVal) {\r\n      page.value = 1\r\n      getVideoList(page.value)\r\n    }\r\n  }\r\n)\r\n// 打包下载视频\r\nconst downloadVideos = async () => {\r\n  if (!checkedNames.value.length) {\r\n    ElMessage.warning('请先选择要打包的视频')\r\n    return\r\n  }\r\n\r\n  try {\r\n    const params = {\r\n      id_list: checkedNames.value\r\n    }\r\n    const res = await postNovelVideoPackVideo(!isNovel.value, params)\r\n\r\n    if (res.code === 0) {\r\n      ElMessage.success('已开始打包')\r\n      checkedNames.value = []\r\n      bus.emit('packQueueUpdated')\r\n      bus.emit('openPackQueueDrawer')\r\n    } else {\r\n      ElMessage.error(res.message || '添加打包队列失败')\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('添加打包队列失败')\r\n    console.error(error)\r\n  }\r\n}\r\n\r\n// // 获取打包队列数量\r\n// const fetchPackQueueCount = async () => {\r\n//   try {\r\n//     const res = await getPackQueue()\r\n//     if (res.code === 0) {\r\n//       packCount.value = (res.data || []).length\r\n//     }\r\n//   } catch (error) {\r\n//     console.error('获取打包队列数量失败:', error)\r\n//   }\r\n// }\r\n\r\n// 监听 el-checkbox-group 的滚动事件\r\nconst handleScroll = (event) => {\r\n  const el = event.target\r\n  const { scrollTop, scrollHeight, clientHeight } = el\r\n  // 判断是否滚动到底部\r\n  if (scrollHeight - scrollTop <= clientHeight + 10 && hasMore.value && !loading.value) {\r\n    page.value++\r\n    getVideoList(page.value, searchContent.value)\r\n  }\r\n}\r\n// 加载更多数据\r\nconst loadMoreData = () => {\r\n  getVideoList(page.value)\r\n}\r\n\r\n// 暴露方法和数据给父组件\r\ndefineExpose({\r\n  getVideoList,\r\n  // loadMoreData,\r\n  checkedNames,\r\n  downloadVideos,\r\n  packCount\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.material-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n.download_button {\r\n  width: 120px;\r\n  margin: 0px 25px 20px;\r\n}\r\n\r\n.el-checkbox-group {\r\n  height: calc(100vh - 300px); // 调整高度以适应页面\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20px;\r\n  padding: 10px;\r\n\r\n  /* 滚动条样式 */\r\n  &::-webkit-scrollbar {\r\n    width: 6px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: rgba(144, 147, 153, 0.3);\r\n    border-radius: 3px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background-color: rgba(0, 0, 0, 0.02);\r\n    border-radius: 3px;\r\n  }\r\n}\r\n\r\n.image-item {\r\n  width: 200px;\r\n  height: 450px;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-shrink: 0;\r\n\r\n  :deep(.el-checkbox__label) {\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  :deep(.el-checkbox__input) {\r\n    margin-right: 5px;\r\n  }\r\n\r\n  .preview {\r\n    width: 200px; // 固定宽度\r\n    height: 352px;\r\n    background-color: #f5f5f5;\r\n  }\r\n\r\n  .info {\r\n    width: 200px; // 固定宽度\r\n    padding: 10px;\r\n    background-color: #f5f5f5;\r\n    box-sizing: border-box;\r\n    .name {\r\n      width: 180px; // 减去padding的宽度\r\n      font-weight: bold;\r\n      font-size: 14px;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n    .details {\r\n      font-size: 14px;\r\n      color: #606266;\r\n      margin: 5px 0;\r\n      font-size: 8px;\r\n    }\r\n    .material-tags-row {\r\n      margin-top: 8px;\r\n      width: 200px; // 减去padding的宽度\r\n    }\r\n    .material-info-row {\r\n      margin-top: 8px;\r\n      width: 180px; // 减去padding的宽度\r\n      font-size: 12px;\r\n      color: #606266;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      font-size: 10px;\r\n      color: #999;\r\n      padding-top: 4px;\r\n      border-top: 1px solid #b6babd;\r\n    }\r\n  }\r\n}\r\n\r\n.load-more,\r\n.no-more {\r\n  text-align: center;\r\n  padding: 20px;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  color: #606266;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"history-task-container\">\r\n    <div class=\"container-header\">\r\n      <div class=\"header-left\">\r\n        <!-- 滑块式切换组件 -->\r\n        <div class=\"view-switch\">\r\n          <div class=\"toggle-switch-container\">\r\n            <div class=\"toggle-switch-wrapper\">\r\n              <div class=\"toggle-switch\" :class=\"{ 'slide-right': viewMode === 'video' }\">\r\n                <div\r\n                  class=\"switch-option\"\r\n                  :class=\"{ active: viewMode === 'task' }\"\r\n                  @click=\"viewMode = 'task'\"\r\n                >\r\n                  <i class=\"el-icon-document\"></i>\r\n                  任务列表\r\n                </div>\r\n                <div\r\n                  class=\"switch-option\"\r\n                  :class=\"{ active: viewMode === 'video' }\"\r\n                  @click=\"viewMode = 'video'\"\r\n                >\r\n                  <i class=\"el-icon-video-camera\"></i>\r\n                  视频列表\r\n                </div>\r\n                <div class=\"slider\" :class=\"{ 'slide-right': viewMode === 'video' }\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 打包下载按钮 - 仅在视频列表模式下显示 -->\r\n        <button\r\n          v-if=\"viewMode === 'video'\"\r\n          class=\"download-button\"\r\n          :class=\"{ disabled: !hasCheckedVideos }\"\r\n          @click=\"handleBatchDownload\"\r\n        >\r\n          <i class=\"el-icon-download\"></i>\r\n          批量打包\r\n        </button>\r\n      </div>\r\n\r\n      <!-- 美化的搜索框 -->\r\n      <div class=\"search-box\">\r\n        <div class=\"search-wrapper\">\r\n          <i class=\"el-icon-search search-icon\"></i>\r\n          <input\r\n            type=\"text\"\r\n            class=\"custom-search-input\"\r\n            v-model=\"searchKey\"\r\n            placeholder=\"搜索关键字...\"\r\n            @input=\"handleSearch\"\r\n          />\r\n          <i class=\"el-icon-close clear-icon\" v-show=\"searchKey\" @click=\"clearSearch\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <taskList\r\n      v-if=\"viewMode === 'task'\"\r\n      :videoType=\"data.videoType\"\r\n      ref=\"taskListRef\"\r\n      :source=\"source\"\r\n    ></taskList>\r\n    <videoList v-else :videoType=\"data.videoType\" ref=\"videoListRef\" :source=\"source\"></videoList>\r\n\r\n    <!-- 打包队列图标 - 可选，如果希望在顶层放一个固定的打包队列图标 -->\r\n    <div class=\"global-pack-queue-icon\" @click=\"openGlobalPackQueue\" title=\"打包队列\">\r\n      <el-badge :value=\"packQueueCount\" :hidden=\"packQueueCount <= 0\" :max=\"99\">\r\n        <el-icon><i-ep-box /></el-icon>\r\n      </el-badge>\r\n    </div>\r\n\r\n    <!-- 全局打包队列抽屉 -->\r\n    <PackQueueDrawer ref=\"globalPackQueueDrawerRef\" v-model=\"drawerVisible\" />\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, reactive, watch, computed, onMounted, onBeforeUnmount } from 'vue'\r\nimport taskList from './taskList.vue'\r\nimport videoList from './videoList.vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { getGzipTaskList } from '@/service/novel'\r\nimport PackQueueDrawer from './PackQueueDrawer.vue'\r\nimport bus from '@/utils/mitt.js'\r\n\r\nconst { source } = defineProps({\r\n  // 任务类型\r\n  source: {\r\n    type: String,\r\n    default: 'novel'\r\n  }\r\n})\r\n\r\n// 视图模式\r\nconst viewMode = ref('task')\r\nconst taskListRef = ref(null)\r\nconst videoListRef = ref(null)\r\n\r\nconst searchKey = ref('')\r\n\r\nconst videoTypeOptions = [\r\n  {\r\n    value: 'ReadingSimu',\r\n    label: '模拟阅读'\r\n  },\r\n  {\r\n    value: 'Relaxation',\r\n    label: '解压视频'\r\n  }\r\n]\r\n\r\nconst data = reactive({\r\n  videoType: 'ReadingSimu'\r\n})\r\nconst drawerVisible = ref(false)\r\n// 监听抽屉可见性变化\r\nwatch(drawerVisible, (newVal) => {\r\n  console.log('Drawer visibility changed修改了:', newVal)\r\n})\r\n// 打包下载相关\r\nconst hasCheckedVideos = computed(() => {\r\n  if (viewMode.value === 'video' && videoListRef.value) {\r\n    return videoListRef.value.checkedNames?.length > 0\r\n  }\r\n  return false\r\n})\r\n\r\n// 打包队列相关\r\nconst packQueueCount = ref(0) // 全局打包队列数量\r\nconst globalPackQueueDrawerRef = ref(null)\r\nlet globalPackQueueTimer = null\r\n\r\n// 打包下载处理\r\nconst handleBatchDownload = () => {\r\n  if (!hasCheckedVideos.value) {\r\n    ElMessage.warning('请先选择要打包的视频')\r\n    return\r\n  }\r\n\r\n  // 直接调用子组件的downloadVideos方法\r\n  if (videoListRef.value && typeof videoListRef.value.downloadVideos === 'function') {\r\n    videoListRef.value.downloadVideos()\r\n    // 已打开打包队列抽屉\r\n    if (drawerVisible.value) {\r\n      globalPackQueueDrawerRef.value.fetchPackQueue()\r\n    } else {\r\n      globalPackQueueDrawerRef.value.openDrawer()\r\n    }\r\n  } else {\r\n    ElMessage.error('下载功能不可用，请刷新页面重试')\r\n  }\r\n}\r\nconst gzipParams = reactive({\r\n  page: 1,\r\n  pageSize: 99\r\n})\r\n// 获取全局打包队列数量\r\nconst fetchGlobalPackQueueCount = async () => {\r\n  console.log('获取全局打包队列数量')\r\n  try {\r\n    const res = await getGzipTaskList(gzipParams)\r\n    if (res.code === 0) {\r\n      packQueueCount.value = (res.data.list || []).length\r\n    }\r\n  } catch (error) {\r\n    console.error('获取打包队列数量失败:', error)\r\n  }\r\n}\r\n\r\n// 开启全局打包队列轮询\r\nconst startGlobalPackQueuePolling = () => {\r\n  stopGlobalPackQueuePolling() // 先停止之前的轮询\r\n  fetchGlobalPackQueueCount() // 先执行一次\r\n  // globalPackQueueTimer = setInterval(() => {\r\n  //   fetchGlobalPackQueueCount()\r\n  // }, 3000) // 每3秒轮询一次，更快地更新状态\r\n}\r\n\r\n// 停止全局打包队列轮询\r\nconst stopGlobalPackQueuePolling = () => {\r\n  if (globalPackQueueTimer) {\r\n    clearInterval(globalPackQueueTimer)\r\n    globalPackQueueTimer = null\r\n  }\r\n}\r\n\r\n// 打开全局打包队列抽屉\r\nconst openGlobalPackQueue = () => {\r\n  // 打开悬浮窗时立即更新一次计数\r\n  fetchGlobalPackQueueCount()\r\n  // 确保悬浮窗在图标附近显示\r\n  if (drawerVisible.value) {\r\n    drawerVisible.value = false\r\n  } else {\r\n    globalPackQueueDrawerRef.value.openDrawer()\r\n  }\r\n}\r\n\r\nconst clearSearch = () => {\r\n  searchKey.value = ''\r\n  handleSearch()\r\n}\r\n\r\nonMounted(() => {\r\n  startGlobalPackQueuePolling()\r\n  // 添加监听子组件发出的打开打包队列事件\r\n  bus.on('openPackQueueDrawer', () => {\r\n    // 已打开打包队列抽屉\r\n    if (drawerVisible.value) {\r\n      globalPackQueueDrawerRef.value.fetchPackQueue()\r\n    } else {\r\n      globalPackQueueDrawerRef.value.openDrawer()\r\n    }\r\n  })\r\n  // 监听打包队列更新事件，实时更新计数\r\n  bus.on('packQueueUpdated', () => {\r\n    fetchGlobalPackQueueCount()\r\n  })\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  stopGlobalPackQueuePolling()\r\n  // 移除监听\r\n  bus.off('openPackQueueDrawer')\r\n  bus.off('packQueueUpdated')\r\n})\r\n\r\nconst handleSearch = () => {\r\n  if (viewMode.value === 'task') {\r\n    taskListRef.value.getTaskList(true, searchKey.value, 1, 20)\r\n  } else {\r\n    videoListRef.value.getVideoList(1, searchKey.value)\r\n  }\r\n}\r\n// 监听viewMode的变化\r\nwatch(viewMode, () => {\r\n  searchKey.value = ''\r\n})\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.history-task-container {\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.05);\r\n  padding: 20px;\r\n  min-height: 500px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.container-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding-bottom: 15px;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.header-left {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.view-switch {\r\n  margin-right: 15px;\r\n\r\n  .toggle-switch-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .toggle-switch-wrapper {\r\n    background-color: #f5f7fa;\r\n    border-radius: 20px;\r\n    padding: 3px;\r\n    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);\r\n  }\r\n\r\n  .toggle-switch {\r\n    position: relative;\r\n    display: flex;\r\n    width: 250px;\r\n    height: 36px;\r\n    border-radius: 18px;\r\n    transition: all 0.3s;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .switch-option {\r\n    position: relative;\r\n    z-index: 2;\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 8px 12px;\r\n    cursor: pointer;\r\n    color: #909399;\r\n    transition: color 0.3s;\r\n    user-select: none;\r\n\r\n    i {\r\n      margin-right: 6px;\r\n      font-size: 16px;\r\n    }\r\n\r\n    &.active {\r\n      color: #409eff;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n\r\n  .slider {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 50%;\r\n    height: 100%;\r\n    background-color: white;\r\n    border-radius: 18px;\r\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);\r\n    transition: transform 0.3s ease;\r\n\r\n    &.slide-right {\r\n      transform: translateX(100%);\r\n    }\r\n  }\r\n}\r\n\r\n.download-button {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #409eff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 18px;\r\n  padding: 0 16px;\r\n  height: 36px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n  box-shadow: 0 2px 6px rgba(64, 158, 255, 0.2);\r\n\r\n  i {\r\n    margin-right: 6px;\r\n    font-size: 16px;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: #66b1ff;\r\n    box-shadow: 0 4px 8px rgba(64, 158, 255, 0.3);\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:active {\r\n    background-color: #3a8ee6;\r\n    box-shadow: 0 2px 4px rgba(64, 158, 255, 0.2);\r\n    transform: translateY(0);\r\n  }\r\n\r\n  &.disabled {\r\n    background-color: #a0cfff;\r\n    cursor: not-allowed;\r\n    box-shadow: none;\r\n\r\n    &:hover {\r\n      transform: none;\r\n      background-color: #a0cfff;\r\n      box-shadow: none;\r\n    }\r\n  }\r\n}\r\n\r\n.search-box {\r\n  width: 250px;\r\n\r\n  .search-wrapper {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #f5f7fa;\r\n    border-radius: 20px;\r\n    height: 36px;\r\n    padding: 0 15px;\r\n    transition: all 0.3s;\r\n    border: 1px solid transparent;\r\n    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);\r\n\r\n    &:hover,\r\n    &:focus-within {\r\n      background-color: #ffffff;\r\n      border-color: #409eff;\r\n      box-shadow: 0 0 0 2px rgba(64, 158, 255, 0.1);\r\n    }\r\n\r\n    .search-icon {\r\n      color: #909399;\r\n      font-size: 16px;\r\n      margin-right: 8px;\r\n    }\r\n\r\n    .custom-search-input {\r\n      flex: 1;\r\n      border: none;\r\n      outline: none;\r\n      background: transparent;\r\n      height: 100%;\r\n      color: #606266;\r\n      font-size: 14px;\r\n\r\n      &::placeholder {\r\n        color: #c0c4cc;\r\n      }\r\n    }\r\n\r\n    .clear-icon {\r\n      cursor: pointer;\r\n      color: #c0c4cc;\r\n      font-size: 14px;\r\n      padding: 4px;\r\n      border-radius: 50%;\r\n      transition: all 0.2s;\r\n\r\n      &:hover {\r\n        color: #909399;\r\n        background-color: rgba(0, 0, 0, 0.05);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.content-wrapper {\r\n  position: relative;\r\n  min-height: 400px;\r\n  flex: 1;\r\n}\r\n\r\n.pagination-wrapper {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 20px;\r\n  padding-top: 15px;\r\n  border-top: 1px solid #ebeef5;\r\n}\r\n\r\n.global-pack-queue-icon {\r\n  position: fixed;\r\n  right: 30px;\r\n  bottom: 30px;\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, rgb(144, 150, 255), rgb(133, 200, 255));\r\n  color: white;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);\r\n  cursor: pointer;\r\n  z-index: 9990; /* 确保在最顶层但低于悬浮窗 */\r\n  transition: all 0.3s;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n    background: linear-gradient(135deg, rgb(153, 158, 255), rgb(147, 207, 255));\r\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n  }\r\n\r\n  :deep(.el-badge__content) {\r\n    top: 0;\r\n    right: 0;\r\n  }\r\n\r\n  .el-icon {\r\n    font-size: 24px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"batch-novels-container\">\r\n    <!-- 新增的滚动容器 -->\r\n    <div class=\"tabs-scroll-container\">\r\n      <div class=\"custom-tabs\">\r\n        <!-- 遍历所有主菜单项 -->\r\n        <div v-for=\"(item, index) in tabsType\" :key=\"index\" class=\"tab-item-container\">\r\n          <!-- 无子菜单的项目 -->\r\n          <div\r\n            v-if=\"!item.children\"\r\n            :class=\"['tab-item', { active: activeTab === item.value }]\"\r\n            @click=\"handleTabClick(item.value)\"\r\n          >\r\n            {{ item.label }}\r\n          </div>\r\n\r\n          <!-- 有子菜单的项目 -->\r\n          <div\r\n            v-else\r\n            class=\"tab-item-dropdown\"\r\n            @mouseenter=\"handleMouseEnter($event, item)\"\r\n            @mouseleave=\"handleMouseLeave\"\r\n          >\r\n            <div\r\n              :class=\"[\r\n                'tab-item',\r\n                {\r\n                  active: item.children && item.children.some((child) => child.value === activeTab)\r\n                }\r\n              ]\"\r\n            >\r\n              {{ item.label }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <keep-alive>\r\n      <createTask v-if=\"activeTab === 'createTask'\" :source=\"source\" />\r\n      <createTask v-else-if=\"activeTab === 'createShortPlayTask'\" :source=\"source\" />\r\n      <createVideo v-else-if=\"activeTab === 'createVideo'\" />\r\n    </keep-alive>\r\n    <historyTask v-if=\"activeTab === 'historyTask'\" :source=\"source\" />\r\n    <ResourceList\r\n      v-else-if=\"\r\n        !['createTask', 'createVideo', 'historyTask', 'createShortPlayTask'].includes(activeTab)\r\n      \"\r\n      :tabType=\"activeTab\"\r\n      :key=\"activeTab\"\r\n      :fromSelf=\"true\"\r\n    />\r\n  </div>\r\n\r\n  <!-- 使用 Teleport 将下拉菜单移至 body -->\r\n  <Teleport to=\"body\">\r\n    <div\r\n      v-if=\"showDropdown\"\r\n      class=\"dropdown-menu\"\r\n      :style=\"dropdownStyle\"\r\n      @mouseenter=\"handleDropdownEnter\"\r\n      @mouseleave=\"handleDropdownLeave\"\r\n    >\r\n      <div\r\n        v-for=\"(child, childIndex) in currentChildren\"\r\n        :key=\"childIndex\"\r\n        :class=\"['dropdown-item', { active: activeTab === child.value }]\"\r\n        @click=\"handleTabClick(child.value)\"\r\n      >\r\n        {{ child.label }}\r\n      </div>\r\n    </div>\r\n  </Teleport>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, watch, onMounted, computed } from 'vue'\r\nimport { TABS } from '@/constants/BatchNovelsMessage'\r\nimport { SHORT_PLAY_TABS } from '@/constants/BatchShortPlatyMessage'\r\nimport createTask from './components/SimulatedReading/index.vue'\r\nimport createVideo from './components/RelaxedVideo/index.vue'\r\nimport historyTask from './components/HistoryTaskComponents/index.vue'\r\n// import resourceList from './components/ResourceList.vue'\r\nimport { ResourceList } from 'uchuang-resource-lib'\r\n// import '@vueup/vue-quill/dist/vue-quill.snow.css' // 引入 Quill 编辑器样式\r\nimport bus from '@/utils/mitt.js'\r\nimport { useNovelStore } from '@/store/novelStore'\r\nimport { useRouter } from 'vue-router'\r\n// import { ResourceList } from 'uchuang-resource-lib'\r\n\r\nconst router = useRouter()\r\n\r\nconst source = ref('novel')\r\n\r\nconst tabsType = computed(() => {\r\n  if (router.currentRoute.value.name == 'batchShortPlay') {\r\n    return SHORT_PLAY_TABS.value\r\n  }\r\n  return TABS.value\r\n})\r\n\r\n// 监听路由变化来更新source值\r\nwatch(\r\n  () => router.currentRoute.value.name,\r\n  (newRouteName) => {\r\n    if (newRouteName === 'batchShortPlay') {\r\n      source.value = 'shortPlay'\r\n    } else {\r\n      source.value = 'novel'\r\n    }\r\n  },\r\n  { immediate: true }\r\n)\r\nconst novelStore = useNovelStore()\r\nconst activeTab = ref('historyTask') // 初始tab-模拟阅读\r\nconst showDropdown = ref(false) // 控制下拉菜单显示\r\nconst dropdownStyle = ref({}) // 下拉菜单位置样式\r\nconst currentChildren = ref([]) // 当前显示的子菜单项\r\nlet hideTimer = null // 用于处理延迟隐藏\r\n\r\n// 处理标签点击\r\nconst handleTabClick = (value) => {\r\n  activeTab.value = value\r\n  novelStore.setCheckedData({})\r\n  showDropdown.value = false // 关闭下拉菜单\r\n}\r\n\r\n// 处理鼠标进入\r\nconst handleMouseEnter = (event, item) => {\r\n  if (hideTimer) {\r\n    clearTimeout(hideTimer)\r\n    hideTimer = null\r\n  }\r\n\r\n  // 获取当前元素的位置信息\r\n  const rect = event.currentTarget.getBoundingClientRect()\r\n\r\n  // 设置下拉菜单的位置\r\n  dropdownStyle.value = {\r\n    position: 'fixed',\r\n    top: `${rect.bottom + 8}px`,\r\n    left: `${rect.left}px`,\r\n    minWidth: `${rect.width}px`\r\n  }\r\n\r\n  currentChildren.value = item.children\r\n  showDropdown.value = true\r\n}\r\n\r\n// 处理鼠标离开\r\nconst handleMouseLeave = () => {\r\n  hideTimer = setTimeout(() => {\r\n    showDropdown.value = false\r\n  }, 100)\r\n}\r\n\r\n// 处理下拉菜单鼠标进入\r\nconst handleDropdownEnter = () => {\r\n  if (hideTimer) {\r\n    clearTimeout(hideTimer)\r\n    hideTimer = null\r\n  }\r\n}\r\n\r\n// 处理下拉菜单鼠标离开\r\nconst handleDropdownLeave = () => {\r\n  hideTimer = setTimeout(() => {\r\n    showDropdown.value = false\r\n  }, 100)\r\n}\r\n\r\nconst jumpToHistoryTask = () => {\r\n  activeTab.value = 'historyTask'\r\n}\r\n\r\nonMounted(() => {\r\n  bus.on('jumpToHistoryTask', jumpToHistoryTask)\r\n  bus.on('jumpToNovelTask', (val) => {\r\n    if (val.category === 'ReadingSimu') {\r\n      activeTab.value = 'createTask'\r\n    } else if (val.category === 'Relaxation') {\r\n      activeTab.value = 'createVideo'\r\n    }\r\n  })\r\n  // 短剧\r\n  bus.on('jumpToShortPlayTask', () => {\r\n    source.value = 'shortPlay'\r\n    activeTab.value = 'createShortPlayTask'\r\n  })\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.batch-novels-container {\r\n  width: 100%;\r\n  padding: 20px;\r\n  height: 100%;\r\n  background-color: #f9f9fb;\r\n}\r\n\r\n/* 滚动容器样式 */\r\n.tabs-scroll-container {\r\n  width: 100%;\r\n  overflow-x: auto;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  margin-bottom: 20px;\r\n  padding: 10px;\r\n}\r\n\r\n/* 自定义标签栏 */\r\n.custom-tabs {\r\n  display: flex;\r\n  justify-content: center; /* 居中显示 */\r\n  gap: 8px;\r\n}\r\n\r\n.tab-item-container {\r\n  position: relative;\r\n}\r\n\r\n.tab-item {\r\n  min-width: 120px;\r\n  height: 40px;\r\n  font-size: 14px;\r\n  color: var(--text-light);\r\n  padding: 0 16px;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  white-space: nowrap;\r\n}\r\n\r\n.tab-item:hover:not(.active) {\r\n  color: var(--primary-purple);\r\n  background-color: var(--primary-purple-light);\r\n}\r\n\r\n.tab-item.active {\r\n  color: white;\r\n  font-weight: 500;\r\n  background: linear-gradient(135deg, rgba(144, 150, 255, 1), rgba(133, 200, 255, 1));\r\n  box-shadow: 0 4px 8px rgba(128, 135, 255, 0.25);\r\n}\r\n\r\n/* 下拉菜单容器 */\r\n.tab-item-dropdown {\r\n  position: relative;\r\n}\r\n\r\n/* 全局下拉菜单样式 */\r\n:global(.dropdown-menu) {\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n  padding: 8px 0;\r\n  z-index: 9999;\r\n  animation: fadeIn 0.2s ease-in-out;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-10px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n:global(.dropdown-item) {\r\n  padding: 10px 16px;\r\n  font-size: 14px;\r\n  color: var(--text-light);\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n  white-space: nowrap;\r\n}\r\n\r\n:global(.dropdown-item:hover:not(.active)) {\r\n  color: var(--primary-purple);\r\n  background-color: var(--primary-purple-light);\r\n}\r\n\r\n:global(.dropdown-item.active) {\r\n  color: var(--primary-purple);\r\n  font-weight: 500;\r\n  background-color: var(--primary-purple-light);\r\n}\r\n\r\n/* 隐藏滚动条（可选） */\r\n.tabs-scroll-container::-webkit-scrollbar {\r\n  height: 6px;\r\n}\r\n.tabs-scroll-container::-webkit-scrollbar-thumb {\r\n  background: #c1c1c1;\r\n  border-radius: 3px;\r\n}\r\n\r\n/* 内容区域样式 */\r\n.read {\r\n  height: 100%;\r\n}\r\n</style>\r\n"],"names":["notificationTypes","notificationProps","buildProps","iconPropType","definePropType","Close","notificationEmits","__default__","defineComponent","_sfc_main","__props","expose","props","ns","zIndex","useGlobalComponentSettings","nextZIndex","currentZIndex","visible","ref","timer","typeClass","computed","type","TypeComponentsMap","iconComponent","horizontalClass","verticalProperty","positionStyle","_a","startTimer","useTimeoutFn","close","clearTimer","onKeydown","code","EVENT_CODE","onMounted","useEventListener","_ctx","_cache","openBlock","createBlock","Transition","unref","$event","withCtx","withDirectives","createElementVNode","normalizeClass","normalizeStyle","ElIcon","resolveDynamicComponent","createCommentVNode","toDisplayString","renderSlot","createElementBlock","Fragment","vShow","withModifiers","NotificationConstructor","_export_sfc","notifications","GAP_SIZE","seed","notify","options","context","isClient","isString","isVNode","position","verticalOffset","vm2","id","userOnClose","appendTo","isElement","container","vm","createVNode","isFunction","isUndefined","render","appContext","orientedNotifications","idx","removedHeight","verticalPos","len","i","el","component","pos","closeAll","ElNotification","withInstallFunction","TABS","SHORT_PLAY_TABS","useNovelStore","defineStore","params","resizeArea","emit","__emit","isResizing","resizeDirection","startX","startY","startWidth","startHeight","startLeft","startTop","initResizeArea","mainPreviewRect","width","height","left","top","watch","nextTick","startResize","event","direction","handleResize","stopResize","deltaX","deltaY","minWidth","minHeight","newWidth","newHeight","newLeft","newTop","leftPercent","rightPercent","topPercent","bottomPercent","handleWindowResize","onUnmounted","innerArea","baseUrl","firstPreview","mainPreview","lastPreview","innerAreaToMainPreviewPercent","reactive","maskAreaPosition","calcMoveDistance","resizeAreaDiv","novelContentDiv","resizeAreaDivHeight","novel_height","moveDistance","error","setAnimation","currentAnimation","pTags","p","index","px2remValue","zoom","styleContainer","animationStyle","animationCSS","lineHeightPx","actualSpeed","min","max","speedRange","speedRatio","animationDuration","animationDelay","debounce","fn","delay","debouncedSetAnimation","setNovelContent","axios","response","newData","item","newVal","scrollStyleWatcher","borderHeight","borderWidth","right","bottom","maskLeft","maskRight","maskTop","maskBottom","switchToPrevious","switchToNext","generateVideo","selectedIndex","localFormData","applyOptions","hasSelectedOptions","updateFormData","handleTextInput","domain","taskSourceEnum","previewVideoName","handleSizeInput","handleStrokeInput","handleColorChange","value","handlePositionInput","applyToAllTitles","sourceDomain","sourceIndex","key","newFormData","addFirstFrameVideoCard","newCard","removeDomain","nameInfo","useTaskInitialization","readFormData","checkedData","currentFirstFrameIndex","currentLastFrameIndex","currentBackgroundIndex","currentTextVideoIndex","groupData","mainSearchBoxText","endSearchBoxText","currentShortPlayStickerIndex","novelStore","renderPreviewFirstFrameUrl","renderPreviewBackgroundUrl","renderPreviewLastFrameUrl","renderPreviewStickerUrl","renderPreviewTextImageUrl","renderPreviewTextVideoUrl","renderPreviewShortPlayUrl","renderPreviewShortPlayStickerUrl","renderPreviewShortPlayLastFrameUrl","renderPreviewFirstFrameId","renderPreviewBackgroundId","renderPreviewLastFrameId","renderPreviewStickerId","renderPreviewTextImageId","renderPreviewTextVideoId","renderPreviewShortPlayId","renderPreviewShortPlayStickerId","renderPreviewShortPlayLastFrameId","renderPreviewBackgroundPosition","renderPreviewBackgroundNeedMask","renderPreviewBackgroundTextFill","taskGenerateParams","totalHistoryMusicList","_b","_c","_d","_e","_f","_g","_h","_i","_j","_k","_l","_m","_n","_o","_p","_q","_r","arrayToRgba","_s","materialsMap","material","_t","_u","_v","_w","_x","_y","generateShortFirmRequest","data","request","useFormSubmit","tagValue","materialDates","isFromMaterialChecked","bus","fontFamilyOptions","componentList","activeTab","loadTextConfig","loadMusicConfig","source","selectedVideoNameInfo","createVideoDisabled","isNovel","loadConfigFn","setLoadConfigFn","validateBackground","rule","callback","rules","isGroupModeActive","formEl","validationErrors","validateAllRequiredFields","ElMessage","valid","fields","musicVolume","mergeTagIds","tags","materialGroup","_","group_name","obj","rgbaToArray","generateSimulatedReadingRequest","resetAll","getGroupSelectedStickers","groupIndex","getGroupSelectedLastFrames","getGroupSelectedTextImages","getGroupSelectedTextVideos","errors","stickers","textImages","lastFrames","textVideos","hasStickersOrTextImages","hasLastFramesOrTextVideos","useMaterialUpload","currentUploadType","currentGroupIndex","createVideoRef","createNovelRef","ruleFormRef","currentStickerIndex","currentTextImageIndex","currentShortPlayIndex","currentShortPlayLastFrameIndex","uploadLoading","isGroupSelection","typeToCategoryMap","TypeToCategory","category","categoryToTypeMap","categoryToType","uploadLimit","tabType","mapping","limit","uploadMaterial","param","groupIdx","initDate","addUploadCheckedList","tabTypeRes","newMaterials","targetConfig","config","currentItem","field","handleSubmitFormRes","uploadType","materialsFormInfo","file","tag","addMaterialsRequest","handleSubmitNovelRes","res","addNovelRequest","propUploadTypeChange","propUploadTypeDisabled","useMaterialSelection","selectDialogVisible","dialogTitle","tagsObject","handleMaterialSelect","selectMaterial","isFromGroup","titleMap","tagsMap","selectGroupMaterial","TypeMap","checkedListParams","transferTagValue","activeTabTypeData","typeData","componentListData","start_date","end_date","_videoFrom","isFromChecked","action","useWatchers","indices","searchTexts","novelName","getFontFamily","formData","getNovelMaterialRequest","fontCSS","style","dialogVisible","val","formRef","formModel","handleClose","handleCancel","handleConfirm","savedConfigs","configId","configToSave","showFontSettings","showScrollSettings","saveMainTextDialogVisible","selectedConfigId","toggleTextConfig","toggleFontSettings","toggleScrollSettings","fontNameFormatter","name","updatedFormData","checkConfigMatch","handleOpenSaveMainTextConfig","handleSaveMainTextConfigConfirm","loadSavedConfigs","configs","lastConfig","handleLoadMainTextConfig","savedConfig","selectedConfig","__expose","configProviderContextKey","defaultNamespace","statePrefix","_bem","namespace","block","blockSuffix","element","modifier","cls","namespaceContextKey","useGetDerivedNamespace","namespaceOverrides","derivedNamespace","getCurrentInstance","inject","useNamespace","args","state","object","styles","isBoolean","isNumber","isPropAbsent","prop","isNil","isStringNumber","ElementPlusError","m","throwError","scope","initial","defaultInitialZIndex","ZINDEX_INJECTION_KEY","zIndexContextKey","useZIndex","zIndexOverrides","increasingInjection","zIndexInjection","initialZIndex","zIndexFromInjection","English","buildTranslator","locale","path","option","translate","get","buildLocaleContext","lang","localeRef","isRef","localeContextKey","useLocale","localeOverrides","epPropKey","isEpProp","isObject","buildProp","values","required","defaultValue","validator","epProp","allowedValues","hasOwn","allowValuesText","warn","fromPairs","componentSizes","useSizeProp","SIZE_INJECTION_KEY","useGlobalSize","injectedSize","emptyValuesContextKey","useEmptyValuesProps","keysOf","arr","entriesOf","getProp","set","globalConfig","useGlobalConfig","sizeFallback","zIndex2","size","provideGlobalConfig","app","global","inSetup","oldConfig","provideFn","provide","cfg","mergeConfig","a","b","keys","UPDATE_MODEL_EVENT","CHANGE_EVENT","INPUT_EVENT","sfc","target","classNameToArray","hasClass","addClass","removeClass","getStyle","styleName","camelize","computed2","addUnit","defaultUnit","isScroll","isVertical","overflow","s","getScrollContainer","parent","scrollBarWidth","getScrollBarWidth","outer","widthNoScroll","inner","widthWithScroll","withInstall","main","extra","comp","withNoopInstall","NOOP","iconProps","__default__$r","_sfc_main$u","color","mergeProps","Icon","arrow_left_vue_vue_type_script_setup_true_lang_default","arrow_left_default","arrow_right_vue_vue_type_script_setup_true_lang_default","arrow_right_default","check_vue_vue_type_script_setup_true_lang_default","check_default","circle_check_vue_vue_type_script_setup_true_lang_default","circle_check_default","circle_close_filled_vue_vue_type_script_setup_true_lang_default","circle_close_filled_default","circle_close_vue_vue_type_script_setup_true_lang_default","circle_close_default","close_vue_vue_type_script_setup_true_lang_default","close_default","delete_vue_vue_type_script_setup_true_lang_default","delete_default","document_vue_vue_type_script_setup_true_lang_default","document_default","full_screen_vue_vue_type_script_setup_true_lang_default","full_screen_default","hide_vue_vue_type_script_setup_true_lang_default","hide_default","info_filled_vue_vue_type_script_setup_true_lang_default","info_filled_default","loading_vue_vue_type_script_setup_true_lang_default","loading_default","plus_vue_vue_type_script_setup_true_lang_default","plus_default","refresh_left_vue_vue_type_script_setup_true_lang_default","refresh_left_default","refresh_right_vue_vue_type_script_setup_true_lang_default","refresh_right_default","scale_to_original_vue_vue_type_script_setup_true_lang_default","scale_to_original_default","search_vue_vue_type_script_setup_true_lang_default","search_default","success_filled_vue_vue_type_script_setup_true_lang_default","success_filled_default","view_vue_vue_type_script_setup_true_lang_default","view_default","warning_filled_vue_vue_type_script_setup_true_lang_default","warning_filled_default","zoom_in_vue_vue_type_script_setup_true_lang_default","zoom_in_default","zoom_out_vue_vue_type_script_setup_true_lang_default","zoom_out_default","CloseComponents","TypeComponents","ValidateComponentsMap","isFirefox","hiddenTextarea","HIDDEN_STYLE","CONTEXT_STYLE","calculateNodeStyling","targetElement","boxSizing","paddingSize","borderSize","calcTextareaHeight","minRows","maxRows","contextStyle","result","singleRowHeight","maxHeight","mutable","ariaProps","useAriaProps","arias","pick","inputProps","inputEmits","evt","DEFAULT_EXCLUDE_KEYS","LISTENER_PREFIX","useAttrs","excludeListeners","excludeKeys","allExcludeKeys","instance","formContextKey","formItemContextKey","defaultIdInjection","ID_INJECTION_KEY","useIdInjection","useId","deterministicId","idInjection","computedEager","useFormItem","form","formItem","useFormItemInputId","formItemContext","disableIdGeneration","disableIdManagement","inputId","idUnwatch","isLabeledByFormItem","toRef","disableIdGeneration2","newId","useProp","useFormSize","fallback","ignore","emptyRef","globalConfig2","useFormDisabled","disabled","useFocusController","beforeFocus","afterFocus","beforeBlur","afterBlur","wrapperRef","shallowRef","isFocused","handleFocus","handleBlur","handleClick","disabled2","isKorean","text","useComposition","afterComposition","isComposing","handleCompositionStart","handleCompositionUpdate","lastCharacter","handleCompositionEnd","useCursor","input","selectionInfo","recordCursor","selectionStart","selectionEnd","beforeTxt","afterTxt","setCursor","startPos","beforeLastChar","newIndex","COMPONENT_NAME$3","__default__$q","_sfc_main$t","rawAttrs","useAttrs$1","attrs","slots","useSlots","containerKls","nsTextarea","nsInput","inputSize","inputDisabled","inputExceed","showClear","showPwdVisible","wrapperKls","elForm","elFormItem","textarea","hovering","passwordVisible","countStyle","textareaCalcStyle","_ref","err","needStatusIcon","validateState","validateIcon","passwordIcon","containerStyle","textareaStyle","nativeInputValue","isWordLimitVisible","textLength","suffixVisible","useResizeObserver","entries","onceInitSizeTextarea","entry","resizeTextarea","autosize","textareaStyle2","resizeTextarea2","isInit","setNativeInputValue","input2","formatterValue","handleInput","handleChange","handlePasswordVisible","focus","blur","handleMouseLeave","handleMouseEnter","handleKeydown","select","clear","Input","ElInput","POPPER_INJECTION_KEY","POPPER_CONTENT_INJECTION_KEY","roleTypes","popperProps","__default__$p","_sfc_main$s","triggerRef","popperInstanceRef","contentRef","referenceRef","role","popperProvides","Popper","__default__$o","_sfc_main$r","arrowRef","arrowStyle","onBeforeUnmount","ElPopperArrow","popperTriggerProps","FORWARD_REF_INJECTION_KEY","useForwardRef","forwardRef","useForwardRefDirective","setForwardRef","FOCUSABLE_ELEMENT_SELECTORS","isVisible","obtainAllFocusableElements$1","isFocusable","NAME","OnlyChild","forwardRefInjection","forwardRefDirective","_a2","defaultSlot","firstLegitNode","findFirstLegitChild","cloneVNode","node","children","child","Comment","Text","wrapTextContent","__default__$n","_sfc_main$q","ariaControls","ariaHaspopup","ariaDescribedby","ariaExpanded","virtualTriggerAriaStopWatch","TRIGGER_ELE_EVENTS","virtualEl","unrefElement","prevEl","eventName","handler","watches","ElPopperTrigger","FOCUS_AFTER_TRAPPED","FOCUS_AFTER_RELEASED","FOCUSOUT_PREVENTED","FOCUS_AFTER_TRAPPED_OPTS","FOCUSOUT_PREVENTED_OPTS","ON_TRAP_FOCUS_EVT","ON_RELEASE_FOCUS_EVT","FOCUS_TRAP_INJECTION_KEY","focusReason","lastUserFocusTimestamp","lastAutomatedFocusTimestamp","focusReasonUserCount","obtainAllFocusableElements","nodes","walker","isHiddenInput","getVisibleElement","elements","isHidden","getEdges","focusable","first","last","isSelectable","tryFocus","shouldSelect","prevFocusedElement","cleanup","removeFromStack","list","copy","createFocusableStack","stack","layer","currentLayer","focusFirstDescendant","focusableStack","isFocusCausedByUserEvent","notifyFocusReasonPointer","notifyFocusReasonKeydown","useFocusReason","createFocusOutPreventedEvent","detail","registeredEscapeHandlers","cachedHandler","registeredHandler","useEscapeKeydown","_sfc_main$p","lastFocusBeforeTrapped","lastFocusAfterTrapped","focusReason2","focusLayer","e","altKey","ctrlKey","metaKey","currentTarget","shiftKey","loop","isTabbing","currentFocusingEl","focusoutPreventedEvent","focusTrapEl","forwardRef2","oldForwardRef","onFocusIn","onFocusOut","trapOnFocus","releaseOnFocus","trapContainer","relatedTarget","isFocusedInTrap","startTrap","focusEvent","focusStartEl","stopTrap","releasedEvent","trapped","_sfc_render$1","$props","$setup","$data","$options","ElFocusTrap","popperArrowProps","POSITIONING_STRATEGIES","popperCoreConfigProps","Ee","popperContentProps","popperContentEmits","usePopperContentFocusTrap","focusStartRef","buildPopperOptions","modifiers","placement","strategy","popperOptions","genModifiers","deriveExtraModifiers","unwrapMeasurableEl","$el","offset","gpuAcceleration","fallbackPlacements","usePopper","referenceElementRef","popperElementRef","opts","stateUpdater","derivedState","deriveState","states","onFirstUpdate","instanceRef","destroy","newOptions","referenceElement","popperElement","yn","attributes","DEFAULT_ARROW_OFFSET","usePopperContent","arrowOffset","eventListenerModifier","arrowModifier","arrowEl","isUndefined$1","update","computedReference","forceUpdate","usePopperContentDOM","contentAttrs","contentZIndex","contentClass","contentStyle","ariaModal","__default__$m","_sfc_main$o","onFocusAfterReleased","onFocusAfterTrapped","onFocusInTrap","onFocusoutPrevented","onReleaseRequested","updateZIndex","triggerTargetAriaStopWatch","updatePopper","shouldUpdateZIndex","togglePopperAlive","triggerTargetEl","prevTriggerTargetEl","ElPopperContent","ElPopper","TOOLTIP_INJECTION_KEY","useTimeout","timeoutHandle","registerTimeout","cancelTimeout","tryOnScopeDispose","useDelayedToggleProps","useDelayedToggle","showAfter","hideAfter","autoClose","open","registerTimeoutForAutoClose","cancelTimeoutForAutoClose","_autoClose","teleportProps","useTooltipContentProps","useTooltipTriggerProps","_prop","_event","createModelToggleComposable","updateEventKey","updateEventKeyRaw","useModelToggleEmits2","useModelToggleProps2","indicator","toggleReason","shouldHideWhenRouteChanges","shouldProceed","onShow","onHide","hasUpdateHandler","isModelBindingAbsent","doShow","doHide","show","shouldEmit","hide","onChange","toggle","useTooltipModelToggleProps","useTooltipModelToggleEmits","useTooltipModelToggle","useTooltipProps","tooltipEmits","isTriggerType","trigger","isArray","whenTrigger","composeEventHandlers","theirsHandler","oursHandler","checkForDefaultPrevented","shouldPrevent","__default__$l","_sfc_main$n","controlled","onOpen","onClose","onToggle","stopWhenControlledOrDisabled","onMouseenter","onMouseleave","onClick","onFocus","onBlur","onContextMenu","ElTooltipTrigger","_sfc_main$m","Teleport$1","Teleport","ElTeleport","usePopperContainerId","selector","createContainer","usePopperContainer","onBeforeMount","__default__$k","_sfc_main$l","popperContentRef","stopHandle","onBeforeShow","onBeforeHide","transitionClass","persistentRef","shouldRender","shouldShow","ariaHidden","onTransitionLeave","isFocusInsideContent","stopWhenControlled","onContentEnter","onContentLeave","onBeforeEnter","onBeforeLeave","onAfterShow","popperContent","activeElement","onClickOutside","ElTooltipContent","__default__$j","_sfc_main$k","popperRef","popperComponent","kls","readonly","onDeactivated","Tooltip","ElTooltip","badgeProps","__default__$i","_sfc_main$j","content","createTextVNode","Badge","ElBadge","buttonGroupContextKey","useDeprecated","from","replacement","version","ref2","condition","useButton","buttonGroupContext","_size","_disabled","_type","autoInsertSpace","_props","shouldAddSpace","slot","buttonTypes","buttonNativeTypes","buttonProps","buttonEmits","darken","amount","useButtonCustomStyle","buttonColor","match","TinyColor","activeBgColor","hoverBgColor","textColor","disabledButtonColor","__default__$h","_sfc_main$i","buttonStyle","buttonKls","Button","buttonGroupProps","__default__$g","_sfc_main$h","ButtonGroup","ElButton","PatchFlags","PatchFlags2","checkboxProps","checkboxEmits","checkboxGroupContextKey","useCheckboxDisabled","model","isChecked","checkboxGroup","isLimitDisabled","useCheckboxEvent","isLimitExceeded","hasOwnLabel","isDisabled","getLabeledValue","emitChangeEvent","checked","onClickRoot","validateEvent","useCheckboxModel","selfModel","isGroup","useCheckboxStatus","actualValue","toRaw","o","isEqual","checkboxButtonSize","checkboxSize","useCheckbox","addToStore","__default__$f","_sfc_main$g","compKls","spanKls","vModelCheckbox","Checkbox","__default__$e","_sfc_main$f","activeStyle","fillValue","labelKls","CheckboxButton","checkboxGroupProps","checkboxGroupEmits","__default__$d","_sfc_main$e","groupId","changeEvent","modelValue","toRefs","CheckboxGroup","ElCheckbox","ElCheckboxGroup","tagProps","tagEmits","__default__$c","_sfc_main$d","tagSize","hit","effect","closable","round","handleVNodeMounted","vnode","Tag","ElTag","isInContainer","elRect","containerRect","messageConfig","useSameTarget","mousedownTarget","mouseupTarget","overlayProps","overlayEmits","BLOCK","Overlay","onMaskClick","onMousedown","onMouseup","h","ElOverlay","dialogInjectionKey","dialogContentProps","dialogContentEmits","useDraggable","targetRef","dragRef","draggable","transform","adjustPosition","moveX","moveY","offsetX","offsetY","targetRect","targetLeft","targetTop","targetWidth","targetHeight","clientWidth","clientHeight","minLeft","minTop","maxLeft","maxTop","downX","downY","onMousemove","e2","onDraggable","updatePosition","offDraggable","resetPosition","watchEffect","composeRefs","refs","__default__$b","_sfc_main$c","t","dialogRef","headerRef","bodyId","focusTrapRef","dialogKls","composedDialogRef","ElDialogContent","dialogProps","dialogEmits","useLockscreen","hiddenCls","scrollBarWidth2","withoutHiddenClass","bodyWidth","bodyHasOverflow","bodyOverflowY","onScopeDispose","useDialog","lastPosition","titleId","closed","rendered","openTimer","closeTimer","style2","varPrefix","overlayDialogStyle","afterEnter","afterLeave","beforeLeave","doOpen","doClose","shouldCancel","onModalClick","onOpenAutoFocus","onCloseAutoFocus","onCloseRequested","__default__$a","_sfc_main$b","dialogContentRef","overlayEvent","createSlots","Dialog","ElDialog","formMetaProps","formProps","formEmits","isValid","message2","useFormLabelWidth","potentialLabelWidthArr","autoLabelWidth","getLabelWidthIndex","registerLabelWidth","oldVal","deregisterLabelWidth","filterFields","normalized","castArray","COMPONENT_NAME$2","__default__$9","_sfc_main$a","formSize","formClasses","labelPosition","inline","getField","addField","removeField","resetFields","properties","clearValidate","props2","isValidatable","obtainValidateFields","filteredFields","validate","validateField","doValidateField","fields2","fields3","modelProps","shouldThrow","invalidFields","scrollToField","Form","formItemValidateStates","formItemProps","COMPONENT_NAME$1","FormLabelWrap","formContext","computedWidth","getLabelWidth","updateLabelWidth","updateLabelWidthFn","onUpdated","isAutoWidth","hasLabel","marginWidth","marginPosition","__default__$8","_sfc_main$9","parentFormItemContext","labelId","inputIds","validateStateDebounced","refDebounced","validateMessage","formItemRef","initialValue","isResettingField","labelStyle","labelWidth","isNested","formItemClasses","isRequired","_inlineMessage","validateClasses","propString","labelFor","fieldValue","normalizedRules","formRules","_rules","requiredRules","validateEnabled","getFilteredRule","trigger2","shouldShowError","currentLabel","setValidationState","onValidationFailed","onValidationSucceeded","doValidate","modelName","Schema","hasCallback","resetField","computedValue","clone","addInputId","removeInputId","listId","TransitionGroup","FormItem","ElForm","ElFormItem","imageViewerProps","imageViewerEmits","deg","__default__$7","_sfc_main$8","modes","markRaw","stopWheelListener","prevOverflow","wrapper","imgRefs","scopeEventListener","effectScope","loading","activeIndex","mode","isSingle","urlList","isFirst","isLast","currentImg","arrowPrevKls","arrowNextKls","imgStyle","scale","enableTransition","translateX","translateY","radian","cosRadian","sinRadian","progress","unregisterEventListener","registerEventListener","keydownHandler","throttle","toggleMode","prev","handleActions","next","mousewheelHandler","delta","handleImgLoad","handleImgError","handleMouseDown","dragHandler","ev","removeMousemove","reset","modeNames","modeValues","currentMode","nextIndex","setActiveItem","minScale","maxScale","zoomRate","rotateDeg","wheelHandler","$img","renderList","url","ImageViewer","ElImageViewer","imageProps","imageEmits","__default__$6","_sfc_main$7","containerAttrs","imgAttrs","imageSrc","hasLoadError","isLoading","showViewer","_scrollContainer","supportLoading","stopScrollListener","imageKls","preview","imageStyle","fit","previewSrcList","imageIndex","initialIndex","previewIndex","isManual","loadImage","handleLoad","handleError","handleLazyLoad","removeLazyLoadListener","lazyLoadHandler","useThrottleFn","addLazyLoadListener","scrollContainer","clickHandler","closeViewer","switchViewer","toolbar","normalizeProps","guardReactiveProps","Image","ElImage","progressProps","percentage","__default__$5","_sfc_main$6","STATUS_COLOR_MAP","barStyle","barStyle2","getCurrentColor","relativeStrokeWidth","radius","trackPath","r","isDashboard","perimeter","rate","strokeDashoffset","trailPathStyle","circlePathStyle","stroke","ret","statusIcon","progressTextSize","getColors","span","seriesColor","colors","color2","Progress","ElProgress","isValidComponentSize","uploadContextKey","SCOPE$1","UploadAjaxError","status","method","getError","xhr","msg","getBody","ajaxUpload","progressEvt","headers","uploadListTypes","fileId","genFileId","uploadBaseProps","uploadProps","uploadListProps","uploadListEmits","__default__$4","_sfc_main$5","nsUpload","nsIcon","nsList","focusing","handleRemove","withKeys","UploadList","uploadDraggerProps","uploadDraggerEmits","COMPONENT_NAME","__default__$3","_sfc_main$4","dragover","onDrop","files","items","onDragover","UploadDragger","uploadContentProps","__default__$2","_sfc_main$3","requests","inputRef","uploadFiles","autoUpload","fileList","multiple","onStart","onExceed","rawFile","upload","doUpload","hookResult","beforeData","originData","beforeUploadPromise","isPlainObject","cloneDeep","resolveData","withCredentials","filename","onProgress","onSuccess","onError","httpRequest","uid","req","UploadContent","SCOPE","revokeFileObjectURL","useHandlers","uploadRef","useVModel","getFile","abort","clearFiles","row","removeFile","uploadFile","handleProgress","handleSuccess","handleStart","doRemove","file2","submit","raw","__default__$1","_sfc_main$2","revokeFileObjectURL2","isPictureCard","uploadContentProps2","Upload","ElUpload","createLoadingComponent","afterLeaveTimer","afterLeaveFlag","setText","destroySelf","loadingNumber","removeElLoadingChild","loadingInstance","handleAfterLeave","elLoadingComponent","svg","spinner","spinnerText","createApp","fullscreenInstance","Loading","resolved","resolveOptions","addStyle","addClassList","maskStyle","property","scroll","INSTANCE_KEY","createInstance","binding","getBindingProp","resolveExpression","getProp2","hyphenate","fullscreen","vLoading","updateOptions","originalOptions","messageTypes","messageDefaults","messageProps","messageEmits","instances","shallowReactive","getInstance","current","getLastOffset","getOffsetOrSpace","_sfc_main$1","isStartTransition","messageRef","stopTimer","badgeType","lastOffset","customStyle","keydown","MessageConstructor","normalizeOptions","closeMessage","createMessage","message","instance2","instancesToClose","FOCUSABLE_CHILDREN","FOCUS_STACK","FOCUS_HANDLER","focusableElement","goingBackward","TrapFocus","btnSize","contentId","hasMessage","rootRef","confirmRef","confirmButtonClasses","getInputElement","handleWrapperClick","handleAction","handleInputEnter","inputPattern","inputValidator","validateResult","inputRefs","_sfc_render","_component_el_icon","resolveComponent","_component_el_input","_component_el_button","_component_el_focus_trap","_component_el_overlay","MessageBoxConstructor","messageInstance","getAppendToElement","initInstance","genContainer","showMessage","currentMsg","resolve","MessageBox","reject","MESSAGE_BOX_VARIANTS","MESSAGE_BOX_DEFAULT_OPTS","boxType","messageBoxFactory","title","titleOrOpts","_MessageBox","ElMessageBox","__defProp","__defNormalProp","__publicField","readFileAsArrayBuffer","reader","parseDocxFile","arrayBuffer","libExports","readFileAsText","parseSRTContent","srtText","blocks","lines","line","textLines","getIdByName","list1","list2","idSet","nameToIdMap","numericItem","rgbaArray","g","defaultImage","_imports_0$1","RequestError","HttpRequest","config2","filterResponse","defaultConfig","http","transformData","level","parentId","transformedNode","childrenResult","addMaterialTag","isShortPlay","progressEvent","percentCompleted","topIds","tagIds","isTagsAnd","finalParams","queryParts","updateNovelRequest","batchUpdate","tagsShare","tag_id","batchRemoveTags","treeTagsList","filterable","deleteNovelRequest","material_id","editBackgroundRequest","_hoisted_1$c","_hoisted_2$b","_hoisted_3$a","_hoisted_4$9","_hoisted_5$9","_hoisted_6$9","_hoisted_7$8","_hoisted_8$7","_hoisted_9$7","_hoisted_10$7","_hoisted_11$5","_hoisted_12$5","_hoisted_13$5","mergeModels","useModel","showPersonalTagInput","showSharedTagInput","newPersonalTagName","newSharedTagName","personalTagInputRef","sharedTagInputRef","createdTagName","sharedTagsList","personalTagsList","addEditableTag","confirmNewTag","tagName","cancelNewTag","newTag","newModelValue","_component_el_checkbox","_component_el_checkbox_group","ComSelectTag","useRefreshTagList","tagOptionsList","personalTags","sharedTags","BASE_URL","typeToCategoryMap2","_hoisted_1$b","_hoisted_2$a","_hoisted_3$9","_hoisted_4$8","_hoisted_5$8","_hoisted_6$8","_hoisted_7$7","_hoisted_8$6","_hoisted_9$6","_hoisted_10$6","otherForm","addNovelFormInfo","uploadCoverRef","fileInput","textContentUpload","defaultImageFile","myQuillEditor","dialogType","refreshList","resetTextContentUpload","loadDefaultImage","blob","refreshTagLists","init","checkedNovelList","fetchedTags","item2","existingTags","fileURL","editorOption","handleSubmit","handleCoverUpload","handleCoverExceed","handleUploadClick","handleFileChange","audioFile","subtitleFile","audioFileObj","subtitleFileObj","removeFiles","onRemove","handleTextFileChange","formatTextWithPTags","handleExceed","beforeCoverUpload","_component_el_form_item","_component_el_upload","_component_el_tooltip","_component_el_form","_component_el_dialog","_directive_loading","titleClass","QuillEditor","createNovel","_hoisted_1$a","_hoisted_2$9","_hoisted_3$8","formDataRes","tagAdd","_hoisted_1$9","_hoisted_2$8","_hoisted_3$7","_hoisted_4$7","_hoisted_5$7","_hoisted_6$7","_hoisted_7$6","_hoisted_8$5","_hoisted_9$5","_hoisted_10$5","_hoisted_11$4","_hoisted_12$4","_hoisted_13$4","_hoisted_14$3","isProcessing","uploadProgress","dialogLoading","limitNum","handleUploadProgress","handleUploadComplete","uploadTypeOptions","allOptions","num","loading2","handleUploadTypeChange","newType","determineType","fileIndex","newValue","deepCopyWithFiles","copiedObj","handleMaterialsUpload","fileItem","handleMaterialsBeforeUpload","getAllowedTypes","typeName","isValid1","isValid2","_component_el_progress","createVideo","_imports_0","_hoisted_1$7","_hoisted_2$6","_hoisted_3$5","_hoisted_4$5","_hoisted_5$5","_hoisted_6$5","_hoisted_7$4","_hoisted_8$4","_hoisted_9$4","_hoisted_10$4","_hoisted_11$3","_hoisted_12$3","_hoisted_13$3","_hoisted_14$2","musicList","checkedNames","emits","debouncedHandleScroll","handlePlay","currentAudio","audio","toggleSelection","newCheckedNames","newCheckedList","isMaxSelected","checkSelectable","scrollTop","scrollHeight","sortedMusicList","aChecked","bChecked","_component_el_tag","createStaticVNode","tagIndex","dayjs","musicLibrary","_hoisted_1$6","resizeArea2","useTemplateRef","innerArea2","_hoisted_1$5","_hoisted_2$5","_hoisted_3$4","_hoisted_4$4","_hoisted_5$4","_hoisted_6$4","_hoisted_7$3","_hoisted_8$3","_hoisted_9$3","_hoisted_10$3","activeTabType","border","handleChangeShare","getTagList","currentPublicTags","newTagsList","initColor","transferColor","computedTextColor","percentages","COLORS","transferRgbaColor","textFill","editInfo","_component_el_image","BackgroundEditContent","_hoisted_1$4","_hoisted_2$4","_hoisted_3$3","_hoisted_4$3","_hoisted_5$3","_hoisted_6$3","_hoisted_7$2","_hoisted_8$2","_hoisted_9$2","_hoisted_10$2","_hoisted_11$2","_hoisted_12$2","_hoisted_13$2","_hoisted_14$1","_hoisted_15$1","_hoisted_16$1","useCssVars","isSelecting","selectionBox","checkboxList","newItem","backgroundEditVisible","backgroundInfo","editBackgroundInfo","backgroundEditForm","editDisabled","maxNum","sortedCheckboxList","handleCheckChange","checkedList","handleScroll","editBackground","transferBackgroundInfo","info","tagRes","newBorder","startSelection","scrollLeft","rect","x","y","updateSelection","currentX","currentY","updateSelectedItems","checkboxes","selectionArea","checkbox","checkboxRect","relativeRect","endSelection","tagIndexs","comMaterialList","_hoisted_1$3","_hoisted_2$3","_hoisted_3$2","_hoisted_4$2","_hoisted_5$2","_hoisted_6$2","_hoisted_7$1","_hoisted_8$1","_hoisted_9$1","_hoisted_10$1","_hoisted_11$1","_hoisted_12$1","_hoisted_13$1","novelList","handleDeleteNovel","done","editNovel","clearMaterialDialogChecked","handleRowClick","novelLibrary","TagTypeEnum","TagTypeEnum2","_hoisted_1$2","_hoisted_2$2","Tips","_hoisted_1$1","_hoisted_2$1","_hoisted_3$1","_hoisted_4$1","_hoisted_5$1","_hoisted_6$1","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","pagesize","libraryRef","novelRef","musicRef","totalCount","hasMore","comLoading","paramsList","checkedIds","currentTags","tempSharedTags","tempPersonalTags","tagsListData","getMaterialList","searchKey","handleTransferCheckedList","selectedItems","tagAddRef","uploadTimeFilter","handleAdd","handleEdit","editList","handleCreateNewTagRes","chineseType","errorMessage","handleBatchDelete","checkedLength","deleteBackgroundGetList","handleTagAdd","handleSubmitTagRes","editBackgroundGetList","handleSearch","isLoadMore","apiParams","resultList","existingIds","newItems","getEditMaterialList","ids","updatedItems","updatedItem","ele","getDeleteMaterialList","currentPage","allData","page","pageParams","handleLoadMore","toEditNovel","pageRequests","clearTagFilter","toggleTagFilter","tagId","handleTimeFilterChange","today","formatDate","getPastDate","days","date","year","month","day","hours","minutes","seconds","shareTag","handleResetLoading","refreshLibrary","libraryType","forceRefreshTags","oldType","resourceList","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","tagsList","startDate","endDate","resourceListRef","showStickersTab","showLastFramesTab","transferCheckedList","currentTabType","currentTitle","switchTab","isStickers","newLibraryType","switchLastFramesTab","isLastFrames","checkedListData","startDateData","endDateData","deduplicateArray","seen","actualType","shuffledList","shuffle","randomItems","handleClearChecked","ComSelectDialog","updateTaskName","updateCount","updateGroupCount","toggleMaterialConfig","openTitleSettings","updateMusicDbValue","updateMusicStartPosition","updateMainSearchBoxText","updateEndSearchBoxText","updatePreVideoDbValue","editingGroupIndex","toggleGroupConfig","editGroupName","newGroupData","inputEl","updateGroupNameInput","saveGroupName","handleSaveGroupConfig","maxLength","sticker_id","template_image_id","template_image_text","post_video_id","template_video_id","template_video_text","saveGroupConfigRequest","handleLoadGroupConfig","getGroupConfigRequest","materials","group","sticker","postVideo","templateImage","templateVideo","updateGroupTextImageText","updateGroupTextVideoText","__unplugin_components_0","__unplugin_components_1","videoFontZoom","firstAndLastVideoZoom","musicDbValue","dB","preVideoDbValue","showTextConfig","showTitleConfig","showMaterialConfig","showGroupConfig","showTopTitleConfig","mainContentRef","formSubmit","savedMusicVolume","handleLoadTitleTextConfig","titleTextInfo","initializeTaskData","handleSelectGroupMaterial","getCheckedListByType","getComponentListByType","getActiveTabByType","handleCloseDialog","transferHandleSubmitFormRes","handleUpdateFormData","musicStartPositionOptions","displayTags","toggleTitleConfig","buildVideoTitles","titles","handleSaveTitleTextConfig","switchMaterial","currentIndex","extraUpdate","maxIndex","groupDataInfo","updatedBackground","bg","relaxFormData","currentUnzipVideoIndex","renderPreviewVideoUrl","renderPreviewVideoId","transformedItem","historyMusicList","unzipVideoTagList","transformedData","validateVideo","_rule","_value","generateRelaxedVideoRequest","currentUploadVideoType","isTopVideo","uploadDisabledConditions","videoFrom","setHtml","getFirstSentenceFromSrt","ensureArraysInitialized","localTitles","hasFirstFrameVideo","addTitleCard","defaultFont","newTitle","handleGenerateVideo","mergeTags","novelDbValue","showVolumeSettings","saveVideoConfigDialogVisible","savedVideoConfigs","selectedVideoConfigId","toggleVolumeSettings","randomizeNovelColors","randomColor","getRandomColorCombination","handleOpenSaveVideoConfig","handleSaveVideoConfigConfirm","loadSavedVideoConfigs","handleLoadVideoConfig","materialSelection","handleMaterialUpload","materialUpload","handleSaveTitleConfig","handleLoadTitleConfig","packQueue","pollingTimer","notifiedCompletedTasks","floatContainer","containerPosition","isDragging","dragStartPos","floatContainerStyle","startDrag","initialPos","handleDrag","stopDrag","gzipParams","fetchPackQueue","getGzipTaskList","previousQueue","prevTask","prevItem","startPolling","stopPolling","downloadPack","downloadUrl","contentType","link","retryPack","postGzipTaskRetry","removePack","postGzipTaskDelete","isPolling","openDrawer","clearAllTasks","postGzipTaskClean","statusMap","videoList","multipleTableRef","multipleSelection","drawer","tableData","selectTaskIdList","remainJumpQuotaRef","nameRef","packCount","packQueueDrawerRef","isAllSelected","drawerVisible","getTaskList","startPackQueuePolling","handleSelectAll","fromInitial","pageNum","pageSize","getHistoryTaskListRequest","statusList","getHistoryTaskPositionFromIds","jumpQuota","getHistoryTaskJumpQuotaRequest","categoryMap","getHistoryTaskPosition","getHistoryTaskJumpQuota","handleSizeChange","handleCurrentChange","copyTask","data2","getDetailVideoList","downloadTaskAllVideo2","task_ids","acc","getHistoryTaskListVideoRequest","viewDetails","taskId","taskList","handleSelectionChange","currentVideo","video","downloadTask","videoListData","postNovelVideoPackTask","topTask","getHistoryTaskListUpgrade","stopTask","StopHistoryTask","addToPack","fetchPackQueueCount","_component_el_table_column","getVideoList","getCategoryName","searchContent","getHistoryVideoListRequest","page2","downloadVideos","postNovelVideoPackVideo","viewMode","taskListRef","videoListRef","hasCheckedVideos","packQueueCount","globalPackQueueDrawerRef","handleBatchDownload","fetchGlobalPackQueueCount","startGlobalPackQueuePolling","openGlobalPackQueue","clearSearch","_component_i_ep_box","router","useRouter","tabsType","newRouteName","showDropdown","dropdownStyle","currentChildren","hideTimer","handleTabClick","handleDropdownEnter","handleDropdownLeave","jumpToHistoryTask"],"mappings":"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EAAsB,QAAQ,CAAC,CAAE,GAAAN,KAAS,CACxCA,EAAG,UAAU,QAAQ,QAAQ,MAAQ,EAC3C,CAAK,CAEL,CACAd,GAAO,SAAW6B,GAClB7B,GAAO,SAAW,KCtGlB,MAAM8B,GAAiBC,GAAoB/B,GAAQ,SAAS,ECD/CgC,GAAO9E,EAAI,CACpB,CACI,MAAO,OACP,MAAO,aACX,EACA,CACI,MAAO,OACP,MAAO,YACX,EACA,CACI,MAAO,OACP,MAAO,aACX,EACA,CACI,MAAO,MACP,MAAO,OACX,EACA,CACI,MAAO,MACP,MAAO,iBACP,SAAU,CACN,CACI,MAAO,QACP,MAAO,OACX,EACA,CACI,MAAO,MACP,MAAO,aACX,EACA,CACI,MAAO,MACP,MAAO,YACX,EACA,CACI,MAAO,SACP,MAAO,WAAA,CACX,CAER,EACA,CACI,MAAO,MACP,MAAO,iBACP,SAAU,CACN,CACI,MAAO,OACP,MAAO,YACX,EACA,CACI,MAAO,MACP,MAAO,UACX,EACA,CACI,MAAO,SACP,MAAO,WAAA,CACX,CAER,EACA,CACI,MAAO,MACP,MAAO,OAAA,CAEf,CAAC,EAGwBA,EAAI,CACzB,CACI,MAAO,OACP,MAAO,aACX,EACA,CACI,MAAO,OACP,MAAO,YACX,EACA,CACI,MAAO,OACP,MAAO,aACX,EACA,CACI,MAAO,QACP,MAAO,OACX,EACA,CACI,MAAO,OACP,MAAO,YACX,EACA,CACI,MAAO,MACP,MAAO,OACX,EACA,CACI,MAAO,MACP,MAAO,aACX,EACA,CACI,MAAO,MACP,MAAO,YACX,EACA,CACI,MAAO,MACP,MAAO,UACX,EACA,CACI,MAAO,MACP,MAAO,OACX,EACA,CACI,MAAO,SACP,MAAO,WACX,EACA,CACI,MAAO,SACP,MAAO,WAAA,CAEf,CAAC,ECjHM,MAAM+E,GAAkB/E,EAAI,CACjC,CACE,MAAO,OACP,MAAO,aACT,EACA,CACE,MAAO,OACP,MAAO,qBACT,EACA,CACE,MAAO,MACP,MAAO,qBACT,EACA,CACE,MAAO,MACP,MAAO,mBAAA,CAEX,CAAC,EClBYgF,GAAgBC,GAAY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ACD,EACGj7D,GAAA,GAAG,sBAAuB,IAAM,CACfi7D,GAAA,CAAA,CACpB,CAAA,CACF,EAED,MAAMj6D,GAAoBzR,EAAS,IAAMsrE,GAAW,kBAAkB,KAAK,EACrE/3D,EAAoB1T,EAAI,EAAE,EAE1B,CACJ,2BAAAmN,GACA,2BAAAC,EACA,0BAAAC,EACA,wBAAAC,GACA,0BAAAC,GACA,0BAAAC,EACA,0BAAAC,EACA,iCAAAC,EACA,mCAAAC,GACA,mBAAAk+D,GACA,gCAAAx9D,GACA,gCAAAC,GACA,gCAAAC,GACA,0BAAAX,GACA,0BAAAC,EACA,yBAAAC,GACA,uBAAAC,GACA,yBAAAC,GACA,yBAAAC,GACA,yBAAAC,GACA,gCAAAC,GACA,kCAAAC,CAAA,EACE7B,GACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACF,EAGM,CACJ,oBAAAoJ,EACA,YAAAC,GACA,QAAA3B,GACA,WAAA4B,GACA,iBAAAnC,GACA,kBAAAT,GACA,eAAA8C,GACA,0BAAAq1D,GACA,qBAAAC,GACA,uBAAAC,GACA,mBAAAC,GACA,oBAAA5E,GACA,kBAAA6E,EAAA,EACE91D,GACF5J,EACAC,EACAgE,EACAC,EACAI,EACAC,EACAJ,EACAxD,GACAS,GACAR,EACAS,EACAR,EACAS,GACAR,GACAS,GACAR,GACAS,GACAR,EACAS,GACAR,EACAS,GACAR,EACAS,GACAR,GACAS,EACA1B,EACAE,EACAD,EACAoH,EACAC,EACAnH,EACAI,EACAoB,GACAC,GACAC,GACAqD,GACA9E,EACAgH,CACF,EAEMq4D,GAA+B77D,IAAS,CACxBmF,GAAAnF,GAAOmmD,IAAQ,SAClB/1D,GAAAkT,EAAA,QAAA,MAAAlT,GAAO,qBAAqB+1D,GAAG,CAC/C,CACH,EAGM,CACJ,cAAAtiD,GACA,eAAAW,GACA,oBAAAW,GACA,qBAAAM,GACA,uBAAAI,GACA,qBAAAD,EAAA,EACEzC,GACFjH,EACAC,EACAgE,EACAC,EACA5D,EACA6D,EACA+C,EACAC,GACA/B,GACAgC,EACAC,EACA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","x_google_ignoreList":[0,1,2,3,21,22]}