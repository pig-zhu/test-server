{"version":3,"file":"index-DfsdBCyG.js","sources":["../../src/pages/TaskStatistics/constant.js","../../src/pages/TaskStatistics/TableData.vue","../../src/pages/TaskStatistics/newStyle.vue","../../src/pages/TaskStatistics/CategoryTypeCard.vue","../../src/pages/TaskStatistics/oldStyle.vue","../../src/pages/TaskStatistics/index.vue"],"sourcesContent":["export const tabs = [\r\n  {\r\n    id: 1,\r\n    name: '整体数据'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '个人数据'\r\n  }\r\n]\r\nexport const categoryList = [\r\n  {\r\n    id: 1,\r\n    name: '智能编导（脚本）',\r\n\ticon: \"📝\",\r\n\tdescription: \"AI智能脚本创作工具\",\r\n    dataType: {\r\n      // 1-整体数据  2-个人数据\r\n      1: [\r\n        {\r\n          type: 1,\r\n          name: '使用人数'\r\n        },\r\n        {\r\n          type: 2,\r\n          name: '生成脚本总数'\r\n        }\r\n      ],\r\n      2: [\r\n        {\r\n          name: '智能编导-创建任务数',\r\n          prop: 'znbd_creat_count'\r\n        },\r\n        {\r\n          prop: 'znbd_made_count',\r\n          name: '智能编导-生成条数'\r\n        },\r\n        {\r\n          prop: 'znbd_copy_count',\r\n          name: '智能编导-复制数'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '图片处理',\r\n\ticon: \"🖼️\",\r\n\tdescription: \"图片快速修复处理\",\r\n    dataType: {\r\n      1: [\r\n        {\r\n          type: 1,\r\n          name: '使用人数'\r\n        },\r\n        {\r\n          type: 2,\r\n          name: '批量抠图总数'\r\n        },\r\n        {\r\n          type: 3,\r\n          name: '修改尺寸总数'\r\n        }\r\n        // {\r\n        // \ttype:4,\r\n        // \tname: '批量命名总数'\r\n        // }\r\n      ],\r\n      2: [\r\n        {\r\n          prop: 'tpcl_coutu_count',\r\n          name: '批量抠图总数'\r\n        },\r\n        {\r\n          prop: 'tpcl_size_count',\r\n          name: '修改尺寸总数'\r\n        }\r\n        // {\r\n        // \ttype: 3,\r\n        // \tname: '批量命名总数'\r\n        // }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '语音合成',\r\n\ticon: \"🎤\",\r\n\tdescription: \"智能语音合成与复刻\",\r\n    dataType: {\r\n      1: [\r\n        {\r\n          type: 1,\r\n          name: '使用人数'\r\n        },\r\n        {\r\n          type: 2,\r\n          name: '合成总条数'\r\n        },\r\n        {\r\n          type: 3,\r\n          name: '复刻总条数'\r\n        }\r\n      ],\r\n      2: [\r\n        {\r\n          prop: 'yyhc_count',\r\n          name: '语音合成-总条数'\r\n        },\r\n        // {\r\n        //   prop: 'yyhc_word_count',\r\n        //   name: '语音合成-总字数'\r\n        // },\r\n        {\r\n          prop: 'yyhc_task_count',\r\n          name: '语音复刻任务总条数'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    id: 4,\r\n    name: '小说快剪',\r\n\tdescription: \"小说视频快速制作\",\r\n\ticon: \"📚\",\r\n    dataType: {\r\n      1: [\r\n        {\r\n          type: 1,\r\n          name: '使用人数'\r\n        },\r\n        {\r\n          type: 2,\r\n          name: '模拟阅读生成总条数'\r\n        },\r\n        {\r\n          type: 3,\r\n          name: '解压视频生成总条数'\r\n        }\r\n      ],\r\n      2: [\r\n        {\r\n          prop: 'xssp_read_count',\r\n          name: '模拟阅读生成总条数'\r\n        },\r\n        {\r\n          prop: 'xssp_video_count',\r\n          name: '解压视频生成总条数'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    id: 5,\r\n    name: '视频处理',\r\n\ticon: \"⚡\",\r\n\tdescription: \"视频快速编辑处理\",\r\n    dataType: {\r\n      1: [\r\n        {\r\n          type: 1,\r\n          name: '处理视频总数'\r\n        }\r\n      ],\r\n      2: [\r\n        {\r\n          prop: 'spcl_count',\r\n          name: '处理视频总数'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    id: 6,\r\n    name: '图文智绘',\r\n\ticon: \"🎨\",\r\n\tdescription: \"AI图文智能生成\",\r\n    dataType: {\r\n      1: [\r\n        {\r\n          type: 1,\r\n          name: '使用人数'\r\n        },\r\n        {\r\n          type: 2,\r\n          name: '下载图片总数'\r\n        },\r\n        {\r\n          type: 3,\r\n          name: 'AI底图加模板任务总条数'\r\n        },\r\n        {\r\n          type: 4,\r\n          name: '纯AI图任务任务总条数'\r\n        },\r\n        {\r\n          type: 5,\r\n          name: '自定义底图任务总条数'\r\n        },\r\n\t\t{\r\n\t\t\ttype: 6,\r\n\t\t\tname: '搜索底图任务总条数'\r\n\t\t}\r\n      ],\r\n      2: [\r\n        {\r\n          prop: 'twzh_download_count',\r\n          name: '下载图片总数'\r\n        },\r\n        {\r\n          prop: 'twzh_aiTemplate_count',\r\n          name: 'AI底图加模板任务总条数'\r\n        },\r\n        {\r\n          prop: 'twzh_ai_count',\r\n          name: '纯AI图任务任务总条数'\r\n        },\r\n        {\r\n          prop: 'twzh_custom_count',\r\n          name: '自定义底图任务总条数'\r\n        },\r\n\t\t{\r\n          prop: 'twzh_search_count',\r\n          name: '搜索底图任务总条数'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    id: 7,\r\n    name: '短剧快剪',\r\n\ticon: \"🎬\",\r\n\tdescription: \"短剧视频快速制作\",\r\n    dataType: {\r\n      1: [\r\n        {\r\n          type: 1,\r\n          name: '使用人数'\r\n        },\r\n\t\t{\r\n          type: 2,\r\n          name: '生产总条数'\r\n        }\r\n      ],\r\n      2: [\r\n        {\r\n          prop: 'djkj_create_count',\r\n          name: '生产总条数'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    id: 8,\r\n    name: '智能混剪',\r\n\ticon: \"🎞️\",\r\n\tdescription: \"AI智能视频混剪\",\r\n    dataType: {\r\n      1: [\r\n        {\r\n          type: 1,\r\n          name: '使用人数'\r\n        },\r\n\t\t{\r\n          type: 2,\r\n          name: '生产总条数'\r\n        }\r\n      ],\r\n      2: [\r\n        {\r\n          prop: 'znhj_create_count',\r\n          name: '生产总条数'\r\n        }\r\n      ]\r\n    }\r\n  }\r\n]\r\n\r\nexport const defalutPagination = {\r\n  page: 1,\r\n  pagesize: 15\r\n}","<template>\r\n  <el-card>\r\n    <div class=\"mb-[10px] text-[18px] font-[600] text-[#2c3e50]\">{{ name }} - 用户数据</div>\r\n    <template v-if=\"tableData && tableData.length\">\r\n      <el-table\r\n        :data=\"tableData\"\r\n        style=\"width: 100%; min-height: 300px\"\r\n        max-height=\"600px\"\r\n        @sort-change=\"handleSortChange\"\r\n      >\r\n        <el-table-column\r\n          v-for=\"item in tableColumn\"\r\n          :key=\"item.event_name\"\r\n          :prop=\"item.event_name\"\r\n          :label=\"item.event_show_name\"\r\n          :sort-orders=\"['descending', 'ascending', null]\"\r\n          :sortable=\"item.event_name === 'user_name' ? false : 'custom'\"\r\n        >\r\n          <template #default=\"scope\">\r\n            <span v-if=\"item.event_unit === '秒'\" class=\"overview-stat-value\">{{ formatSecondsToChar(scope.row[item.event_name] || 0) }}</span>\r\n            <span :class=\"{'overview-stat-value': item.event_name !== 'user_name'}\" v-else>{{ scope.row[item.event_name] || 0 }}</span>\r\n          </template></el-table-column\r\n        >\r\n      </el-table>\r\n      <el-pagination\r\n        class=\"mt-3 justify-end\"\r\n        v-model:page-size=\"pagination.pagesize\"\r\n        v-model:current-page=\"pagination.page\"\r\n        :page-sizes=\"[15, 50, 100, 150]\"\r\n        background\r\n        layout=\"sizes, prev, pager, next\"\r\n        :total=\"data.count\"\r\n      />\r\n    </template>\r\n    <el-empty v-else description=\"暂无数据\" />\r\n  </el-card>\r\n</template>\r\n<script setup>\r\nimport { watch, ref, reactive } from 'vue'\r\nimport { defalutPagination } from './constant'\r\nimport { formatSecondsToChar } from '@utils/utils'\r\nconst props = defineProps({\r\n  data: {\r\n    type: Object,\r\n    required: true\r\n  },\r\n  name: {\r\n    type: String,\r\n    required: true\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['refresh'])\r\nconst tableData = ref([])\r\nconst tableColumn = ref([])\r\nconst pagination = reactive({ ...defalutPagination })\r\n\r\nif (props.data && props.data.columns) {\r\n  tableColumn.value = props.data.columns\r\n}\r\n\r\nconst handleSortChange = (value) => {\r\n  console.log(value.prop)\r\n  let order_method = 'desc'\r\n  let order_event = value.prop\r\n  if (value.order === 'ascending') {\r\n    order_method = 'asc'\r\n  } else if (value.order === 'descending') {\r\n    order_method = 'desc'\r\n  } else {\r\n    order_method = ''\r\n    order_event = ''\r\n  }\r\n\r\n  let params = {\r\n    order_method,\r\n    order_event\r\n  }\r\n  pagination.page = 1\r\n\r\n  emit('refresh', {\r\n    ...params,\r\n    ...pagination\r\n  })\r\n}\r\n\r\nwatch(\r\n  () => props.data,\r\n  (val) => {\r\n    tableData.value = []\r\n    if (val && val.columns) {\r\n      tableColumn.value = val.columns\r\n    }\r\n    tableData.value = val.data.map((el) => {\r\n      const obj = {}\r\n      el.forEach((e) => {\r\n        obj[e.event_name] = e.data\r\n      })\r\n      return obj\r\n    })\r\n  }\r\n)\r\n\r\nwatch(pagination, (val) => {\r\n  emit('refresh', val)\r\n})\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.overview-stat-value {\r\n  color: var(--product-color);\r\n  font-weight: 600;\r\n}</style>\r\n","<template>\r\n  <el-card>\r\n    <template #default>\r\n      <div class=\"product-tabs\">\r\n        <div\r\n          v-for=\"(item, index) in productLict\"\r\n          :key=\"item.group_name\"\r\n          :class=\"[\r\n            'product-tab',\r\n            'cursor-pointer',\r\n            'text-center',\r\n            `product-${index + 1}`,\r\n            { active: item.group_name === activeTab }\r\n          ]\"\r\n          @click=\"switchProduct(item.group_name)\"\r\n        >\r\n          <span class=\"product-tab-icon mb-[8px] text-[24px]\">{{ item.icon || '⚡' }}</span>\r\n          <div class=\"product-tab-name font-semibold\">{{ item.group_show_name }}</div>\r\n        </div>\r\n      </div>\r\n      <el-divider border-style=\"dashed\" />\r\n      <div class=\"flex gap-[20px] text-[14px] items-center\">\r\n        <span>其他选项:</span>\r\n        <div class=\"flex gap-[12px] items-center\">\r\n          <span>用户:</span>\r\n          <el-select\r\n            v-model=\"searchForm.user\"\r\n            placeholder=\"请选择用户\"\r\n            class=\"w-[200px]\"\r\n            clearable\r\n            filterable\r\n          >\r\n            <el-option\r\n              v-for=\"item in userList\"\r\n              :key=\"item.open_id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.open_id\"\r\n            />\r\n          </el-select>\r\n        </div>\r\n        <div class=\"flex gap-[12px] items-center\">\r\n          <span>时间范围:</span>\r\n          <el-date-picker\r\n            v-model=\"searchForm.date\"\r\n            type=\"daterange\"\r\n            unlink-panels\r\n            start-placeholder=\"开始日期\"\r\n            end-placeholder=\"截止日期\"\r\n            :shortcuts=\"shortcuts\"\r\n            value-format=\"YYYY-MM-DD\"\r\n            :clearable=\"false\"\r\n            :disabledDate=\"disabledDate\"\r\n          />\r\n        </div>\r\n        <el-button type=\"primary\" class=\"ml-auto\" @click=\"refresh\">刷新</el-button>\r\n      </div>\r\n    </template>\r\n  </el-card>\r\n  <template v-if=\"currentData\">\r\n    <el-card v-if=\"categoryData\" v-loading=\"allLoading\" :class=\"['mt-3', 'product-overview', `product-${currentData.id}`]\">\r\n      <template #default>\r\n        <div class=\"flex items-center mb-[20px]\">\r\n          <div\r\n            class=\"overview-icon size-[48px] rounded-[12px] flex items-center justify-center text-[24px] mr-[16px]\"\r\n          >\r\n            {{ currentData.icon || '⚡' }}\r\n          </div>\r\n          <div class=\"overview-info\">\r\n            <h2 class=\"text-[20px] mb-[4px] text-[#2c3e50]\">{{ currentData.group_show_name }}</h2>\r\n            <p class=\"text-[#7f8c8d]\">{{ currentData.description }}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"overview-stats\">\r\n          <div\r\n            v-for=\"item in categoryData.data\"\r\n            :key=\"item.type\"\r\n            class=\"overview-stat text-center rounded-[12px] bg-[#f8f9fa] p-[16px]\"\r\n          >\r\n            <div class=\"overview-stat-value text-[24px] mb-[4px]\">\r\n\t\t\t  <span v-if=\"item.event_unit === '秒'\">{{ formatSecondsToChar(item.count) }}</span>\r\n\t\t\t  <span v-else>{{ formatNumberWithCommas(item.count) }}</span>\r\n            </div>\r\n            <div class=\"overview-stat-label text-[12px] text-[#7f8c8d] font-[500]\">\r\n              {{ item.event_show_name }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </el-card>\r\n    <TableData\r\n      :data=\"personnalData\"\r\n\t  :name=\"currentData.group_show_name\"\r\n      @refresh=\"getPersonData\"\r\n      :class=\"[`product-${currentData.id}`, 'mt-3']\"\r\n\t  v-loading=\"personLoading\"\r\n    />\r\n  </template>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, reactive, watch, ref } from 'vue'\r\nimport { categoryList, defalutPagination } from './constant.js'\r\nimport TableData from './TableData.vue'\r\nimport {\r\n  getWholeDataNew as getWholeData,\r\n  getPersonalDataNew as getPersonalData,\r\n  getAllPersonal,\r\n  getProduct\r\n} from '@service/task.js'\r\nimport dayjs from 'dayjs'\r\nimport { ElMessage } from 'element-plus'\r\n// import { useUserInfoStore } from '@store/userInfo'\r\nimport { formatNumberWithCommas, formatSecondsToChar } from '@utils/utils'\r\n\r\nconst activeTab = ref()\r\nconst productLict = ref([])\r\nconst currentData = computed(() => {\r\n  return productLict.value.find((el) => el.group_name === activeTab.value)\r\n})\r\n\r\n// 数据区\r\n// const userInfoStore = useUserInfoStore()\r\nconst today = dayjs(new Date()).format('YYYY-MM-DD')\r\nconst searchForm = reactive({\r\n  category: [],\r\n  user: '',\r\n  date: [today, today]\r\n})\r\nconst userList = ref([])\r\nconst shortcuts = [\r\n  {\r\n    text: '今天',\r\n    value: () => {\r\n      const end = new Date()\r\n      const start = new Date()\r\n      return [start, end]\r\n    }\r\n  },\r\n  {\r\n    text: '上周',\r\n    value: () => {\r\n      const end = new Date()\r\n      const start = new Date()\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n      return [start, end]\r\n    }\r\n  },\r\n  {\r\n    text: '上月',\r\n    value: () => {\r\n      const end = new Date()\r\n      const start = new Date()\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n      return [start, end]\r\n    }\r\n  }\r\n]\r\nconst categoryData = ref(null)\r\nconst personnalData = ref([])\r\nconst allLoading = ref(false)\r\nconst personLoading = ref(false)\r\n\r\nconst switchProduct = (id) => {\r\n\tif (allLoading.value || personLoading.value) {\r\n\t\tElMessage.warning('请勿频繁操作！')\r\n\t\treturn\r\n\t}\r\n  activeTab.value = id\r\n}\r\nconst disabledDate = (time) => {\r\n  return time.getTime() > Date.now()\r\n}\r\nconst refresh = (val) => {\r\n    getAllData()\r\n    getPersonData(val)\r\n}\r\n\r\n// 获取整体数据\r\nconst getAllData = () => {\r\n  allLoading.value = true\r\n  getWholeData({\r\n    start_date: searchForm.date[0] || today,\r\n    end_date: searchForm.date[1] || today,\r\n    group_list: activeTab.value\r\n  })\r\n    .then((res) => {\r\n      if (res.code === 0) {\r\n        console.log(res.data.list, 'res')\r\n        const data = res.data.list || []\r\n        categoryData.value = data[0] || {}\r\n      } else {\r\n        ElMessage.error(res.message || '获取数据失败')\r\n      }\r\n    })\r\n    .finally(() => {\r\n      allLoading.value = false\r\n    })\r\n}\r\nconst getPersonData = (pager = defalutPagination) => {\r\n  personLoading.value = true\r\n  getPersonalData({\r\n    start_date: searchForm.date[0] || today,\r\n    end_date: searchForm.date[1] || today,\r\n    group_list: activeTab.value,\r\n    open_id: searchForm.user,\r\n    ...pager\r\n  })\r\n    .then((res) => {\r\n      if (res.code === 0) {\r\n        const data = res.data || {}\r\n\t\tconsole.log(data, '个人数据')\r\n        personnalData.value = data\r\n      } else {\r\n        ElMessage.error(res.message || '获取数据失败')\r\n      }\r\n    })\r\n    .finally(() => {\r\n      personLoading.value = false\r\n    })\r\n}\r\nconst getAllPersonData = () => {\r\n  getAllPersonal({}).then((res) => {\r\n    if (res.code === 0) {\r\n      const data = res.data.list || []\r\n      userList.value = data\r\n    } else {\r\n      ElMessage.error(res.message || '获取人员数据失败')\r\n    }\r\n  })\r\n}\r\ngetProduct().then((res) => {\r\n  if (res.code === 0) {\r\n    const data = res.data.list || []\r\n    data.forEach((el, index) => {\r\n      const item = categoryList.find((x) => x.name === el.group_show_name)\r\n      el.id = index + 1\r\n      if (item) {\r\n        el.description = item.description\r\n        el.icon = item.icon\r\n      }\r\n    })\r\n    console.log(data, 111)\r\n\tif (data.length) {\r\n\t\tactiveTab.value = data[0].group_name\r\n\t}\r\n    productLict.value = data\r\n  } else {\r\n    ElMessage.error(res.message || '获取分组数据失败')\r\n  }\r\n})\r\ngetAllPersonData()\r\n// 生命周期区\r\nwatch(\r\n  () => searchForm.date,\r\n  () => {\r\n      getAllData()\r\n      getPersonData()\r\n  }\r\n)\r\n\r\nwatch(\r\n  () => searchForm.user,\r\n  () => {\r\n    getAllData()\r\n    getPersonData()\r\n  }\r\n)\r\n\r\nwatch(activeTab, () => {\r\n\t// searchForm.user = userInfoStore?.userInfo?.open_id || ''\r\n    getAllData()\r\n    getPersonData()\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use 'sass:list';\r\n$colorArr: (\r\n  #5470c6,\r\n  #91cc75,\r\n  #fac858,\r\n  #ee6666,\r\n  #73c0de,\r\n  #3ba272,\r\n  #fc8452,\r\n  #9a60b4,\r\n  #ea7ccc,\r\n  #fd79a8,\r\n  #e17055,\r\n  #a29bfe,\r\n  #55a3ff,\r\n  #fdcb6e,\r\n  #00b894\r\n);\r\n\r\n@each $colorItem in $colorArr {\r\n  $index: list.index($colorArr, $colorItem);\r\n  .product-#{$index} {\r\n    --product-color: #{$colorItem};\r\n  }\r\n}\r\n.product-tabs {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\r\n  gap: 12px;\r\n}\r\n.product-tab {\r\n  padding: 16px 20px;\r\n  border-radius: 12px;\r\n  transition: all 0.3s ease;\r\n  border: 2px solid transparent;\r\n  background: #f8f9fa;\r\n  position: relative;\r\n  overflow: hidden;\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\r\n  }\r\n  &.active {\r\n    background: var(--product-color);\r\n    color: white;\r\n    border-color: var(--product-color);\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\r\n  }\r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: -100%;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);\r\n    transition: left 0.5s;\r\n  }\r\n  &:hover::before {\r\n    left: 100%;\r\n  }\r\n}\r\n.product-overview {\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);\r\n  border-left: 4px solid var(--product-color);\r\n}\r\n\r\n.overview-icon {\r\n  background: var(--product-color);\r\n}\r\n\r\n.overview-stats {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n  gap: 16px;\r\n}\r\n\r\n.overview-stat-value {\r\n  color: var(--product-color);\r\n  font-weight: 600;\r\n}\r\n\r\n:deep(.el-checkbox) {\r\n  margin-right: 12px;\r\n  .el-checkbox__input {\r\n    display: none;\r\n  }\r\n  .el-checkbox__label {\r\n    padding-left: 4px;\r\n  }\r\n}\r\n.el-card {\r\n  border-radius: 16px;\r\n}\r\n</style>\r\n","<template>\r\n  <template v-if=\"props.categoryTypeList && props.categoryTypeList.length\">\r\n    <div class=\"categoryTypeCard\">\r\n      <el-card\r\n        class=\"item-card cursor-pointer\"\r\n        v-for=\"(item, index) in props.categoryTypeList\"\r\n        :key=\"item.id\"\r\n      >\r\n        <div class=\"card-box flex gap-[10px]\">\r\n          <div class=\"icon\">\r\n            <div\r\n              class=\"icon-text\"\r\n              :style=\"{ backgroundColor: colors[index % props.categoryTypeList.length] }\"\r\n            >\r\n              {{ item.name.slice(0, 2) }}\r\n            </div>\r\n          </div>\r\n          <div class=\"content flex-auto overflow-hidden\">\r\n            <div class=\"text-[16px] font-semibold truncate mt-[7px]\">{{ item.name }}</div>\r\n            <div class=\"category-row text-gray-500 mt-[10px]\">\r\n              <div class=\"content-item mt-1 text-[14px]\" v-for=\"(e, i) in item.dataType[1]\" :key=\"e.id\">\r\n                <div>{{ e.name }}</div>\r\n                <div class=\"text-[24px] text-black break-all\" v-if=\"props.data && props.data[item.id]\">\r\n                  {{ formatNumberWithCommas(props.data[item.id][`data${i+1}`] || 0) }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n  </template>\r\n\r\n  <el-empty v-else description=\"暂无数据\" />\r\n</template>\r\n<script setup>\r\nimport { formatNumberWithCommas } from '@utils/utils'\r\n\r\nconst colors = [\r\n  '#5470c6',\r\n  '#91cc75',\r\n  '#fac858',\r\n  '#ee6666',\r\n  '#73c0de',\r\n  '#3ba272',\r\n  '#fc8452',\r\n  '#9a60b4',\r\n  '#ea7ccc'\r\n]\r\nconst props = defineProps({\r\n  categoryTypeList: {\r\n    type: Array,\r\n    required: true\r\n  },\r\n  data: {\r\n    required: true\r\n  }\r\n})\r\n\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.categoryTypeCard {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(500px, 1fr));\r\n  gap: 16px;\r\n  padding: 10px 0;\r\n  .item-card:hover {\r\n    border-color: transparent;\r\n    box-shadow: 0 0px 3px 3px rgba(0, 0, 0, 0.09), -1px 0px 6px 6px rgba(0, 0, 0, 0.09),\r\n      5px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  }\r\n  .card-box {\r\n    width: 100%;\r\n    min-height: 200px;\r\n  }\r\n  .icon-text {\r\n    width: 35px;\r\n    height: 35px;\r\n    border-radius: 50%;\r\n    font-size: 14px;\r\n    text-align: center;\r\n    line-height: 35px;\r\n    overflow: hidden;\r\n    color: #fff;\r\n    user-select: none;\r\n  }\r\n  .category-row {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n    gap: 16px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n    <el-tabs v-model=\"activeTab\" v-loading=\"loading\" @tab-click=\"handleTabClick\">\r\n      <el-tab-pane v-for=\"item in tabs\" :key=\"item.id\" :label=\"item.name\" :name=\"item.id\">\r\n        <el-card class=\"mt-3 ml-2 mr-2\">\r\n          <template #default>\r\n            <div class=\"flex gap-[20px] text-[14px] items-center\">\r\n              <span>所属类目:</span>\r\n              <div class=\"flex gap-[12px]\">\r\n                <!-- <el-checkbox\r\n                  v-model=\"selectAllCategory\"\r\n                  size=\"small\"\r\n                  label=\"全部\"\r\n                  border\r\n                  @click=\"handleSelectAllCategory\"\r\n                /> -->\r\n                <el-checkbox-group v-model=\"searchForm.category\">\r\n                  <el-checkbox\r\n                    v-for=\"categoryItem in categoryList\"\r\n                    size=\"small\"\r\n                    :key=\"categoryItem.id\"\r\n                    :value=\"categoryItem.id\"\r\n                    :label=\"categoryItem.name\"\r\n                    border\r\n                  />\r\n                </el-checkbox-group>\r\n              </div>\r\n            </div>\r\n            <el-divider border-style=\"dashed\" />\r\n            <div class=\"flex gap-[20px] text-[14px] items-center\">\r\n              <span>其他选项:</span>\r\n              <div class=\"flex gap-[12px] items-center\" v-if=\"activeTab === 2\">\r\n                <span>用户:</span>\r\n                <el-select\r\n                  v-model=\"searchForm.user\"\r\n                  placeholder=\"请选择用户\"\r\n                  class=\"w-[200px]\"\r\n                  clearable\r\n\t\t\t\t  filterable\r\n                >\r\n                  <el-option\r\n                    v-for=\"item in userList\"\r\n                    :key=\"item.open_id\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item.open_id\"\r\n                  />\r\n                </el-select>\r\n              </div>\r\n              <div class=\"flex gap-[12px] items-center\">\r\n                <span>时间范围:</span>\r\n                <el-date-picker\r\n                  v-model=\"searchForm.date\"\r\n                  type=\"daterange\"\r\n                  unlink-panels\r\n                  start-placeholder=\"开始日期\"\r\n                  end-placeholder=\"截止日期\"\r\n                  :shortcuts=\"shortcuts\"\r\n                  value-format=\"YYYY-MM-DD\"\r\n                  :clearable=\"false\"\r\n                  :disabledDate=\"disabledDate\"\r\n                />\r\n              </div>\r\n              <el-button type=\"primary\" class=\"ml-auto\" @click=\"refresh\">刷新</el-button>\r\n            </div>\r\n          </template>\r\n        </el-card>\r\n        <template v-if=\"item.id === 1\">\r\n          <CategoryTypeCard\r\n            :categoryTypeList=\"categoryTypeList\"\r\n            :data=\"categoryData\"\r\n            class=\"mt-3 ml-2 mr-2\"\r\n          />\r\n        </template>\r\n        <template v-if=\"item.id === 2\">\r\n          <TableData\r\n            :categoryTypeList=\"categoryTypeList\"\r\n            :data=\"personnalData\"\r\n            :count=\"userList.length\"\r\n            @refresh=\"getPersonData\"\r\n            class=\"mt-3 ml-2 mr-2\"\r\n          />\r\n        </template>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, reactive, watch, ref } from 'vue'\r\nimport { tabs, categoryList, defalutPagination } from './constant.js'\r\nimport CategoryTypeCard from './CategoryTypeCard.vue'\r\nimport TableData from './TableData.vue'\r\nimport { getWholeData, getPersonalData, getAllPersonal } from '@service/task.js'\r\nimport dayjs from 'dayjs'\r\nimport { ElMessage } from 'element-plus'\r\nimport { useUserInfoStore } from '@store/userInfo'\r\n\r\n// 数据区\r\nconst userInfoStore = useUserInfoStore()\r\nconst activeTab = ref(1)\r\nconst today = dayjs(new Date()).format('YYYY-MM-DD')\r\nconst searchForm = reactive({\r\n  category: [],\r\n  user: userInfoStore?.userInfo?.open_id || '',\r\n  date: [today, today]\r\n})\r\nconst selectAllCategory = computed(() => {\r\n  return searchForm.category.length === categoryList.length\r\n})\r\nconst user = ref()\r\nconst userList = ref([])\r\nconst shortcuts = [\r\n  {\r\n    text: '今天',\r\n    value: () => {\r\n      const end = new Date()\r\n      const start = new Date()\r\n      return [start, end]\r\n    }\r\n  },\r\n  {\r\n    text: '上周',\r\n    value: () => {\r\n      const end = new Date()\r\n      const start = new Date()\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 7)\r\n      return [start, end]\r\n    }\r\n  },\r\n  {\r\n    text: '上月',\r\n    value: () => {\r\n      const end = new Date()\r\n      const start = new Date()\r\n      start.setTime(start.getTime() - 3600 * 1000 * 24 * 30)\r\n      return [start, end]\r\n    }\r\n  }\r\n]\r\nconst categoryData = ref(null)\r\nconst personnalData = ref([])\r\nconst loading = ref(false)\r\n// 传给子组件的\r\nconst categoryTypeList = computed(() => {\r\n  if (selectAllCategory.value) {\r\n    return [...categoryList]\r\n  } else {\r\n\tif (searchForm.category && searchForm.category.length) {\r\n\t\treturn [...categoryList.filter((el) => searchForm.category.includes(el.id))]\r\n\t}\r\n    return [...categoryList]\r\n  }\r\n})\r\n\r\n// 方法区\r\n// const handleSelectAllCategory = () => {\r\n//   selectAllCategory.value = true\r\n//   if (selectAllCategory.value) {\r\n//     searchForm.category = []\r\n//   } else {\r\n//     searchForm.category = categoryList.map(el => el.id)\r\n//   }\r\n// }\r\nconst disabledDate = (time) => {\r\n  return time.getTime() > Date.now()\r\n}\r\nconst handleTabClick = () => {\r\n  user.value = null\r\n}\r\nconst refresh = (val) => {\r\n  if (activeTab.value === 1) {\r\n    getAllData()\r\n  } else {\r\n    getPersonData(val)\r\n  }\r\n}\r\n\r\n// 获取整体数据\r\nconst getAllData = () => {\r\n  loading.value = true\r\n  getWholeData({\r\n    start_date: searchForm.date[0] || today,\r\n    end_date: searchForm.date[1] || today\r\n  })\r\n    .then((res) => {\r\n      if (res.code === 0) {\r\n        const data = res.data.list[0] || {}\r\n        categoryData.value = {\r\n          1: data.w_data,\r\n          2: data.i_data,\r\n          3: data.t_data,\r\n          4: data.n_data,\r\n          5: data.v_data,\r\n          6: data.image_generator_data,\r\n          7: data.sf_data,\r\n          8: data.jd_aic_data\r\n        }\r\n      } else {\r\n        ElMessage.error(res.message || '获取数据失败')\r\n      }\r\n    })\r\n    .finally(() => {\r\n      loading.value = false\r\n    })\r\n}\r\nconst getPersonData = (pager = defalutPagination) => {\r\n  loading.value = true\r\n  const type_list = searchForm.category && searchForm.category.length ? searchForm.category : categoryList.map(el => el.id)\r\n  getPersonalData({\r\n    start_date: searchForm.date[0] || today,\r\n    end_date: searchForm.date[1] || today,\r\n    type_list: JSON.stringify(type_list),\r\n    open_id: searchForm.user,\r\n    ...pager\r\n  })\r\n    .then((res) => {\r\n      if (res.code === 0) {\r\n        const data = res.data.list || []\r\n        personnalData.value = data\r\n      } else {\r\n        ElMessage.error(res.message || '获取数据失败')\r\n      }\r\n    })\r\n    .finally(() => {\r\n      loading.value = false\r\n    })\r\n}\r\nconst getAllPersonData = () => {\r\n  getAllPersonal({}).then((res) => {\r\n    if (res.code === 0) {\r\n      const data = res.data.list || []\r\n      userList.value = data\r\n    } else {\r\n      ElMessage.error(res.message || '获取人员数据失败')\r\n    }\r\n  })\r\n}\r\n\r\ngetAllData()\r\ngetAllPersonData()\r\n// 生命周期区\r\nwatch(\r\n  () => searchForm.date,\r\n  () => {\r\n    if (activeTab.value === 1) {\r\n      getAllData()\r\n    } else if (activeTab.value === 2) {\r\n      getPersonData()\r\n    }\r\n  }\r\n)\r\n\r\nwatch(\r\n  () => searchForm.user,\r\n  () => {\r\n    getPersonData()\r\n  }\r\n)\r\n\r\nwatch(\r\n  () => searchForm.category,\r\n  () => {\r\n    if (activeTab.value === 2) {\r\n      getPersonData()\r\n    }\r\n  }\r\n)\r\n\r\nwatch(activeTab, () => {\r\n  if (activeTab.value === 1) {\r\n    getAllData()\r\n  } else if (activeTab.value === 2) {\r\n    getPersonData()\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n:deep(.el-checkbox) {\r\n  margin-right: 12px;\r\n  .el-checkbox__input {\r\n    display: none;\r\n  }\r\n  .el-checkbox__label {\r\n    padding-left: 4px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"w-full h-full p-10 overflow-y-auto relative text-[14px]\">\r\n\t<!-- <el-button class=\"absolute top-[10px]\" @click=\"show=!show\">切回{{!show?'新':'旧'}}版</el-button> -->\r\n    <NewStyle v-if=\"show\" />\r\n\t<OldStyle v-else />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport NewStyle from './newStyle.vue';\r\nimport OldStyle from './oldStyle.vue';\r\nconst show = ref(true)\r\n\r\n</script>\r\n"],"names":["tabs","categoryList","defalutPagination","props","__props","emit","__emit","tableData","ref","tableColumn","pagination","reactive","handleSortChange","value","order_event","order_method","params","watch","val","el","obj","e","activeTab","productLict","currentData","computed","today","dayjs","searchForm","userList","shortcuts","end","start","categoryData","personnalData","allLoading","personLoading","switchProduct","id","ElMessage","disabledDate","time","refresh","getAllData","getPersonData","getWholeData","res","data","pager","getPersonalData","getAllPersonData","getAllPersonal","getProduct","index","item","x","_ctx","_cache","_component_el_divider","__unplugin_components_0","colors","userInfoStore","useUserInfoStore","_a","selectAllCategory","user","loading","categoryTypeList","handleTabClick","type_list","show"],"mappings":"k1BAAO,MAAMA,GAAO,CAClB,CACE,GAAI,EACJ,KAAM,MACP,EACD,CACE,GAAI,EACJ,KAAM,MACV,CACA,EACaC,EAAe,CAC1B,CACE,GAAI,EACJ,KAAM,WACT,KAAM,KACN,YAAa,aACV,SAAU,CAER,EAAG,CACD,CACE,KAAM,EACN,KAAM,MACP,EACD,CACE,KAAM,EACN,KAAM,QAChB,CACO,EACD,EAAG,CACD,CACE,KAAM,aACN,KAAM,kBACP,EACD,CACE,KAAM,kBACN,KAAM,WACP,EACD,CACE,KAAM,kBACN,KAAM,UAChB,CACA,CACA,CACG,EACD,CACE,GAAI,EACJ,KAAM,OACT,KAAM,MACN,YAAa,WACV,SAAU,CACR,EAAG,CACD,CACE,KAAM,EACN,KAAM,MACP,EACD,CACE,KAAM,EACN,KAAM,QACP,EACD,CACE,KAAM,EACN,KAAM,QAChB,CAKO,EACD,EAAG,CACD,CACE,KAAM,mBACN,KAAM,QACP,EACD,CACE,KAAM,kBACN,KAAM,QAChB,CAKA,CACA,CACG,EACD,CACE,GAAI,EACJ,KAAM,OACT,KAAM,KACN,YAAa,YACV,SAAU,CACR,EAAG,CACD,CACE,KAAM,EACN,KAAM,MACP,EACD,CACE,KAAM,EACN,KAAM,OACP,EACD,CACE,KAAM,EACN,KAAM,OAChB,CACO,EACD,EAAG,CACD,CACE,KAAM,aACN,KAAM,UACP,EAKD,CACE,KAAM,kBACN,KAAM,WAChB,CACA,CACA,CACG,EACD,CACE,GAAI,EACJ,KAAM,OACT,YAAa,WACb,KAAM,KACH,SAAU,CACR,EAAG,CACD,CACE,KAAM,EACN,KAAM,MACP,EACD,CACE,KAAM,EACN,KAAM,WACP,EACD,CACE,KAAM,EACN,KAAM,WAChB,CACO,EACD,EAAG,CACD,CACE,KAAM,kBACN,KAAM,WACP,EACD,CACE,KAAM,mBACN,KAAM,WAChB,CACA,CACA,CACG,EACD,CACE,GAAI,EACJ,KAAM,OACT,KAAM,IACN,YAAa,WACV,SAAU,CACR,EAAG,CACD,CACE,KAAM,EACN,KAAM,QAChB,CACO,EACD,EAAG,CACD,CACE,KAAM,aACN,KAAM,QAChB,CACA,CACA,CACG,EACD,CACE,GAAI,EACJ,KAAM,OACT,KAAM,KACN,YAAa,WACV,SAAU,CACR,EAAG,CACD,CACE,KAAM,EACN,KAAM,MACP,EACD,CACE,KAAM,EACN,KAAM,QACP,EACD,CACE,KAAM,EACN,KAAM,cACP,EACD,CACE,KAAM,EACN,KAAM,aACP,EACD,CACE,KAAM,EACN,KAAM,YACP,EACP,CACC,KAAM,EACN,KAAM,WACT,CACO,EACD,EAAG,CACD,CACE,KAAM,sBACN,KAAM,QACP,EACD,CACE,KAAM,wBACN,KAAM,cACP,EACD,CACE,KAAM,gBACN,KAAM,aACP,EACD,CACE,KAAM,oBACN,KAAM,YACP,EACP,CACQ,KAAM,oBACN,KAAM,WAChB,CACA,CACA,CACG,EACD,CACE,GAAI,EACJ,KAAM,OACT,KAAM,KACN,YAAa,WACV,SAAU,CACR,EAAG,CACD,CACE,KAAM,EACN,KAAM,MACP,EACP,CACQ,KAAM,EACN,KAAM,OAChB,CACO,EACD,EAAG,CACD,CACE,KAAM,oBACN,KAAM,OAChB,CACA,CACA,CACG,EACD,CACE,GAAI,EACJ,KAAM,OACT,KAAM,MACN,YAAa,WACV,SAAU,CACR,EAAG,CACD,CACE,KAAM,EACN,KAAM,MACP,EACP,CACQ,KAAM,EACN,KAAM,OAChB,CACO,EACD,EAAG,CACD,CACE,KAAM,oBACN,KAAM,OAChB,CACA,CACA,CACA,CACA,EAEaC,EAAoB,CAC/B,KAAM,EACN,SAAU,EACZ,uOChPA,MAAMC,EAAQC,EAWRC,EAAOC,EACPC,EAAYC,EAAI,CAAE,CAAA,EAClBC,EAAcD,EAAI,CAAE,CAAA,EACpBE,EAAaC,EAAS,CAAE,GAAGT,CAAmB,CAAA,EAEhDC,EAAM,MAAQA,EAAM,KAAK,UAC3BM,EAAY,MAAQN,EAAM,KAAK,SAGjC,MAAMS,EAAoBC,GAAU,CAClC,aACIC,EAAcD,EAAM,KACpBA,EAAA,QAAmB,YACrBE,EAAe,MACfF,EAAe,QAAK,aACpBE,EAAe,QAEfA,EAAM,GAC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"}