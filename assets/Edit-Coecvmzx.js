import{_ as Ua,a as Ka,O as Ya,z as Xa,E as qe,Q as Wa}from"./index-DenF-4mp.js";import{g as Va,b as $a}from"./jszip-C7-yN4-L.js";import{E as ja}from"./index-uMR5yqKk.js";import{q as Qa,s as Ja,N as Xe,S as We,Q as je,r as Me,c as ia,a4 as wa,z as Pa,a0 as Ga,A as et,ah as Qe,X as ba}from"./vue-vendor-BgjGt3mC.js";import"./axios-xsH4HHeE.js";import"./lodash-BmZg10rb.js";import"./remark-CBsncvHK.js";import"./quill-BeGMbSWh.js";var Ma={exports:{}},na={},pa;function Je(){return pa||(pa=1,function(Z){var F=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function ee(t,a){return Object.prototype.hasOwnProperty.call(t,a)}Z.assign=function(t){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var u=a.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var n in u)ee(u,n)&&(t[n]=u[n])}}return t},Z.shrinkBuf=function(t,a){return t.length===a?t:t.subarray?t.subarray(0,a):(t.length=a,t)};var g={arraySet:function(t,a,u,n,c){if(a.subarray&&t.subarray){t.set(a.subarray(u,u+n),c);return}for(var s=0;s<n;s++)t[c+s]=a[u+s]},flattenChunks:function(t){var a,u,n,c,s,f;for(n=0,a=0,u=t.length;a<u;a++)n+=t[a].length;for(f=new Uint8Array(n),c=0,a=0,u=t.length;a<u;a++)s=t[a],f.set(s,c),c+=s.length;return f}},re={arraySet:function(t,a,u,n,c){for(var s=0;s<n;s++)t[c+s]=a[u+s]},flattenChunks:function(t){return[].concat.apply([],t)}};Z.setTyped=function(t){t?(Z.Buf8=Uint8Array,Z.Buf16=Uint16Array,Z.Buf32=Int32Array,Z.assign(Z,g)):(Z.Buf8=Array,Z.Buf16=Array,Z.Buf32=Array,Z.assign(Z,re))},Z.setTyped(F)}(na)),na}var ea={},Ke={},Pe={},xa;function at(){if(xa)return Pe;xa=1;var Z=Je(),F=4,ee=0,g=1,re=2;function t(l){for(var I=l.length;--I>=0;)l[I]=0}var a=0,u=1,n=2,c=3,s=258,f=29,v=256,b=v+1+f,o=30,z=19,S=2*b+1,h=15,d=16,m=7,y=256,T=16,D=17,p=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,L=new Array((b+2)*2);t(L);var K=new Array(o*2);t(K);var J=new Array(O);t(J);var $=new Array(s-c+1);t($);var q=new Array(f);t(q);var X=new Array(o);t(X);function oe(l,I,B,V,w){this.static_tree=l,this.extra_bits=I,this.extra_base=B,this.elems=V,this.max_length=w,this.has_stree=l&&l.length}var ke,Ie,we;function ce(l,I){this.dyn_tree=l,this.max_code=0,this.stat_desc=I}function xe(l){return l<256?J[l]:J[256+(l>>>7)]}function ge(l,I){l.pending_buf[l.pending++]=I&255,l.pending_buf[l.pending++]=I>>>8&255}function ue(l,I,B){l.bi_valid>d-B?(l.bi_buf|=I<<l.bi_valid&65535,ge(l,l.bi_buf),l.bi_buf=I>>d-l.bi_valid,l.bi_valid+=B-d):(l.bi_buf|=I<<l.bi_valid&65535,l.bi_valid+=B)}function de(l,I,B){ue(l,B[I*2],B[I*2+1])}function fe(l,I){var B=0;do B|=l&1,l>>>=1,B<<=1;while(--I>0);return B>>>1}function te(l){l.bi_valid===16?(ge(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0):l.bi_valid>=8&&(l.pending_buf[l.pending++]=l.bi_buf&255,l.bi_buf>>=8,l.bi_valid-=8)}function Re(l,I){var B=I.dyn_tree,V=I.max_code,w=I.stat_desc.static_tree,A=I.stat_desc.has_stree,r=I.stat_desc.extra_bits,C=I.stat_desc.extra_base,ne=I.stat_desc.max_length,e,k,E,i,_,x,Q=0;for(i=0;i<=h;i++)l.bl_count[i]=0;for(B[l.heap[l.heap_max]*2+1]=0,e=l.heap_max+1;e<S;e++)k=l.heap[e],i=B[B[k*2+1]*2+1]+1,i>ne&&(i=ne,Q++),B[k*2+1]=i,!(k>V)&&(l.bl_count[i]++,_=0,k>=C&&(_=r[k-C]),x=B[k*2],l.opt_len+=x*(i+_),A&&(l.static_len+=x*(w[k*2+1]+_)));if(Q!==0){do{for(i=ne-1;l.bl_count[i]===0;)i--;l.bl_count[i]--,l.bl_count[i+1]+=2,l.bl_count[ne]--,Q-=2}while(Q>0);for(i=ne;i!==0;i--)for(k=l.bl_count[i];k!==0;)E=l.heap[--e],!(E>V)&&(B[E*2+1]!==i&&(l.opt_len+=(i-B[E*2+1])*B[E*2],B[E*2+1]=i),k--)}}function Ce(l,I,B){var V=new Array(h+1),w=0,A,r;for(A=1;A<=h;A++)V[A]=w=w+B[A-1]<<1;for(r=0;r<=I;r++){var C=l[r*2+1];C!==0&&(l[r*2]=fe(V[C]++,C))}}function ae(){var l,I,B,V,w,A=new Array(h+1);for(B=0,V=0;V<f-1;V++)for(q[V]=B,l=0;l<1<<R[V];l++)$[B++]=V;for($[B-1]=V,w=0,V=0;V<16;V++)for(X[V]=w,l=0;l<1<<U[V];l++)J[w++]=V;for(w>>=7;V<o;V++)for(X[V]=w<<7,l=0;l<1<<U[V]-7;l++)J[256+w++]=V;for(I=0;I<=h;I++)A[I]=0;for(l=0;l<=143;)L[l*2+1]=8,l++,A[8]++;for(;l<=255;)L[l*2+1]=9,l++,A[9]++;for(;l<=279;)L[l*2+1]=7,l++,A[7]++;for(;l<=287;)L[l*2+1]=8,l++,A[8]++;for(Ce(L,b+1,A),l=0;l<o;l++)K[l*2+1]=5,K[l*2]=fe(l,5);ke=new oe(L,R,v+1,b,h),Ie=new oe(K,U,0,o,h),we=new oe(new Array(0),H,0,z,m)}function be(l){var I;for(I=0;I<b;I++)l.dyn_ltree[I*2]=0;for(I=0;I<o;I++)l.dyn_dtree[I*2]=0;for(I=0;I<z;I++)l.bl_tree[I*2]=0;l.dyn_ltree[y*2]=1,l.opt_len=l.static_len=0,l.last_lit=l.matches=0}function j(l){l.bi_valid>8?ge(l,l.bi_buf):l.bi_valid>0&&(l.pending_buf[l.pending++]=l.bi_buf),l.bi_buf=0,l.bi_valid=0}function ie(l,I,B,V){j(l),ge(l,B),ge(l,~B),Z.arraySet(l.pending_buf,l.window,I,B,l.pending),l.pending+=B}function P(l,I,B,V){var w=I*2,A=B*2;return l[w]<l[A]||l[w]===l[A]&&V[I]<=V[B]}function G(l,I,B){for(var V=l.heap[B],w=B<<1;w<=l.heap_len&&(w<l.heap_len&&P(I,l.heap[w+1],l.heap[w],l.depth)&&w++,!P(I,V,l.heap[w],l.depth));)l.heap[B]=l.heap[w],B=w,w<<=1;l.heap[B]=V}function W(l,I,B){var V,w,A=0,r,C;if(l.last_lit!==0)do V=l.pending_buf[l.d_buf+A*2]<<8|l.pending_buf[l.d_buf+A*2+1],w=l.pending_buf[l.l_buf+A],A++,V===0?de(l,w,I):(r=$[w],de(l,r+v+1,I),C=R[r],C!==0&&(w-=q[r],ue(l,w,C)),V--,r=xe(V),de(l,r,B),C=U[r],C!==0&&(V-=X[r],ue(l,V,C)));while(A<l.last_lit);de(l,y,I)}function le(l,I){var B=I.dyn_tree,V=I.stat_desc.static_tree,w=I.stat_desc.has_stree,A=I.stat_desc.elems,r,C,ne=-1,e;for(l.heap_len=0,l.heap_max=S,r=0;r<A;r++)B[r*2]!==0?(l.heap[++l.heap_len]=ne=r,l.depth[r]=0):B[r*2+1]=0;for(;l.heap_len<2;)e=l.heap[++l.heap_len]=ne<2?++ne:0,B[e*2]=1,l.depth[e]=0,l.opt_len--,w&&(l.static_len-=V[e*2+1]);for(I.max_code=ne,r=l.heap_len>>1;r>=1;r--)G(l,B,r);e=A;do r=l.heap[1],l.heap[1]=l.heap[l.heap_len--],G(l,B,1),C=l.heap[1],l.heap[--l.heap_max]=r,l.heap[--l.heap_max]=C,B[e*2]=B[r*2]+B[C*2],l.depth[e]=(l.depth[r]>=l.depth[C]?l.depth[r]:l.depth[C])+1,B[r*2+1]=B[C*2+1]=e,l.heap[1]=e++,G(l,B,1);while(l.heap_len>=2);l.heap[--l.heap_max]=l.heap[1],Re(l,I),Ce(B,ne,l.bl_count)}function Ee(l,I,B){var V,w=-1,A,r=I[0*2+1],C=0,ne=7,e=4;for(r===0&&(ne=138,e=3),I[(B+1)*2+1]=65535,V=0;V<=B;V++)A=r,r=I[(V+1)*2+1],!(++C<ne&&A===r)&&(C<e?l.bl_tree[A*2]+=C:A!==0?(A!==w&&l.bl_tree[A*2]++,l.bl_tree[T*2]++):C<=10?l.bl_tree[D*2]++:l.bl_tree[p*2]++,C=0,w=A,r===0?(ne=138,e=3):A===r?(ne=6,e=3):(ne=7,e=4))}function _e(l,I,B){var V,w=-1,A,r=I[0*2+1],C=0,ne=7,e=4;for(r===0&&(ne=138,e=3),V=0;V<=B;V++)if(A=r,r=I[(V+1)*2+1],!(++C<ne&&A===r)){if(C<e)do de(l,A,l.bl_tree);while(--C!==0);else A!==0?(A!==w&&(de(l,A,l.bl_tree),C--),de(l,T,l.bl_tree),ue(l,C-3,2)):C<=10?(de(l,D,l.bl_tree),ue(l,C-3,3)):(de(l,p,l.bl_tree),ue(l,C-11,7));C=0,w=A,r===0?(ne=138,e=3):A===r?(ne=6,e=3):(ne=7,e=4)}}function he(l){var I;for(Ee(l,l.dyn_ltree,l.l_desc.max_code),Ee(l,l.dyn_dtree,l.d_desc.max_code),le(l,l.bl_desc),I=z-1;I>=3&&l.bl_tree[M[I]*2+1]===0;I--);return l.opt_len+=3*(I+1)+5+5+4,I}function Oe(l,I,B,V){var w;for(ue(l,I-257,5),ue(l,B-1,5),ue(l,V-4,4),w=0;w<V;w++)ue(l,l.bl_tree[M[w]*2+1],3);_e(l,l.dyn_ltree,I-1),_e(l,l.dyn_dtree,B-1)}function Fe(l){var I=4093624447,B;for(B=0;B<=31;B++,I>>>=1)if(I&1&&l.dyn_ltree[B*2]!==0)return ee;if(l.dyn_ltree[9*2]!==0||l.dyn_ltree[10*2]!==0||l.dyn_ltree[13*2]!==0)return g;for(B=32;B<v;B++)if(l.dyn_ltree[B*2]!==0)return g;return ee}var Se=!1;function Be(l){Se||(ae(),Se=!0),l.l_desc=new ce(l.dyn_ltree,ke),l.d_desc=new ce(l.dyn_dtree,Ie),l.bl_desc=new ce(l.bl_tree,we),l.bi_buf=0,l.bi_valid=0,be(l)}function ye(l,I,B,V){ue(l,(a<<1)+(V?1:0),3),ie(l,I,B)}function pe(l){ue(l,u<<1,3),de(l,y,L),te(l)}function Ze(l,I,B,V){var w,A,r=0;l.level>0?(l.strm.data_type===re&&(l.strm.data_type=Fe(l)),le(l,l.l_desc),le(l,l.d_desc),r=he(l),w=l.opt_len+3+7>>>3,A=l.static_len+3+7>>>3,A<=w&&(w=A)):w=A=B+5,B+4<=w&&I!==-1?ye(l,I,B,V):l.strategy===F||A===w?(ue(l,(u<<1)+(V?1:0),3),W(l,L,K)):(ue(l,(n<<1)+(V?1:0),3),Oe(l,l.l_desc.max_code+1,l.d_desc.max_code+1,r+1),W(l,l.dyn_ltree,l.dyn_dtree)),be(l),V&&j(l)}function Te(l,I,B){return l.pending_buf[l.d_buf+l.last_lit*2]=I>>>8&255,l.pending_buf[l.d_buf+l.last_lit*2+1]=I&255,l.pending_buf[l.l_buf+l.last_lit]=B&255,l.last_lit++,I===0?l.dyn_ltree[B*2]++:(l.matches++,I--,l.dyn_ltree[($[B]+v+1)*2]++,l.dyn_dtree[xe(I)*2]++),l.last_lit===l.lit_bufsize-1}return Pe._tr_init=Be,Pe._tr_stored_block=ye,Pe._tr_flush_block=Ze,Pe._tr_tally=Te,Pe._tr_align=pe,Pe}var la,ka;function Oa(){if(ka)return la;ka=1;function Z(F,ee,g,re){for(var t=F&65535|0,a=F>>>16&65535|0,u=0;g!==0;){u=g>2e3?2e3:g,g-=u;do t=t+ee[re++]|0,a=a+t|0;while(--u);t%=65521,a%=65521}return t|a<<16|0}return la=Z,la}var fa,ma;function Fa(){if(ma)return fa;ma=1;function Z(){for(var g,re=[],t=0;t<256;t++){g=t;for(var a=0;a<8;a++)g=g&1?3988292384^g>>>1:g>>>1;re[t]=g}return re}var F=Z();function ee(g,re,t,a){var u=F,n=a+t;g^=-1;for(var c=a;c<n;c++)g=g>>>8^u[(g^re[c])&255];return g^-1}return fa=ee,fa}var oa,Ea;function ca(){return Ea||(Ea=1,oa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),oa}var Sa;function tt(){if(Sa)return Ke;Sa=1;var Z=Je(),F=at(),ee=Oa(),g=Fa(),re=ca(),t=0,a=1,u=3,n=4,c=5,s=0,f=1,v=-2,b=-3,o=-5,z=-1,S=1,h=2,d=3,m=4,y=0,T=2,D=8,p=9,R=15,U=8,H=29,M=256,O=M+1+H,L=30,K=19,J=2*O+1,$=15,q=3,X=258,oe=X+q+1,ke=32,Ie=42,we=69,ce=73,xe=91,ge=103,ue=113,de=666,fe=1,te=2,Re=3,Ce=4,ae=3;function be(e,k){return e.msg=re[k],k}function j(e){return(e<<1)-(e>4?9:0)}function ie(e){for(var k=e.length;--k>=0;)e[k]=0}function P(e){var k=e.state,E=k.pending;E>e.avail_out&&(E=e.avail_out),E!==0&&(Z.arraySet(e.output,k.pending_buf,k.pending_out,E,e.next_out),e.next_out+=E,k.pending_out+=E,e.total_out+=E,e.avail_out-=E,k.pending-=E,k.pending===0&&(k.pending_out=0))}function G(e,k){F._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,k),e.block_start=e.strstart,P(e.strm)}function W(e,k){e.pending_buf[e.pending++]=k}function le(e,k){e.pending_buf[e.pending++]=k>>>8&255,e.pending_buf[e.pending++]=k&255}function Ee(e,k,E,i){var _=e.avail_in;return _>i&&(_=i),_===0?0:(e.avail_in-=_,Z.arraySet(k,e.input,e.next_in,_,E),e.state.wrap===1?e.adler=ee(e.adler,k,_,E):e.state.wrap===2&&(e.adler=g(e.adler,k,_,E)),e.next_in+=_,e.total_in+=_,_)}function _e(e,k){var E=e.max_chain_length,i=e.strstart,_,x,Q=e.prev_length,N=e.nice_match,Y=e.strstart>e.w_size-oe?e.strstart-(e.w_size-oe):0,ve=e.window,Ve=e.w_mask,me=e.prev,se=e.strstart+X,ze=ve[i+Q-1],Le=ve[i+Q];e.prev_length>=e.good_match&&(E>>=2),N>e.lookahead&&(N=e.lookahead);do if(_=k,!(ve[_+Q]!==Le||ve[_+Q-1]!==ze||ve[_]!==ve[i]||ve[++_]!==ve[i+1])){i+=2,_++;do;while(ve[++i]===ve[++_]&&ve[++i]===ve[++_]&&ve[++i]===ve[++_]&&ve[++i]===ve[++_]&&ve[++i]===ve[++_]&&ve[++i]===ve[++_]&&ve[++i]===ve[++_]&&ve[++i]===ve[++_]&&i<se);if(x=X-(se-i),i=se-X,x>Q){if(e.match_start=k,Q=x,x>=N)break;ze=ve[i+Q-1],Le=ve[i+Q]}}while((k=me[k&Ve])>Y&&--E!==0);return Q<=e.lookahead?Q:e.lookahead}function he(e){var k=e.w_size,E,i,_,x,Q;do{if(x=e.window_size-e.lookahead-e.strstart,e.strstart>=k+(k-oe)){Z.arraySet(e.window,e.window,k,k,0),e.match_start-=k,e.strstart-=k,e.block_start-=k,i=e.hash_size,E=i;do _=e.head[--E],e.head[E]=_>=k?_-k:0;while(--i);i=k,E=i;do _=e.prev[--E],e.prev[E]=_>=k?_-k:0;while(--i);x+=k}if(e.strm.avail_in===0)break;if(i=Ee(e.strm,e.window,e.strstart+e.lookahead,x),e.lookahead+=i,e.lookahead+e.insert>=q)for(Q=e.strstart-e.insert,e.ins_h=e.window[Q],e.ins_h=(e.ins_h<<e.hash_shift^e.window[Q+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[Q+q-1])&e.hash_mask,e.prev[Q&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=Q,Q++,e.insert--,!(e.lookahead+e.insert<q)););}while(e.lookahead<oe&&e.strm.avail_in!==0)}function Oe(e,k){var E=65535;for(E>e.pending_buf_size-5&&(E=e.pending_buf_size-5);;){if(e.lookahead<=1){if(he(e),e.lookahead===0&&k===t)return fe;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+E;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,G(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-oe&&(G(e,!1),e.strm.avail_out===0))return fe}return e.insert=0,k===n?(G(e,!0),e.strm.avail_out===0?Re:Ce):(e.strstart>e.block_start&&(G(e,!1),e.strm.avail_out===0),fe)}function Fe(e,k){for(var E,i;;){if(e.lookahead<oe){if(he(e),e.lookahead<oe&&k===t)return fe;if(e.lookahead===0)break}if(E=0,e.lookahead>=q&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+q-1])&e.hash_mask,E=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),E!==0&&e.strstart-E<=e.w_size-oe&&(e.match_length=_e(e,E)),e.match_length>=q)if(i=F._tr_tally(e,e.strstart-e.match_start,e.match_length-q),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=q){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+q-1])&e.hash_mask,E=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=F._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(G(e,!1),e.strm.avail_out===0))return fe}return e.insert=e.strstart<q-1?e.strstart:q-1,k===n?(G(e,!0),e.strm.avail_out===0?Re:Ce):e.last_lit&&(G(e,!1),e.strm.avail_out===0)?fe:te}function Se(e,k){for(var E,i,_;;){if(e.lookahead<oe){if(he(e),e.lookahead<oe&&k===t)return fe;if(e.lookahead===0)break}if(E=0,e.lookahead>=q&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+q-1])&e.hash_mask,E=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=q-1,E!==0&&e.prev_length<e.max_lazy_match&&e.strstart-E<=e.w_size-oe&&(e.match_length=_e(e,E),e.match_length<=5&&(e.strategy===S||e.match_length===q&&e.strstart-e.match_start>4096)&&(e.match_length=q-1)),e.prev_length>=q&&e.match_length<=e.prev_length){_=e.strstart+e.lookahead-q,i=F._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-q),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+q-1])&e.hash_mask,E=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=q-1,e.strstart++,i&&(G(e,!1),e.strm.avail_out===0))return fe}else if(e.match_available){if(i=F._tr_tally(e,0,e.window[e.strstart-1]),i&&G(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return fe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=F._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<q-1?e.strstart:q-1,k===n?(G(e,!0),e.strm.avail_out===0?Re:Ce):e.last_lit&&(G(e,!1),e.strm.avail_out===0)?fe:te}function Be(e,k){for(var E,i,_,x,Q=e.window;;){if(e.lookahead<=X){if(he(e),e.lookahead<=X&&k===t)return fe;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=q&&e.strstart>0&&(_=e.strstart-1,i=Q[_],i===Q[++_]&&i===Q[++_]&&i===Q[++_])){x=e.strstart+X;do;while(i===Q[++_]&&i===Q[++_]&&i===Q[++_]&&i===Q[++_]&&i===Q[++_]&&i===Q[++_]&&i===Q[++_]&&i===Q[++_]&&_<x);e.match_length=X-(x-_),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=q?(E=F._tr_tally(e,1,e.match_length-q),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(E=F._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),E&&(G(e,!1),e.strm.avail_out===0))return fe}return e.insert=0,k===n?(G(e,!0),e.strm.avail_out===0?Re:Ce):e.last_lit&&(G(e,!1),e.strm.avail_out===0)?fe:te}function ye(e,k){for(var E;;){if(e.lookahead===0&&(he(e),e.lookahead===0)){if(k===t)return fe;break}if(e.match_length=0,E=F._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,E&&(G(e,!1),e.strm.avail_out===0))return fe}return e.insert=0,k===n?(G(e,!0),e.strm.avail_out===0?Re:Ce):e.last_lit&&(G(e,!1),e.strm.avail_out===0)?fe:te}function pe(e,k,E,i,_){this.good_length=e,this.max_lazy=k,this.nice_length=E,this.max_chain=i,this.func=_}var Ze;Ze=[new pe(0,0,0,0,Oe),new pe(4,4,8,4,Fe),new pe(4,5,16,8,Fe),new pe(4,6,32,32,Fe),new pe(4,4,16,16,Se),new pe(8,16,32,32,Se),new pe(8,16,128,128,Se),new pe(8,32,128,256,Se),new pe(32,128,258,1024,Se),new pe(32,258,258,4096,Se)];function Te(e){e.window_size=2*e.w_size,ie(e.head),e.max_lazy_match=Ze[e.level].max_lazy,e.good_match=Ze[e.level].good_length,e.nice_match=Ze[e.level].nice_length,e.max_chain_length=Ze[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=q-1,e.match_available=0,e.ins_h=0}function l(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Z.Buf16(J*2),this.dyn_dtree=new Z.Buf16((2*L+1)*2),this.bl_tree=new Z.Buf16((2*K+1)*2),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Z.Buf16($+1),this.heap=new Z.Buf16(2*O+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Z.Buf16(2*O+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(e){var k;return!e||!e.state?be(e,v):(e.total_in=e.total_out=0,e.data_type=T,k=e.state,k.pending=0,k.pending_out=0,k.wrap<0&&(k.wrap=-k.wrap),k.status=k.wrap?Ie:ue,e.adler=k.wrap===2?0:1,k.last_flush=t,F._tr_init(k),s)}function B(e){var k=I(e);return k===s&&Te(e.state),k}function V(e,k){return!e||!e.state||e.state.wrap!==2?v:(e.state.gzhead=k,s)}function w(e,k,E,i,_,x){if(!e)return v;var Q=1;if(k===z&&(k=6),i<0?(Q=0,i=-i):i>15&&(Q=2,i-=16),_<1||_>p||E!==D||i<8||i>15||k<0||k>9||x<0||x>m)return be(e,v);i===8&&(i=9);var N=new l;return e.state=N,N.strm=e,N.wrap=Q,N.gzhead=null,N.w_bits=i,N.w_size=1<<N.w_bits,N.w_mask=N.w_size-1,N.hash_bits=_+7,N.hash_size=1<<N.hash_bits,N.hash_mask=N.hash_size-1,N.hash_shift=~~((N.hash_bits+q-1)/q),N.window=new Z.Buf8(N.w_size*2),N.head=new Z.Buf16(N.hash_size),N.prev=new Z.Buf16(N.w_size),N.lit_bufsize=1<<_+6,N.pending_buf_size=N.lit_bufsize*4,N.pending_buf=new Z.Buf8(N.pending_buf_size),N.d_buf=1*N.lit_bufsize,N.l_buf=3*N.lit_bufsize,N.level=k,N.strategy=x,N.method=E,B(e)}function A(e,k){return w(e,k,D,R,U,y)}function r(e,k){var E,i,_,x;if(!e||!e.state||k>c||k<0)return e?be(e,v):v;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===de&&k!==n)return be(e,e.avail_out===0?o:v);if(i.strm=e,E=i.last_flush,i.last_flush=k,i.status===Ie)if(i.wrap===2)e.adler=0,W(i,31),W(i,139),W(i,8),i.gzhead?(W(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),W(i,i.gzhead.time&255),W(i,i.gzhead.time>>8&255),W(i,i.gzhead.time>>16&255),W(i,i.gzhead.time>>24&255),W(i,i.level===9?2:i.strategy>=h||i.level<2?4:0),W(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(W(i,i.gzhead.extra.length&255),W(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=g(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=we):(W(i,0),W(i,0),W(i,0),W(i,0),W(i,0),W(i,i.level===9?2:i.strategy>=h||i.level<2?4:0),W(i,ae),i.status=ue);else{var Q=D+(i.w_bits-8<<4)<<8,N=-1;i.strategy>=h||i.level<2?N=0:i.level<6?N=1:i.level===6?N=2:N=3,Q|=N<<6,i.strstart!==0&&(Q|=ke),Q+=31-Q%31,i.status=ue,le(i,Q),i.strstart!==0&&(le(i,e.adler>>>16),le(i,e.adler&65535)),e.adler=1}if(i.status===we)if(i.gzhead.extra){for(_=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>_&&(e.adler=g(e.adler,i.pending_buf,i.pending-_,_)),P(e),_=i.pending,i.pending===i.pending_buf_size));)W(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>_&&(e.adler=g(e.adler,i.pending_buf,i.pending-_,_)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=ce)}else i.status=ce;if(i.status===ce)if(i.gzhead.name){_=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>_&&(e.adler=g(e.adler,i.pending_buf,i.pending-_,_)),P(e),_=i.pending,i.pending===i.pending_buf_size)){x=1;break}i.gzindex<i.gzhead.name.length?x=i.gzhead.name.charCodeAt(i.gzindex++)&255:x=0,W(i,x)}while(x!==0);i.gzhead.hcrc&&i.pending>_&&(e.adler=g(e.adler,i.pending_buf,i.pending-_,_)),x===0&&(i.gzindex=0,i.status=xe)}else i.status=xe;if(i.status===xe)if(i.gzhead.comment){_=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>_&&(e.adler=g(e.adler,i.pending_buf,i.pending-_,_)),P(e),_=i.pending,i.pending===i.pending_buf_size)){x=1;break}i.gzindex<i.gzhead.comment.length?x=i.gzhead.comment.charCodeAt(i.gzindex++)&255:x=0,W(i,x)}while(x!==0);i.gzhead.hcrc&&i.pending>_&&(e.adler=g(e.adler,i.pending_buf,i.pending-_,_)),x===0&&(i.status=ge)}else i.status=ge;if(i.status===ge&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&P(e),i.pending+2<=i.pending_buf_size&&(W(i,e.adler&255),W(i,e.adler>>8&255),e.adler=0,i.status=ue)):i.status=ue),i.pending!==0){if(P(e),e.avail_out===0)return i.last_flush=-1,s}else if(e.avail_in===0&&j(k)<=j(E)&&k!==n)return be(e,o);if(i.status===de&&e.avail_in!==0)return be(e,o);if(e.avail_in!==0||i.lookahead!==0||k!==t&&i.status!==de){var Y=i.strategy===h?ye(i,k):i.strategy===d?Be(i,k):Ze[i.level].func(i,k);if((Y===Re||Y===Ce)&&(i.status=de),Y===fe||Y===Re)return e.avail_out===0&&(i.last_flush=-1),s;if(Y===te&&(k===a?F._tr_align(i):k!==c&&(F._tr_stored_block(i,0,0,!1),k===u&&(ie(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),P(e),e.avail_out===0))return i.last_flush=-1,s}return k!==n?s:i.wrap<=0?f:(i.wrap===2?(W(i,e.adler&255),W(i,e.adler>>8&255),W(i,e.adler>>16&255),W(i,e.adler>>24&255),W(i,e.total_in&255),W(i,e.total_in>>8&255),W(i,e.total_in>>16&255),W(i,e.total_in>>24&255)):(le(i,e.adler>>>16),le(i,e.adler&65535)),P(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?s:f)}function C(e){var k;return!e||!e.state?v:(k=e.state.status,k!==Ie&&k!==we&&k!==ce&&k!==xe&&k!==ge&&k!==ue&&k!==de?be(e,v):(e.state=null,k===ue?be(e,b):s))}function ne(e,k){var E=k.length,i,_,x,Q,N,Y,ve,Ve;if(!e||!e.state||(i=e.state,Q=i.wrap,Q===2||Q===1&&i.status!==Ie||i.lookahead))return v;for(Q===1&&(e.adler=ee(e.adler,k,E,0)),i.wrap=0,E>=i.w_size&&(Q===0&&(ie(i.head),i.strstart=0,i.block_start=0,i.insert=0),Ve=new Z.Buf8(i.w_size),Z.arraySet(Ve,k,E-i.w_size,i.w_size,0),k=Ve,E=i.w_size),N=e.avail_in,Y=e.next_in,ve=e.input,e.avail_in=E,e.next_in=0,e.input=k,he(i);i.lookahead>=q;){_=i.strstart,x=i.lookahead-(q-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[_+q-1])&i.hash_mask,i.prev[_&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=_,_++;while(--x);i.strstart=_,i.lookahead=q-1,he(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=q-1,i.match_available=0,e.next_in=Y,e.input=ve,e.avail_in=N,i.wrap=Q,s}return Ke.deflateInit=A,Ke.deflateInit2=w,Ke.deflateReset=B,Ke.deflateResetKeep=I,Ke.deflateSetHeader=V,Ke.deflate=r,Ke.deflateEnd=C,Ke.deflateSetDictionary=ne,Ke.deflateInfo="pako deflate (from Nodeca project)",Ke}var Ge={},Aa;function Ha(){if(Aa)return Ge;Aa=1;var Z=Je(),F=!0,ee=!0;try{String.fromCharCode.apply(null,[0])}catch{F=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ee=!1}for(var g=new Z.Buf8(256),re=0;re<256;re++)g[re]=re>=252?6:re>=248?5:re>=240?4:re>=224?3:re>=192?2:1;g[254]=g[254]=1,Ge.string2buf=function(a){var u,n,c,s,f,v=a.length,b=0;for(s=0;s<v;s++)n=a.charCodeAt(s),(n&64512)===55296&&s+1<v&&(c=a.charCodeAt(s+1),(c&64512)===56320&&(n=65536+(n-55296<<10)+(c-56320),s++)),b+=n<128?1:n<2048?2:n<65536?3:4;for(u=new Z.Buf8(b),f=0,s=0;f<b;s++)n=a.charCodeAt(s),(n&64512)===55296&&s+1<v&&(c=a.charCodeAt(s+1),(c&64512)===56320&&(n=65536+(n-55296<<10)+(c-56320),s++)),n<128?u[f++]=n:n<2048?(u[f++]=192|n>>>6,u[f++]=128|n&63):n<65536?(u[f++]=224|n>>>12,u[f++]=128|n>>>6&63,u[f++]=128|n&63):(u[f++]=240|n>>>18,u[f++]=128|n>>>12&63,u[f++]=128|n>>>6&63,u[f++]=128|n&63);return u};function t(a,u){if(u<65534&&(a.subarray&&ee||!a.subarray&&F))return String.fromCharCode.apply(null,Z.shrinkBuf(a,u));for(var n="",c=0;c<u;c++)n+=String.fromCharCode(a[c]);return n}return Ge.buf2binstring=function(a){return t(a,a.length)},Ge.binstring2buf=function(a){for(var u=new Z.Buf8(a.length),n=0,c=u.length;n<c;n++)u[n]=a.charCodeAt(n);return u},Ge.buf2string=function(a,u){var n,c,s,f,v=u||a.length,b=new Array(v*2);for(c=0,n=0;n<v;){if(s=a[n++],s<128){b[c++]=s;continue}if(f=g[s],f>4){b[c++]=65533,n+=f-1;continue}for(s&=f===2?31:f===3?15:7;f>1&&n<v;)s=s<<6|a[n++]&63,f--;if(f>1){b[c++]=65533;continue}s<65536?b[c++]=s:(s-=65536,b[c++]=55296|s>>10&1023,b[c++]=56320|s&1023)}return t(b,c)},Ge.utf8border=function(a,u){var n;for(u=u||a.length,u>a.length&&(u=a.length),n=u-1;n>=0&&(a[n]&192)===128;)n--;return n<0||n===0?u:n+g[a[n]]>u?n:u},Ge}var ha,ya;function qa(){if(ya)return ha;ya=1;function Z(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return ha=Z,ha}var za;function rt(){if(za)return ea;za=1;var Z=tt(),F=Je(),ee=Ha(),g=ca(),re=qa(),t=Object.prototype.toString,a=0,u=4,n=0,c=1,s=2,f=-1,v=0,b=8;function o(d){if(!(this instanceof o))return new o(d);this.options=F.assign({level:f,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},d||{});var m=this.options;m.raw&&m.windowBits>0?m.windowBits=-m.windowBits:m.gzip&&m.windowBits>0&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new re,this.strm.avail_out=0;var y=Z.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(y!==n)throw new Error(g[y]);if(m.header&&Z.deflateSetHeader(this.strm,m.header),m.dictionary){var T;if(typeof m.dictionary=="string"?T=ee.string2buf(m.dictionary):t.call(m.dictionary)==="[object ArrayBuffer]"?T=new Uint8Array(m.dictionary):T=m.dictionary,y=Z.deflateSetDictionary(this.strm,T),y!==n)throw new Error(g[y]);this._dict_set=!0}}o.prototype.push=function(d,m){var y=this.strm,T=this.options.chunkSize,D,p;if(this.ended)return!1;p=m===~~m?m:m===!0?u:a,typeof d=="string"?y.input=ee.string2buf(d):t.call(d)==="[object ArrayBuffer]"?y.input=new Uint8Array(d):y.input=d,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new F.Buf8(T),y.next_out=0,y.avail_out=T),D=Z.deflate(y,p),D!==c&&D!==n)return this.onEnd(D),this.ended=!0,!1;(y.avail_out===0||y.avail_in===0&&(p===u||p===s))&&(this.options.to==="string"?this.onData(ee.buf2binstring(F.shrinkBuf(y.output,y.next_out))):this.onData(F.shrinkBuf(y.output,y.next_out)))}while((y.avail_in>0||y.avail_out===0)&&D!==c);return p===u?(D=Z.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===n):(p===s&&(this.onEnd(n),y.avail_out=0),!0)},o.prototype.onData=function(d){this.chunks.push(d)},o.prototype.onEnd=function(d){d===n&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=F.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function z(d,m){var y=new o(m);if(y.push(d,!0),y.err)throw y.msg||g[y.err];return y.result}function S(d,m){return m=m||{},m.raw=!0,z(d,m)}function h(d,m){return m=m||{},m.gzip=!0,z(d,m)}return ea.Deflate=o,ea.deflate=z,ea.deflateRaw=S,ea.gzip=h,ea}var aa={},Ue={},ua,Ia;function it(){if(Ia)return ua;Ia=1;var Z=30,F=12;return ua=function(g,re){var t,a,u,n,c,s,f,v,b,o,z,S,h,d,m,y,T,D,p,R,U,H,M,O,L;t=g.state,a=g.next_in,O=g.input,u=a+(g.avail_in-5),n=g.next_out,L=g.output,c=n-(re-g.avail_out),s=n+(g.avail_out-257),f=t.dmax,v=t.wsize,b=t.whave,o=t.wnext,z=t.window,S=t.hold,h=t.bits,d=t.lencode,m=t.distcode,y=(1<<t.lenbits)-1,T=(1<<t.distbits)-1;e:do{h<15&&(S+=O[a++]<<h,h+=8,S+=O[a++]<<h,h+=8),D=d[S&y];a:for(;;){if(p=D>>>24,S>>>=p,h-=p,p=D>>>16&255,p===0)L[n++]=D&65535;else if(p&16){R=D&65535,p&=15,p&&(h<p&&(S+=O[a++]<<h,h+=8),R+=S&(1<<p)-1,S>>>=p,h-=p),h<15&&(S+=O[a++]<<h,h+=8,S+=O[a++]<<h,h+=8),D=m[S&T];t:for(;;){if(p=D>>>24,S>>>=p,h-=p,p=D>>>16&255,p&16){if(U=D&65535,p&=15,h<p&&(S+=O[a++]<<h,h+=8,h<p&&(S+=O[a++]<<h,h+=8)),U+=S&(1<<p)-1,U>f){g.msg="invalid distance too far back",t.mode=Z;break e}if(S>>>=p,h-=p,p=n-c,U>p){if(p=U-p,p>b&&t.sane){g.msg="invalid distance too far back",t.mode=Z;break e}if(H=0,M=z,o===0){if(H+=v-p,p<R){R-=p;do L[n++]=z[H++];while(--p);H=n-U,M=L}}else if(o<p){if(H+=v+o-p,p-=o,p<R){R-=p;do L[n++]=z[H++];while(--p);if(H=0,o<R){p=o,R-=p;do L[n++]=z[H++];while(--p);H=n-U,M=L}}}else if(H+=o-p,p<R){R-=p;do L[n++]=z[H++];while(--p);H=n-U,M=L}for(;R>2;)L[n++]=M[H++],L[n++]=M[H++],L[n++]=M[H++],R-=3;R&&(L[n++]=M[H++],R>1&&(L[n++]=M[H++]))}else{H=n-U;do L[n++]=L[H++],L[n++]=L[H++],L[n++]=L[H++],R-=3;while(R>2);R&&(L[n++]=L[H++],R>1&&(L[n++]=L[H++]))}}else if(p&64){g.msg="invalid distance code",t.mode=Z;break e}else{D=m[(D&65535)+(S&(1<<p)-1)];continue t}break}}else if(p&64)if(p&32){t.mode=F;break e}else{g.msg="invalid literal/length code",t.mode=Z;break e}else{D=d[(D&65535)+(S&(1<<p)-1)];continue a}break}}while(a<u&&n<s);R=h>>3,a-=R,h-=R<<3,S&=(1<<h)-1,g.next_in=a,g.next_out=n,g.avail_in=a<u?5+(u-a):5-(a-u),g.avail_out=n<s?257+(s-n):257-(n-s),t.hold=S,t.bits=h},ua}var va,Ta;function nt(){if(Ta)return va;Ta=1;var Z=Je(),F=15,ee=852,g=592,re=0,t=1,a=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return va=function(v,b,o,z,S,h,d,m){var y=m.bits,T=0,D=0,p=0,R=0,U=0,H=0,M=0,O=0,L=0,K=0,J,$,q,X,oe,ke=null,Ie=0,we,ce=new Z.Buf16(F+1),xe=new Z.Buf16(F+1),ge=null,ue=0,de,fe,te;for(T=0;T<=F;T++)ce[T]=0;for(D=0;D<z;D++)ce[b[o+D]]++;for(U=y,R=F;R>=1&&ce[R]===0;R--);if(U>R&&(U=R),R===0)return S[h++]=1<<24|64<<16|0,S[h++]=1<<24|64<<16|0,m.bits=1,0;for(p=1;p<R&&ce[p]===0;p++);for(U<p&&(U=p),O=1,T=1;T<=F;T++)if(O<<=1,O-=ce[T],O<0)return-1;if(O>0&&(v===re||R!==1))return-1;for(xe[1]=0,T=1;T<F;T++)xe[T+1]=xe[T]+ce[T];for(D=0;D<z;D++)b[o+D]!==0&&(d[xe[b[o+D]]++]=D);if(v===re?(ke=ge=d,we=19):v===t?(ke=u,Ie-=257,ge=n,ue-=257,we=256):(ke=c,ge=s,we=-1),K=0,D=0,T=p,oe=h,H=U,M=0,q=-1,L=1<<U,X=L-1,v===t&&L>ee||v===a&&L>g)return 1;for(;;){de=T-M,d[D]<we?(fe=0,te=d[D]):d[D]>we?(fe=ge[ue+d[D]],te=ke[Ie+d[D]]):(fe=96,te=0),J=1<<T-M,$=1<<H,p=$;do $-=J,S[oe+(K>>M)+$]=de<<24|fe<<16|te|0;while($!==0);for(J=1<<T-1;K&J;)J>>=1;if(J!==0?(K&=J-1,K+=J):K=0,D++,--ce[T]===0){if(T===R)break;T=b[o+d[D]]}if(T>U&&(K&X)!==q){for(M===0&&(M=U),oe+=p,H=T-M,O=1<<H;H+M<R&&(O-=ce[H+M],!(O<=0));)H++,O<<=1;if(L+=1<<H,v===t&&L>ee||v===a&&L>g)return 1;q=K&X,S[q]=U<<24|H<<16|oe-h|0}}return K!==0&&(S[oe+K]=T-M<<24|64<<16|0),m.bits=U,0},va}var Ra;function lt(){if(Ra)return Ue;Ra=1;var Z=Je(),F=Oa(),ee=Fa(),g=it(),re=nt(),t=0,a=1,u=2,n=4,c=5,s=6,f=0,v=1,b=2,o=-2,z=-3,S=-4,h=-5,d=8,m=1,y=2,T=3,D=4,p=5,R=6,U=7,H=8,M=9,O=10,L=11,K=12,J=13,$=14,q=15,X=16,oe=17,ke=18,Ie=19,we=20,ce=21,xe=22,ge=23,ue=24,de=25,fe=26,te=27,Re=28,Ce=29,ae=30,be=31,j=32,ie=852,P=592,G=15,W=G;function le(w){return(w>>>24&255)+(w>>>8&65280)+((w&65280)<<8)+((w&255)<<24)}function Ee(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Z.Buf16(320),this.work=new Z.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _e(w){var A;return!w||!w.state?o:(A=w.state,w.total_in=w.total_out=A.total=0,w.msg="",A.wrap&&(w.adler=A.wrap&1),A.mode=m,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new Z.Buf32(ie),A.distcode=A.distdyn=new Z.Buf32(P),A.sane=1,A.back=-1,f)}function he(w){var A;return!w||!w.state?o:(A=w.state,A.wsize=0,A.whave=0,A.wnext=0,_e(w))}function Oe(w,A){var r,C;return!w||!w.state||(C=w.state,A<0?(r=0,A=-A):(r=(A>>4)+1,A<48&&(A&=15)),A&&(A<8||A>15))?o:(C.window!==null&&C.wbits!==A&&(C.window=null),C.wrap=r,C.wbits=A,he(w))}function Fe(w,A){var r,C;return w?(C=new Ee,w.state=C,C.window=null,r=Oe(w,A),r!==f&&(w.state=null),r):o}function Se(w){return Fe(w,W)}var Be=!0,ye,pe;function Ze(w){if(Be){var A;for(ye=new Z.Buf32(512),pe=new Z.Buf32(32),A=0;A<144;)w.lens[A++]=8;for(;A<256;)w.lens[A++]=9;for(;A<280;)w.lens[A++]=7;for(;A<288;)w.lens[A++]=8;for(re(a,w.lens,0,288,ye,0,w.work,{bits:9}),A=0;A<32;)w.lens[A++]=5;re(u,w.lens,0,32,pe,0,w.work,{bits:5}),Be=!1}w.lencode=ye,w.lenbits=9,w.distcode=pe,w.distbits=5}function Te(w,A,r,C){var ne,e=w.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new Z.Buf8(e.wsize)),C>=e.wsize?(Z.arraySet(e.window,A,r-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(ne=e.wsize-e.wnext,ne>C&&(ne=C),Z.arraySet(e.window,A,r-C,ne,e.wnext),C-=ne,C?(Z.arraySet(e.window,A,r-C,C,0),e.wnext=C,e.whave=e.wsize):(e.wnext+=ne,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=ne))),0}function l(w,A){var r,C,ne,e,k,E,i,_,x,Q,N,Y,ve,Ve,me=0,se,ze,Le,He,ta,ra,Ae,Ne,De=new Z.Buf8(4),$e,Ye,ga=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return o;r=w.state,r.mode===K&&(r.mode=J),k=w.next_out,ne=w.output,i=w.avail_out,e=w.next_in,C=w.input,E=w.avail_in,_=r.hold,x=r.bits,Q=E,N=i,Ne=f;e:for(;;)switch(r.mode){case m:if(r.wrap===0){r.mode=J;break}for(;x<16;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if(r.wrap&2&&_===35615){r.check=0,De[0]=_&255,De[1]=_>>>8&255,r.check=ee(r.check,De,2,0),_=0,x=0,r.mode=y;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((_&255)<<8)+(_>>8))%31){w.msg="incorrect header check",r.mode=ae;break}if((_&15)!==d){w.msg="unknown compression method",r.mode=ae;break}if(_>>>=4,x-=4,Ae=(_&15)+8,r.wbits===0)r.wbits=Ae;else if(Ae>r.wbits){w.msg="invalid window size",r.mode=ae;break}r.dmax=1<<Ae,w.adler=r.check=1,r.mode=_&512?O:K,_=0,x=0;break;case y:for(;x<16;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if(r.flags=_,(r.flags&255)!==d){w.msg="unknown compression method",r.mode=ae;break}if(r.flags&57344){w.msg="unknown header flags set",r.mode=ae;break}r.head&&(r.head.text=_>>8&1),r.flags&512&&(De[0]=_&255,De[1]=_>>>8&255,r.check=ee(r.check,De,2,0)),_=0,x=0,r.mode=T;case T:for(;x<32;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}r.head&&(r.head.time=_),r.flags&512&&(De[0]=_&255,De[1]=_>>>8&255,De[2]=_>>>16&255,De[3]=_>>>24&255,r.check=ee(r.check,De,4,0)),_=0,x=0,r.mode=D;case D:for(;x<16;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}r.head&&(r.head.xflags=_&255,r.head.os=_>>8),r.flags&512&&(De[0]=_&255,De[1]=_>>>8&255,r.check=ee(r.check,De,2,0)),_=0,x=0,r.mode=p;case p:if(r.flags&1024){for(;x<16;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}r.length=_,r.head&&(r.head.extra_len=_),r.flags&512&&(De[0]=_&255,De[1]=_>>>8&255,r.check=ee(r.check,De,2,0)),_=0,x=0}else r.head&&(r.head.extra=null);r.mode=R;case R:if(r.flags&1024&&(Y=r.length,Y>E&&(Y=E),Y&&(r.head&&(Ae=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Z.arraySet(r.head.extra,C,e,Y,Ae)),r.flags&512&&(r.check=ee(r.check,C,Y,e)),E-=Y,e+=Y,r.length-=Y),r.length))break e;r.length=0,r.mode=U;case U:if(r.flags&2048){if(E===0)break e;Y=0;do Ae=C[e+Y++],r.head&&Ae&&r.length<65536&&(r.head.name+=String.fromCharCode(Ae));while(Ae&&Y<E);if(r.flags&512&&(r.check=ee(r.check,C,Y,e)),E-=Y,e+=Y,Ae)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=H;case H:if(r.flags&4096){if(E===0)break e;Y=0;do Ae=C[e+Y++],r.head&&Ae&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ae));while(Ae&&Y<E);if(r.flags&512&&(r.check=ee(r.check,C,Y,e)),E-=Y,e+=Y,Ae)break e}else r.head&&(r.head.comment=null);r.mode=M;case M:if(r.flags&512){for(;x<16;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if(_!==(r.check&65535)){w.msg="header crc mismatch",r.mode=ae;break}_=0,x=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),w.adler=r.check=0,r.mode=K;break;case O:for(;x<32;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}w.adler=r.check=le(_),_=0,x=0,r.mode=L;case L:if(r.havedict===0)return w.next_out=k,w.avail_out=i,w.next_in=e,w.avail_in=E,r.hold=_,r.bits=x,b;w.adler=r.check=1,r.mode=K;case K:if(A===c||A===s)break e;case J:if(r.last){_>>>=x&7,x-=x&7,r.mode=te;break}for(;x<3;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}switch(r.last=_&1,_>>>=1,x-=1,_&3){case 0:r.mode=$;break;case 1:if(Ze(r),r.mode=we,A===s){_>>>=2,x-=2;break e}break;case 2:r.mode=oe;break;case 3:w.msg="invalid block type",r.mode=ae}_>>>=2,x-=2;break;case $:for(_>>>=x&7,x-=x&7;x<32;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if((_&65535)!==(_>>>16^65535)){w.msg="invalid stored block lengths",r.mode=ae;break}if(r.length=_&65535,_=0,x=0,r.mode=q,A===s)break e;case q:r.mode=X;case X:if(Y=r.length,Y){if(Y>E&&(Y=E),Y>i&&(Y=i),Y===0)break e;Z.arraySet(ne,C,e,Y,k),E-=Y,e+=Y,i-=Y,k+=Y,r.length-=Y;break}r.mode=K;break;case oe:for(;x<14;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if(r.nlen=(_&31)+257,_>>>=5,x-=5,r.ndist=(_&31)+1,_>>>=5,x-=5,r.ncode=(_&15)+4,_>>>=4,x-=4,r.nlen>286||r.ndist>30){w.msg="too many length or distance symbols",r.mode=ae;break}r.have=0,r.mode=ke;case ke:for(;r.have<r.ncode;){for(;x<3;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}r.lens[ga[r.have++]]=_&7,_>>>=3,x-=3}for(;r.have<19;)r.lens[ga[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$e={bits:r.lenbits},Ne=re(t,r.lens,0,19,r.lencode,0,r.work,$e),r.lenbits=$e.bits,Ne){w.msg="invalid code lengths set",r.mode=ae;break}r.have=0,r.mode=Ie;case Ie:for(;r.have<r.nlen+r.ndist;){for(;me=r.lencode[_&(1<<r.lenbits)-1],se=me>>>24,ze=me>>>16&255,Le=me&65535,!(se<=x);){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if(Le<16)_>>>=se,x-=se,r.lens[r.have++]=Le;else{if(Le===16){for(Ye=se+2;x<Ye;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if(_>>>=se,x-=se,r.have===0){w.msg="invalid bit length repeat",r.mode=ae;break}Ae=r.lens[r.have-1],Y=3+(_&3),_>>>=2,x-=2}else if(Le===17){for(Ye=se+3;x<Ye;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}_>>>=se,x-=se,Ae=0,Y=3+(_&7),_>>>=3,x-=3}else{for(Ye=se+7;x<Ye;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}_>>>=se,x-=se,Ae=0,Y=11+(_&127),_>>>=7,x-=7}if(r.have+Y>r.nlen+r.ndist){w.msg="invalid bit length repeat",r.mode=ae;break}for(;Y--;)r.lens[r.have++]=Ae}}if(r.mode===ae)break;if(r.lens[256]===0){w.msg="invalid code -- missing end-of-block",r.mode=ae;break}if(r.lenbits=9,$e={bits:r.lenbits},Ne=re(a,r.lens,0,r.nlen,r.lencode,0,r.work,$e),r.lenbits=$e.bits,Ne){w.msg="invalid literal/lengths set",r.mode=ae;break}if(r.distbits=6,r.distcode=r.distdyn,$e={bits:r.distbits},Ne=re(u,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$e),r.distbits=$e.bits,Ne){w.msg="invalid distances set",r.mode=ae;break}if(r.mode=we,A===s)break e;case we:r.mode=ce;case ce:if(E>=6&&i>=258){w.next_out=k,w.avail_out=i,w.next_in=e,w.avail_in=E,r.hold=_,r.bits=x,g(w,N),k=w.next_out,ne=w.output,i=w.avail_out,e=w.next_in,C=w.input,E=w.avail_in,_=r.hold,x=r.bits,r.mode===K&&(r.back=-1);break}for(r.back=0;me=r.lencode[_&(1<<r.lenbits)-1],se=me>>>24,ze=me>>>16&255,Le=me&65535,!(se<=x);){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if(ze&&!(ze&240)){for(He=se,ta=ze,ra=Le;me=r.lencode[ra+((_&(1<<He+ta)-1)>>He)],se=me>>>24,ze=me>>>16&255,Le=me&65535,!(He+se<=x);){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}_>>>=He,x-=He,r.back+=He}if(_>>>=se,x-=se,r.back+=se,r.length=Le,ze===0){r.mode=fe;break}if(ze&32){r.back=-1,r.mode=K;break}if(ze&64){w.msg="invalid literal/length code",r.mode=ae;break}r.extra=ze&15,r.mode=xe;case xe:if(r.extra){for(Ye=r.extra;x<Ye;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}r.length+=_&(1<<r.extra)-1,_>>>=r.extra,x-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=ge;case ge:for(;me=r.distcode[_&(1<<r.distbits)-1],se=me>>>24,ze=me>>>16&255,Le=me&65535,!(se<=x);){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if(!(ze&240)){for(He=se,ta=ze,ra=Le;me=r.distcode[ra+((_&(1<<He+ta)-1)>>He)],se=me>>>24,ze=me>>>16&255,Le=me&65535,!(He+se<=x);){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}_>>>=He,x-=He,r.back+=He}if(_>>>=se,x-=se,r.back+=se,ze&64){w.msg="invalid distance code",r.mode=ae;break}r.offset=Le,r.extra=ze&15,r.mode=ue;case ue:if(r.extra){for(Ye=r.extra;x<Ye;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}r.offset+=_&(1<<r.extra)-1,_>>>=r.extra,x-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){w.msg="invalid distance too far back",r.mode=ae;break}r.mode=de;case de:if(i===0)break e;if(Y=N-i,r.offset>Y){if(Y=r.offset-Y,Y>r.whave&&r.sane){w.msg="invalid distance too far back",r.mode=ae;break}Y>r.wnext?(Y-=r.wnext,ve=r.wsize-Y):ve=r.wnext-Y,Y>r.length&&(Y=r.length),Ve=r.window}else Ve=ne,ve=k-r.offset,Y=r.length;Y>i&&(Y=i),i-=Y,r.length-=Y;do ne[k++]=Ve[ve++];while(--Y);r.length===0&&(r.mode=ce);break;case fe:if(i===0)break e;ne[k++]=r.length,i--,r.mode=ce;break;case te:if(r.wrap){for(;x<32;){if(E===0)break e;E--,_|=C[e++]<<x,x+=8}if(N-=i,w.total_out+=N,r.total+=N,N&&(w.adler=r.check=r.flags?ee(r.check,ne,N,k-N):F(r.check,ne,N,k-N)),N=i,(r.flags?_:le(_))!==r.check){w.msg="incorrect data check",r.mode=ae;break}_=0,x=0}r.mode=Re;case Re:if(r.wrap&&r.flags){for(;x<32;){if(E===0)break e;E--,_+=C[e++]<<x,x+=8}if(_!==(r.total&4294967295)){w.msg="incorrect length check",r.mode=ae;break}_=0,x=0}r.mode=Ce;case Ce:Ne=v;break e;case ae:Ne=z;break e;case be:return S;case j:default:return o}return w.next_out=k,w.avail_out=i,w.next_in=e,w.avail_in=E,r.hold=_,r.bits=x,(r.wsize||N!==w.avail_out&&r.mode<ae&&(r.mode<te||A!==n))&&Te(w,w.output,w.next_out,N-w.avail_out),Q-=w.avail_in,N-=w.avail_out,w.total_in+=Q,w.total_out+=N,r.total+=N,r.wrap&&N&&(w.adler=r.check=r.flags?ee(r.check,ne,N,w.next_out-N):F(r.check,ne,N,w.next_out-N)),w.data_type=r.bits+(r.last?64:0)+(r.mode===K?128:0)+(r.mode===we||r.mode===q?256:0),(Q===0&&N===0||A===n)&&Ne===f&&(Ne=h),Ne}function I(w){if(!w||!w.state)return o;var A=w.state;return A.window&&(A.window=null),w.state=null,f}function B(w,A){var r;return!w||!w.state||(r=w.state,!(r.wrap&2))?o:(r.head=A,A.done=!1,f)}function V(w,A){var r=A.length,C,ne,e;return!w||!w.state||(C=w.state,C.wrap!==0&&C.mode!==L)?o:C.mode===L&&(ne=1,ne=F(ne,A,r,0),ne!==C.check)?z:(e=Te(w,A,r,r),e?(C.mode=be,S):(C.havedict=1,f))}return Ue.inflateReset=he,Ue.inflateReset2=Oe,Ue.inflateResetKeep=_e,Ue.inflateInit=Se,Ue.inflateInit2=Fe,Ue.inflate=l,Ue.inflateEnd=I,Ue.inflateGetHeader=B,Ue.inflateSetDictionary=V,Ue.inflateInfo="pako inflate (from Nodeca project)",Ue}var sa,Ca;function Na(){return Ca||(Ca=1,sa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),sa}var da,Da;function ft(){if(Da)return da;Da=1;function Z(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return da=Z,da}var Ba;function ot(){if(Ba)return aa;Ba=1;var Z=lt(),F=Je(),ee=Ha(),g=Na(),re=ca(),t=qa(),a=ft(),u=Object.prototype.toString;function n(f){if(!(this instanceof n))return new n(f);this.options=F.assign({chunkSize:16384,windowBits:0,to:""},f||{});var v=this.options;v.raw&&v.windowBits>=0&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),v.windowBits>=0&&v.windowBits<16&&!(f&&f.windowBits)&&(v.windowBits+=32),v.windowBits>15&&v.windowBits<48&&(v.windowBits&15||(v.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t,this.strm.avail_out=0;var b=Z.inflateInit2(this.strm,v.windowBits);if(b!==g.Z_OK)throw new Error(re[b]);if(this.header=new a,Z.inflateGetHeader(this.strm,this.header),v.dictionary&&(typeof v.dictionary=="string"?v.dictionary=ee.string2buf(v.dictionary):u.call(v.dictionary)==="[object ArrayBuffer]"&&(v.dictionary=new Uint8Array(v.dictionary)),v.raw&&(b=Z.inflateSetDictionary(this.strm,v.dictionary),b!==g.Z_OK)))throw new Error(re[b])}n.prototype.push=function(f,v){var b=this.strm,o=this.options.chunkSize,z=this.options.dictionary,S,h,d,m,y,T=!1;if(this.ended)return!1;h=v===~~v?v:v===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof f=="string"?b.input=ee.binstring2buf(f):u.call(f)==="[object ArrayBuffer]"?b.input=new Uint8Array(f):b.input=f,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new F.Buf8(o),b.next_out=0,b.avail_out=o),S=Z.inflate(b,g.Z_NO_FLUSH),S===g.Z_NEED_DICT&&z&&(S=Z.inflateSetDictionary(this.strm,z)),S===g.Z_BUF_ERROR&&T===!0&&(S=g.Z_OK,T=!1),S!==g.Z_STREAM_END&&S!==g.Z_OK)return this.onEnd(S),this.ended=!0,!1;b.next_out&&(b.avail_out===0||S===g.Z_STREAM_END||b.avail_in===0&&(h===g.Z_FINISH||h===g.Z_SYNC_FLUSH))&&(this.options.to==="string"?(d=ee.utf8border(b.output,b.next_out),m=b.next_out-d,y=ee.buf2string(b.output,d),b.next_out=m,b.avail_out=o-m,m&&F.arraySet(b.output,b.output,d,m,0),this.onData(y)):this.onData(F.shrinkBuf(b.output,b.next_out))),b.avail_in===0&&b.avail_out===0&&(T=!0)}while((b.avail_in>0||b.avail_out===0)&&S!==g.Z_STREAM_END);return S===g.Z_STREAM_END&&(h=g.Z_FINISH),h===g.Z_FINISH?(S=Z.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===g.Z_OK):(h===g.Z_SYNC_FLUSH&&(this.onEnd(g.Z_OK),b.avail_out=0),!0)},n.prototype.onData=function(f){this.chunks.push(f)},n.prototype.onEnd=function(f){f===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=F.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function c(f,v){var b=new n(v);if(b.push(f,!0),b.err)throw b.msg||re[b.err];return b.result}function s(f,v){return v=v||{},v.raw=!0,c(f,v)}return aa.Inflate=n,aa.inflate=c,aa.inflateRaw=s,aa.ungzip=c,aa}var _a,Za;function ht(){if(Za)return _a;Za=1;var Z=Je().assign,F=rt(),ee=ot(),g=Na(),re={};return Z(re,F,ee,g),_a=re,_a}(function(Z){(function(){var F={},ee;Z.exports=F,typeof $a=="function"?ee=ht():ee=window.pako,function(g,re){g.toRGBA8=function(t){var a=t.width,u=t.height;if(t.tabs.acTL==null)return[g.toRGBA8.decodeImage(t.data,a,u,t).buffer];var n=[];t.frames[0].data==null&&(t.frames[0].data=t.data);for(var c,s=new Uint8Array(a*u*4),f=0;f<t.frames.length;f++){var v=t.frames[f],b=v.rect.x,o=v.rect.y,z=v.rect.width,S=v.rect.height,h=g.toRGBA8.decodeImage(v.data,z,S,t);if(f==0?c=h:v.blend==0?g._copyTile(h,z,S,c,a,u,b,o,0):v.blend==1&&g._copyTile(h,z,S,c,a,u,b,o,1),n.push(c.buffer),c=c.slice(0),v.dispose!=0){if(v.dispose==1)g._copyTile(s,z,S,c,a,u,b,o,0);else if(v.dispose==2){for(var d=f-1;t.frames[d].dispose==2;)d--;c=new Uint8Array(n[d]).slice(0)}}}return n},g.toRGBA8.decodeImage=function(t,a,u,n){var c=a*u,s=g.decode._getBPP(n),f=Math.ceil(a*s/8),v=new Uint8Array(c*4),b=new Uint32Array(v.buffer),o=n.ctype,z=n.depth,S=g._bin.readUshort;if(o==6){var h=c<<2;if(z==8)for(var d=0;d<h;d++)v[d]=t[d];if(z==16)for(var d=0;d<h;d++)v[d]=t[d<<1]}else if(o==2){var m=n.tabs.tRNS,y=-1,T=-1,D=-1;if(m&&(y=m[0],T=m[1],D=m[2]),z==8)for(var d=0;d<c;d++){var p=d<<2,R=d*3;v[p]=t[R],v[p+1]=t[R+1],v[p+2]=t[R+2],v[p+3]=255,y!=-1&&t[R]==y&&t[R+1]==T&&t[R+2]==D&&(v[p+3]=0)}if(z==16)for(var d=0;d<c;d++){var p=d<<2,R=d*6;v[p]=t[R],v[p+1]=t[R+2],v[p+2]=t[R+4],v[p+3]=255,y!=-1&&S(t,R)==y&&S(t,R+2)==T&&S(t,R+4)==D&&(v[p+3]=0)}}else if(o==3){var U=n.tabs.PLTE,H=n.tabs.tRNS,M=H?H.length:0;if(z==1)for(var O=0;O<u;O++)for(var L=O*f,K=O*a,d=0;d<a;d++){var p=K+d<<2,J=t[L+(d>>3)]>>7-((d&7)<<0)&1,$=3*J;v[p]=U[$],v[p+1]=U[$+1],v[p+2]=U[$+2],v[p+3]=J<M?H[J]:255}if(z==2)for(var O=0;O<u;O++)for(var L=O*f,K=O*a,d=0;d<a;d++){var p=K+d<<2,J=t[L+(d>>2)]>>6-((d&3)<<1)&3,$=3*J;v[p]=U[$],v[p+1]=U[$+1],v[p+2]=U[$+2],v[p+3]=J<M?H[J]:255}if(z==4)for(var O=0;O<u;O++)for(var L=O*f,K=O*a,d=0;d<a;d++){var p=K+d<<2,J=t[L+(d>>1)]>>4-((d&1)<<2)&15,$=3*J;v[p]=U[$],v[p+1]=U[$+1],v[p+2]=U[$+2],v[p+3]=J<M?H[J]:255}if(z==8)for(var d=0;d<c;d++){var p=d<<2,J=t[d],$=3*J;v[p]=U[$],v[p+1]=U[$+1],v[p+2]=U[$+2],v[p+3]=J<M?H[J]:255}}else if(o==4){if(z==8)for(var d=0;d<c;d++){var p=d<<2,q=d<<1,X=t[q];v[p]=X,v[p+1]=X,v[p+2]=X,v[p+3]=t[q+1]}if(z==16)for(var d=0;d<c;d++){var p=d<<2,q=d<<2,X=t[q];v[p]=X,v[p+1]=X,v[p+2]=X,v[p+3]=t[q+2]}}else if(o==0){var y=n.tabs.tRNS?n.tabs.tRNS:-1;if(z==1)for(var d=0;d<c;d++){var X=255*(t[d>>3]>>7-(d&7)&1),oe=X==y*255?0:255;b[d]=oe<<24|X<<16|X<<8|X}if(z==2)for(var d=0;d<c;d++){var X=85*(t[d>>2]>>6-((d&3)<<1)&3),oe=X==y*85?0:255;b[d]=oe<<24|X<<16|X<<8|X}if(z==4)for(var d=0;d<c;d++){var X=17*(t[d>>1]>>4-((d&1)<<2)&15),oe=X==y*17?0:255;b[d]=oe<<24|X<<16|X<<8|X}if(z==8)for(var d=0;d<c;d++){var X=t[d],oe=X==y?0:255;b[d]=oe<<24|X<<16|X<<8|X}if(z==16)for(var d=0;d<c;d++){var X=t[d<<1],oe=S(t,d<<1)==y?0:255;b[d]=oe<<24|X<<16|X<<8|X}}return v},g.decode=function(t){for(var a=new Uint8Array(t),u=8,n=g._bin,c=n.readUshort,s=n.readUint,f={tabs:{},frames:[]},v=new Uint8Array(a.length),b=0,o,z=0,S=[137,80,78,71,13,10,26,10],h=0;h<8;h++)if(a[h]!=S[h])throw"The input is not a PNG file!";for(;u<a.length;){var d=n.readUint(a,u);u+=4;var m=n.readASCII(a,u,4);if(u+=4,m=="IHDR")g.decode._IHDR(a,u,f);else if(m=="IDAT"){for(var h=0;h<d;h++)v[b+h]=a[u+h];b+=d}else if(m=="acTL")f.tabs[m]={num_frames:s(a,u),num_plays:s(a,u+4)},o=new Uint8Array(a.length);else if(m=="fcTL"){if(z!=0){var y=f.frames[f.frames.length-1];y.data=g.decode._decompress(f,o.slice(0,z),y.rect.width,y.rect.height),z=0}var T={x:s(a,u+12),y:s(a,u+16),width:s(a,u+4),height:s(a,u+8)},D=c(a,u+22);D=c(a,u+20)/(D==0?100:D);var p={rect:T,delay:Math.round(D*1e3),dispose:a[u+24],blend:a[u+25]};f.frames.push(p)}else if(m=="fdAT"){for(var h=0;h<d-4;h++)o[z+h]=a[u+h+4];z+=d-4}else if(m=="pHYs")f.tabs[m]=[n.readUint(a,u),n.readUint(a,u+4),a[u+8]];else if(m=="cHRM"){f.tabs[m]=[];for(var h=0;h<8;h++)f.tabs[m].push(n.readUint(a,u+h*4))}else if(m=="tEXt"){f.tabs[m]==null&&(f.tabs[m]={});var R=n.nextZero(a,u),U=n.readASCII(a,u,R-u),H=n.readASCII(a,R+1,u+d-R-1);f.tabs[m][U]=H}else if(m=="iTXt"){f.tabs[m]==null&&(f.tabs[m]={});var R=0,M=u;R=n.nextZero(a,M);var U=n.readASCII(a,M,R-M);M=R+1,a[M],a[M+1],M+=2,R=n.nextZero(a,M),n.readASCII(a,M,R-M),M=R+1,R=n.nextZero(a,M),n.readUTF8(a,M,R-M),M=R+1;var H=n.readUTF8(a,M,d-(M-u));f.tabs[m][U]=H}else if(m=="PLTE")f.tabs[m]=n.readBytes(a,u,d);else if(m=="hIST"){var O=f.tabs.PLTE.length/3;f.tabs[m]=[];for(var h=0;h<O;h++)f.tabs[m].push(c(a,u+h*2))}else if(m=="tRNS")f.ctype==3?f.tabs[m]=n.readBytes(a,u,d):f.ctype==0?f.tabs[m]=c(a,u):f.ctype==2&&(f.tabs[m]=[c(a,u),c(a,u+2),c(a,u+4)]);else if(m=="gAMA")f.tabs[m]=n.readUint(a,u)/1e5;else if(m=="sRGB")f.tabs[m]=a[u];else if(m=="bKGD")f.ctype==0||f.ctype==4?f.tabs[m]=[c(a,u)]:f.ctype==2||f.ctype==6?f.tabs[m]=[c(a,u),c(a,u+2),c(a,u+4)]:f.ctype==3&&(f.tabs[m]=a[u]);else if(m=="IEND"){if(z!=0){var y=f.frames[f.frames.length-1];y.data=g.decode._decompress(f,o.slice(0,z),y.rect.width,y.rect.height),z=0}f.data=g.decode._decompress(f,v,f.width,f.height);break}u+=d,n.readUint(a,u),u+=4}return delete f.compress,delete f.interlace,delete f.filter,f},g.decode._decompress=function(t,a,u,n){return t.compress==0&&(a=g.decode._inflate(a)),t.interlace==0?a=g.decode._filterZero(a,t,0,u,n):t.interlace==1&&(a=g.decode._readInterlace(a,t)),a},g.decode._inflate=function(t){return re.inflate(t)},g.decode._readInterlace=function(t,a){for(var u=a.width,n=a.height,c=g.decode._getBPP(a),s=c>>3,f=Math.ceil(u*c/8),v=new Uint8Array(n*f),b=0,o=[0,0,4,0,2,0,1],z=[0,4,0,2,0,1,0],S=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],d=0;d<7;){for(var m=S[d],y=h[d],T=0,D=0,p=o[d];p<n;)p+=m,D++;for(var R=z[d];R<u;)R+=y,T++;var U=Math.ceil(T*c/8);g.decode._filterZero(t,a,b,T,D);for(var H=0,M=o[d];M<n;){for(var O=z[d],L=b+H*U<<3;O<u;){if(c==1){var K=t[L>>3];K=K>>7-(L&7)&1,v[M*f+(O>>3)]|=K<<7-((O&3)<<0)}if(c==2){var K=t[L>>3];K=K>>6-(L&7)&3,v[M*f+(O>>2)]|=K<<6-((O&3)<<1)}if(c==4){var K=t[L>>3];K=K>>4-(L&7)&15,v[M*f+(O>>1)]|=K<<4-((O&1)<<2)}if(c>=8)for(var J=M*f+O*s,$=0;$<s;$++)v[J+$]=t[(L>>3)+$];L+=c,O+=y}H++,M+=m}T*D!=0&&(b+=D*(1+U)),d=d+1}return v},g.decode._getBPP=function(t){var a=[1,null,3,1,2,null,4][t.ctype];return a*t.depth},g.decode._filterZero=function(t,a,u,n,c){var s=g.decode._getBPP(a),f=Math.ceil(n*s/8),v=g.decode._paeth;s=Math.ceil(s/8);for(var b=0;b<c;b++){var o=u+b*f,z=o+b+1,S=t[z-1];if(S==0)for(var h=0;h<f;h++)t[o+h]=t[z+h];else if(S==1){for(var h=0;h<s;h++)t[o+h]=t[z+h];for(var h=s;h<f;h++)t[o+h]=t[z+h]+t[o+h-s]&255}else if(b==0){for(var h=0;h<s;h++)t[o+h]=t[z+h];if(S==2)for(var h=s;h<f;h++)t[o+h]=t[z+h]&255;if(S==3)for(var h=s;h<f;h++)t[o+h]=t[z+h]+(t[o+h-s]>>1)&255;if(S==4)for(var h=s;h<f;h++)t[o+h]=t[z+h]+v(t[o+h-s],0,0)&255}else{if(S==2)for(var h=0;h<f;h++)t[o+h]=t[z+h]+t[o+h-f]&255;if(S==3){for(var h=0;h<s;h++)t[o+h]=t[z+h]+(t[o+h-f]>>1)&255;for(var h=s;h<f;h++)t[o+h]=t[z+h]+(t[o+h-f]+t[o+h-s]>>1)&255}if(S==4){for(var h=0;h<s;h++)t[o+h]=t[z+h]+v(0,t[o+h-f],0)&255;for(var h=s;h<f;h++)t[o+h]=t[z+h]+v(t[o+h-s],t[o+h-f],t[o+h-s-f])&255}}}return t},g.decode._paeth=function(t,a,u){var n=t+a-u,c=Math.abs(n-t),s=Math.abs(n-a),f=Math.abs(n-u);return c<=s&&c<=f?t:s<=f?a:u},g.decode._IHDR=function(t,a,u){var n=g._bin;u.width=n.readUint(t,a),a+=4,u.height=n.readUint(t,a),a+=4,u.depth=t[a],a++,u.ctype=t[a],a++,u.compress=t[a],a++,u.filter=t[a],a++,u.interlace=t[a],a++},g._bin={nextZero:function(t,a){for(;t[a]!=0;)a++;return a},readUshort:function(t,a){return t[a]<<8|t[a+1]},writeUshort:function(t,a,u){t[a]=u>>8&255,t[a+1]=u&255},readUint:function(t,a){return t[a]*(256*256*256)+(t[a+1]<<16|t[a+2]<<8|t[a+3])},writeUint:function(t,a,u){t[a]=u>>24&255,t[a+1]=u>>16&255,t[a+2]=u>>8&255,t[a+3]=u&255},readASCII:function(t,a,u){for(var n="",c=0;c<u;c++)n+=String.fromCharCode(t[a+c]);return n},writeASCII:function(t,a,u){for(var n=0;n<u.length;n++)t[a+n]=u.charCodeAt(n)},readBytes:function(t,a,u){for(var n=[],c=0;c<u;c++)n.push(t[a+c]);return n},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,a,u){for(var n="",c,s=0;s<u;s++)n+="%"+g._bin.pad(t[a+s].toString(16));try{c=decodeURIComponent(n)}catch{return g._bin.readASCII(t,a,u)}return c}},g._copyTile=function(t,a,u,n,c,s,f,v,b){for(var o=Math.min(a,c),z=Math.min(u,s),S=0,h=0,d=0;d<z;d++)for(var m=0;m<o;m++)if(f>=0&&v>=0?(S=d*a+m<<2,h=(v+d)*c+f+m<<2):(S=(-v+d)*a-f+m<<2,h=d*c+m<<2),b==0)n[h]=t[S],n[h+1]=t[S+1],n[h+2]=t[S+2],n[h+3]=t[S+3];else if(b==1){var y=t[S+3]*.00392156862745098,T=t[S]*y,D=t[S+1]*y,p=t[S+2]*y,R=n[h+3]*(1/255),U=n[h]*R,H=n[h+1]*R,M=n[h+2]*R,O=1-y,L=y+R*O,K=L==0?0:1/L;n[h+3]=255*L,n[h+0]=(T+U*O)*K,n[h+1]=(D+H*O)*K,n[h+2]=(p+M*O)*K}else if(b==2){var y=t[S+3],T=t[S],D=t[S+1],p=t[S+2],R=n[h+3],U=n[h],H=n[h+1],M=n[h+2];y==R&&T==U&&D==H&&p==M?(n[h]=0,n[h+1]=0,n[h+2]=0,n[h+3]=0):(n[h]=T,n[h+1]=D,n[h+2]=p,n[h+3]=y)}else if(b==3){var y=t[S+3],T=t[S],D=t[S+1],p=t[S+2],R=n[h+3],U=n[h],H=n[h+1],M=n[h+2];if(y==R&&T==U&&D==H&&p==M)continue;if(y<220&&R>20)return!1}return!0},g.encode=function(t,a,u,n,c,s){n==null&&(n=0),s==null&&(s=!1);for(var f=new Uint8Array(t[0].byteLength*t.length+100),v=[137,80,78,71,13,10,26,10],b=0;b<8;b++)f[b]=v[b];var o=8,z=g._bin,S=g.crc.crc,h=z.writeUint,d=z.writeUshort,m=z.writeASCII,y=g.encode.compressPNG(t,a,u,n,s);h(f,o,13),o+=4,m(f,o,"IHDR"),o+=4,h(f,o,a),o+=4,h(f,o,u),o+=4,f[o]=y.depth,o++,f[o]=y.ctype,o++,f[o]=0,o++,f[o]=0,o++,f[o]=0,o++,h(f,o,S(f,o-17,17)),o+=4,h(f,o,1),o+=4,m(f,o,"sRGB"),o+=4,f[o]=1,o++,h(f,o,S(f,o-5,5)),o+=4;var T=t.length>1;if(T&&(h(f,o,8),o+=4,m(f,o,"acTL"),o+=4,h(f,o,t.length),o+=4,h(f,o,0),o+=4,h(f,o,S(f,o-12,12)),o+=4),y.ctype==3){var D=y.plte.length;h(f,o,D*3),o+=4,m(f,o,"PLTE"),o+=4;for(var b=0;b<D;b++){var p=b*3,R=y.plte[b],U=R&255,H=R>>8&255,M=R>>16&255;f[o+p+0]=U,f[o+p+1]=H,f[o+p+2]=M}if(o+=D*3,h(f,o,S(f,o-D*3-4,D*3+4)),o+=4,y.gotAlpha){h(f,o,D),o+=4,m(f,o,"tRNS"),o+=4;for(var b=0;b<D;b++)f[o+b]=y.plte[b]>>24&255;o+=D,h(f,o,S(f,o-D-4,D+4)),o+=4}}for(var O=0,L=0;L<y.frames.length;L++){var K=y.frames[L];T&&(h(f,o,26),o+=4,m(f,o,"fcTL"),o+=4,h(f,o,O++),o+=4,h(f,o,K.rect.width),o+=4,h(f,o,K.rect.height),o+=4,h(f,o,K.rect.x),o+=4,h(f,o,K.rect.y),o+=4,d(f,o,c[L]),o+=2,d(f,o,1e3),o+=2,f[o]=K.dispose,o++,f[o]=K.blend,o++,h(f,o,S(f,o-30,30)),o+=4);var J=K.cimg,D=J.length;h(f,o,D+(L==0?0:4)),o+=4;var $=o;m(f,o,L==0?"IDAT":"fdAT"),o+=4,L!=0&&(h(f,o,O++),o+=4);for(var b=0;b<D;b++)f[o+b]=J[b];o+=D,h(f,o,S(f,$,o-$)),o+=4}return h(f,o,0),o+=4,m(f,o,"IEND"),o+=4,h(f,o,S(f,o-4,4)),o+=4,f.buffer.slice(0,o)},g.encode.compressPNG=function(t,a,u,n,c){for(var s=g.encode.compress(t,a,u,n,!1,c),f=0;f<t.length;f++){var v=s.frames[f];v.rect.width;var b=v.rect.height,o=v.bpl,z=v.bpp,S=new Uint8Array(b*o+b);v.cimg=g.encode._filterZero(v.img,b,z,o,S)}return s},g.encode.compress=function(t,a,u,n,c,s){s==null&&(s=!1);for(var f=6,v=8,b=4,o=255,z=0;z<t.length;z++)for(var S=new Uint8Array(t[z]),h=S.length,d=0;d<h;d+=4)o&=S[d+3];var m=o!=255,y={},T=[];if(t.length!=0&&(y[0]=0,T.push(0),n!=0&&n--),n!=0){var D=g.quantize(t,n,c);t=D.bufs;for(var d=0;d<D.plte.length;d++){var p=D.plte[d].est.rgba;y[p]==null&&(y[p]=T.length,T.push(p))}}else for(var z=0;z<t.length;z++)for(var R=new Uint32Array(t[z]),h=R.length,d=0;d<h;d++){var p=R[d];if((d<a||p!=R[d-1]&&p!=R[d-a])&&y[p]==null&&(y[p]=T.length,T.push(p),T.length>=300))break}var U=m?c:!1,H=T.length;H<=256&&s==!1&&(H<=2?v=1:H<=4?v=2:H<=16?v=4:v=8,c&&(v=8),m=!0);for(var M=[],z=0;z<t.length;z++){var O=new Uint8Array(t[z]),L=new Uint32Array(O.buffer),K=0,J=0,$=a,q=u,X=0;if(z!=0&&!U){for(var oe=c||z==1||M[M.length-2].dispose==2?1:2,ke=0,Ie=1e9,we=0;we<oe;we++){for(var Ce=new Uint8Array(t[z-1-we]),ce=new Uint32Array(t[z-1-we]),xe=a,ge=u,ue=-1,de=-1,fe=0;fe<u;fe++)for(var te=0;te<a;te++){var d=fe*a+te;L[d]!=ce[d]&&(te<xe&&(xe=te),te>ue&&(ue=te),fe<ge&&(ge=fe),fe>de&&(de=fe))}var Re=ue==-1?1:(ue-xe+1)*(de-ge+1);Re<Ie&&(Ie=Re,ke=we,ue==-1?(K=J=0,$=q=1):(K=xe,J=ge,$=ue-xe+1,q=de-ge+1))}var Ce=new Uint8Array(t[z-1-ke]);ke==1&&(M[M.length-1].dispose=2);var ae=new Uint8Array($*q*4);new Uint32Array(ae.buffer),g._copyTile(Ce,a,u,ae,$,q,-K,-J,0),g._copyTile(O,a,u,ae,$,q,-K,-J,3)?(g._copyTile(O,a,u,ae,$,q,-K,-J,2),X=1):(g._copyTile(O,a,u,ae,$,q,-K,-J,0),X=0),O=ae,L=new Uint32Array(O.buffer)}var be=4*$;if(H<=256&&s==!1){be=Math.ceil(v*$/8);for(var ae=new Uint8Array(be*q),fe=0;fe<q;fe++){var d=fe*be,j=fe*$;if(v==8)for(var te=0;te<$;te++)ae[d+te]=y[L[j+te]];else if(v==4)for(var te=0;te<$;te++)ae[d+(te>>1)]|=y[L[j+te]]<<4-(te&1)*4;else if(v==2)for(var te=0;te<$;te++)ae[d+(te>>2)]|=y[L[j+te]]<<6-(te&3)*2;else if(v==1)for(var te=0;te<$;te++)ae[d+(te>>3)]|=y[L[j+te]]<<7-(te&7)*1}O=ae,f=3,b=1}else if(m==!1&&t.length==1){for(var ae=new Uint8Array($*q*3),ie=$*q,d=0;d<ie;d++){var P=d*3,G=d*4;ae[P]=O[G],ae[P+1]=O[G+1],ae[P+2]=O[G+2]}O=ae,f=2,b=3,be=3*$}M.push({rect:{x:K,y:J,width:$,height:q},img:O,bpl:be,bpp:b,blend:X,dispose:U?1:0})}return{ctype:f,depth:v,plte:T,gotAlpha:m,frames:M}},g.encode._filterZero=function(t,a,u,n,c){for(var s=[],f=0;f<5;f++)if(!(a*n>5e5&&(f==2||f==3||f==4))){for(var v=0;v<a;v++)g.encode._filterLine(c,t,v,n,u,f);if(s.push(re.deflate(c)),u==1)break}for(var b,o=1e9,z=0;z<s.length;z++)s[z].length<o&&(b=z,o=s[z].length);return s[b]},g.encode._filterLine=function(t,a,u,n,c,s){var f=u*n,v=f+u,b=g.decode._paeth;if(t[v]=s,v++,s==0)for(var o=0;o<n;o++)t[v+o]=a[f+o];else if(s==1){for(var o=0;o<c;o++)t[v+o]=a[f+o];for(var o=c;o<n;o++)t[v+o]=a[f+o]-a[f+o-c]+256&255}else if(u==0){for(var o=0;o<c;o++)t[v+o]=a[f+o];if(s==2)for(var o=c;o<n;o++)t[v+o]=a[f+o];if(s==3)for(var o=c;o<n;o++)t[v+o]=a[f+o]-(a[f+o-c]>>1)+256&255;if(s==4)for(var o=c;o<n;o++)t[v+o]=a[f+o]-b(a[f+o-c],0,0)+256&255}else{if(s==2)for(var o=0;o<n;o++)t[v+o]=a[f+o]+256-a[f+o-n]&255;if(s==3){for(var o=0;o<c;o++)t[v+o]=a[f+o]+256-(a[f+o-n]>>1)&255;for(var o=c;o<n;o++)t[v+o]=a[f+o]+256-(a[f+o-n]+a[f+o-c]>>1)&255}if(s==4){for(var o=0;o<c;o++)t[v+o]=a[f+o]+256-b(0,a[f+o-n],0)&255;for(var o=c;o<n;o++)t[v+o]=a[f+o]+256-b(a[f+o-c],a[f+o-n],a[f+o-c-n])&255}}},g.crc={table:function(){for(var t=new Uint32Array(256),a=0;a<256;a++){for(var u=a,n=0;n<8;n++)u&1?u=3988292384^u>>>1:u=u>>>1;t[a]=u}return t}(),update:function(t,a,u,n){for(var c=0;c<n;c++)t=g.crc.table[(t^a[u+c])&255]^t>>>8;return t},crc:function(t,a,u){return g.crc.update(4294967295,t,a,u)^4294967295}},g.quantize=function(t,a,u){for(var n=[],c=0,s=0;s<t.length;s++)n.push(g.encode.alphaMul(new Uint8Array(t[s]),u)),c+=t[s].byteLength;for(var f=new Uint8Array(c),v=new Uint32Array(f.buffer),b=0,s=0;s<n.length;s++){for(var o=n[s],z=o.length,S=0;S<z;S++)f[b+S]=o[S];b+=z}var h={i0:0,i1:f.length,bst:null,est:null,tdst:0,left:null,right:null};h.bst=g.quantize.stats(f,h.i0,h.i1),h.est=g.quantize.estats(h.bst);for(var d=[h];d.length<a;){for(var m=0,y=0,s=0;s<d.length;s++)d[s].est.L>m&&(m=d[s].est.L,y=s);if(m<.001)break;var T=d[y],D=g.quantize.splitPixels(f,v,T.i0,T.i1,T.est.e,T.est.eMq255),p={i0:T.i0,i1:D,bst:null,est:null,tdst:0,left:null,right:null};p.bst=g.quantize.stats(f,p.i0,p.i1),p.est=g.quantize.estats(p.bst);var R={i0:D,i1:T.i1,bst:null,est:null,tdst:0,left:null,right:null};R.bst={R:[],m:[],N:T.bst.N-p.bst.N};for(var s=0;s<16;s++)R.bst.R[s]=T.bst.R[s]-p.bst.R[s];for(var s=0;s<4;s++)R.bst.m[s]=T.bst.m[s]-p.bst.m[s];R.est=g.quantize.estats(R.bst),T.left=p,T.right=R,d[y]=p,d.push(R)}d.sort(function(oe,ke){return ke.bst.N-oe.bst.N});for(var U=0;U<n.length;U++){for(var H=g.quantize.planeDst,M=new Uint8Array(n[U].buffer),O=new Uint32Array(n[U].buffer),L=M.length,s=0;s<L;s+=4){for(var K=M[s]*.00392156862745098,J=M[s+1]*(1/255),$=M[s+2]*(1/255),q=M[s+3]*(1/255),X=h;X.left;)X=H(X.est,K,J,$,q)<=0?X.left:X.right;O[s>>2]=X.est.rgba}n[U]=O.buffer}return{bufs:n,plte:d}},g.quantize.getNearest=function(t,a,u,n,c){if(t.left==null)return t.tdst=g.quantize.dist(t.est.q,a,u,n,c),t;var s=g.quantize.planeDst(t.est,a,u,n,c),f=t.left,v=t.right;s>0&&(f=t.right,v=t.left);var b=g.quantize.getNearest(f,a,u,n,c);if(b.tdst<=s*s)return b;var o=g.quantize.getNearest(v,a,u,n,c);return o.tdst<b.tdst?o:b},g.quantize.planeDst=function(t,a,u,n,c){var s=t.e;return s[0]*a+s[1]*u+s[2]*n+s[3]*c-t.eMq},g.quantize.dist=function(t,a,u,n,c){var s=a-t[0],f=u-t[1],v=n-t[2],b=c-t[3];return s*s+f*f+v*v+b*b},g.quantize.splitPixels=function(t,a,u,n,c,s){var f=g.quantize.vecDot;for(n-=4;u<n;){for(;f(t,u,c)<=s;)u+=4;for(;f(t,n,c)>s;)n-=4;if(u>=n)break;var v=a[u>>2];a[u>>2]=a[n>>2],a[n>>2]=v,u+=4,n-=4}for(;f(t,u,c)>s;)u-=4;return u+4},g.quantize.vecDot=function(t,a,u){return t[a]*u[0]+t[a+1]*u[1]+t[a+2]*u[2]+t[a+3]*u[3]},g.quantize.stats=function(t,a,u){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],c=[0,0,0,0],s=u-a>>2,f=a;f<u;f+=4){var v=t[f]*.00392156862745098,b=t[f+1]*(1/255),o=t[f+2]*(1/255),z=t[f+3]*(1/255);c[0]+=v,c[1]+=b,c[2]+=o,c[3]+=z,n[0]+=v*v,n[1]+=v*b,n[2]+=v*o,n[3]+=v*z,n[5]+=b*b,n[6]+=b*o,n[7]+=b*z,n[10]+=o*o,n[11]+=o*z,n[15]+=z*z}return n[4]=n[1],n[8]=n[2],n[12]=n[3],n[9]=n[6],n[13]=n[7],n[14]=n[11],{R:n,m:c,N:s}},g.quantize.estats=function(t){var a=t.R,u=t.m,n=t.N,c=u[0],s=u[1],f=u[2],v=u[3],b=n==0?0:1/n,o=[a[0]-c*c*b,a[1]-c*s*b,a[2]-c*f*b,a[3]-c*v*b,a[4]-s*c*b,a[5]-s*s*b,a[6]-s*f*b,a[7]-s*v*b,a[8]-f*c*b,a[9]-f*s*b,a[10]-f*f*b,a[11]-f*v*b,a[12]-v*c*b,a[13]-v*s*b,a[14]-v*f*b,a[15]-v*v*b],z=o,S=g.M4,h=[.5,.5,.5,.5],d=0,m=0;if(n!=0)for(var y=0;y<10&&(h=S.multVec(z,h),m=Math.sqrt(S.dot(h,h)),h=S.sml(1/m,h),!(Math.abs(m-d)<1e-9));y++)d=m;var T=[c*b,s*b,f*b,v*b],D=S.dot(S.sml(255,T),h),p=T[3]<.001?0:1/T[3];return{Cov:o,q:T,e:h,L:d,eMq255:D,eMq:S.dot(h,T),rgba:(Math.round(255*T[3])<<24|Math.round(255*T[2]*p)<<16|Math.round(255*T[1]*p)<<8|Math.round(255*T[0]*p)<<0)>>>0}},g.M4={multVec:function(t,a){return[t[0]*a[0]+t[1]*a[1]+t[2]*a[2]+t[3]*a[3],t[4]*a[0]+t[5]*a[1]+t[6]*a[2]+t[7]*a[3],t[8]*a[0]+t[9]*a[1]+t[10]*a[2]+t[11]*a[3],t[12]*a[0]+t[13]*a[1]+t[14]*a[2]+t[15]*a[3]]},dot:function(t,a){return t[0]*a[0]+t[1]*a[1]+t[2]*a[2]+t[3]*a[3]},sml:function(t,a){return[t*a[0],t*a[1],t*a[2],t*a[3]]}},g.encode.alphaMul=function(t,a){for(var u=new Uint8Array(t.length),n=t.length>>2,c=0;c<n;c++){var s=c<<2,f=t[s+3];a&&(f=f<128?0:255);var v=f*(1/255);u[s+0]=t[s+0]*v,u[s+1]=t[s+1]*v,u[s+2]=t[s+2]*v,u[s+3]=f}return u}}(F,ee)})()})(Ma);var ut=Ma.exports;const La=Va(ut),vt={name:"CanvasComponent",props:{imageId:{type:[String,Number],required:!0,default:""},imageList:{type:Array,required:!0}},setup(Z,{emit:F}){const ee="/api/",g=Me(null),re=Me(null),t=Me(null),a=Me(null),u=Me(null),n=Me(null),c=Me(!1),s=Me(!1),f=Me([]),v=Me(-1),b=Me(20),o=Me(!1),z=Me(null),S=ia(()=>Z.imageId),h=wa({}),d=wa({}),m=j=>`${j}px`,y=Me(!1),T=Me(null),D=Me({w:1,h:1}),p=async()=>{performance.now();try{const{data:j}=await Xa(S.value);h.value=j.origin,d.value=j.mask;const ie=performance.now()}catch(j){console.error("获取图片详情失败:",j),qe.error("获取图片详情失败，请重试")}},R=async()=>{try{await ae();const j=`${ee}/image/${S.value}/download`;window.focus();const ie=new Image;ie.crossOrigin="Anonymous",await new Promise((W,le)=>{ie.onload=W,ie.onerror=le,ie.src=j});const P=document.createElement("canvas");P.width=ie.width,P.height=ie.height,P.getContext("2d").drawImage(ie,0,0);try{P.toBlob(async W=>{if(W)try{const le=await navigator.permissions.query({name:"clipboard-write"});if(le.state==="granted"||le.state==="prompt")await navigator.clipboard.write([new ClipboardItem({"image/png":W})]),qe.success("图片已复制到剪贴板");else throw new Error("没有剪贴板写入权限")}catch(le){console.error("复制失败:",le);const Ee=URL.createObjectURL(W),_e=document.createElement("a");_e.href=Ee,_e.download=`image_${S.value}.png`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(Ee),qe.warning("无法直接复制到剪贴板，已自动下载图片")}},"image/png")}catch{throw new Error("生成图片失败")}}catch(j){console.error("复制/下载失败:",j),qe.error("操作失败，请重试")}},U=(j,ie,P,G)=>{if(j/ie>P/G){const W=P,le=Math.round(ie*P/j);return{width:W,height:le}}else return{width:Math.round(j*G/ie),height:G}},H=()=>{performance.now(),document.querySelectorAll(".edit-wrapper .canvas-wrapper").forEach((ie,P)=>{const G=ie.clientWidth,W=ie.clientHeight,{width:le,height:Ee}=U(h.value.width,h.value.height,G,W);if(ie.querySelectorAll("canvas").forEach(he=>{he.width=h.value.width,he.height=h.value.height,he.style.width=`${le}px`,he.style.height=`${Ee}px`}),P===0){const he=ie.querySelector(".preview-canvas");he&&(re.value=he.getContext("2d",{willReadFrequently:!0}))}else if(P===1){const he=ie.querySelectorAll(".canvas-layer");he.length===2&&(u.value=he[0].getContext("2d",{willReadFrequently:!0}),n.value=he[1].getContext("2d",{willReadFrequently:!0}))}}),O(),performance.now()},M=()=>{var ie;performance.now();const j=P=>new Promise((G,W)=>{const le=new Image;le.onload=()=>G(le),le.onerror=W,le.src=P});Promise.all([j(`${ee}/${h.value.file_url}`),j(`${ee}/${(ie=d==null?void 0:d.value)==null?void 0:ie.file_url}`)]).then(([P,G])=>{var W;if(performance.now(),h.value.width=P.width,h.value.height=P.height,H(),!u.value||!re.value){console.error("Canvas 上下文未正确初始化"),qe.error("Canvas 上下文未正确初始化，无法绘制图片");return}requestAnimationFrame(()=>{const le=(he,Oe,Fe,Se,Be,ye)=>{const pe=Oe.width/Oe.height,Ze=Be/ye;let Te,l,I,B;pe>Ze?(Te=Be,l=Math.round(Be/pe),I=Fe,B=Se+(ye-l)/2):(l=ye,Te=Math.round(ye*pe),B=Se,I=Fe+(Be-Te)/2),he.clearRect(0,0,Be,ye),he.drawImage(Oe,I,B,Te,l)};if(le(u.value,P,0,0,t.value.width,t.value.height),le(re.value,P,0,0,g.value.width,g.value.height),performance.now(),D.value={w:a.value.width/G.width,h:a.value.height/G.height},a.value.width===0||a.value.height===0){console.error("Canvas 尺寸未正确设置"),qe.error("Canvas 尺寸未正确设置，无法加载图片");return}const Ee=new OffscreenCanvas(a.value.width,a.value.height),_e=Ee.getContext("2d");_e.drawImage(G,0,0,a.value.width,a.value.height),n.value.drawImage(Ee,0,0);try{z.value=_e.getImageData(0,0,a.value.width,a.value.height),oe()}catch(he){console.error("获取图像数据失败:",he),qe.error("获取图像数据失败，请重试")}performance.now()}),(W=d==null?void 0:d.value)!=null&&W.file_url&&fetch(`${ee}/${d.value.file_url}`).then(le=>le.blob()).then(le=>le.arrayBuffer()).then(le=>{performance.now();const Ee=La.decode(le),_e=La.toRGBA8(Ee)[0];T.value=new Uint8ClampedArray(_e),performance.now()})}).catch(P=>{console.error("加载图片失败:",P),qe.error("加载图片失败，请重试")})},O=()=>{a.value.addEventListener("mousedown",K),a.value.addEventListener("mousemove",J),a.value.addEventListener("mouseup",X),a.value.addEventListener("mouseout",X)},L=j=>{const ie=a.value.getBoundingClientRect(),P=a.value.width/ie.width,G=a.value.height/ie.height;return{x:(j.clientX-ie.left)*P,y:(j.clientY-ie.top)*G}},K=j=>{!c.value&&!s.value||(o.value=!0,J(j))},J=j=>{if(!o.value)return;const ie=L(j);J.frameRequest||(J.frameRequest=requestAnimationFrame(()=>{let P=Math.round(ie.x)-Math.floor(b.value/2),G=Math.round(ie.y)-Math.floor(b.value/2),W=b.value,le=b.value;if(P<0&&(W+=P,P=0),G<0&&(le+=G,G=0),P+W>a.value.width&&(W=a.value.width-P),G+le>a.value.height&&(le=a.value.height-G),W=Math.max(W,1),le=Math.max(le,1),c.value||s.value){const Ee=n.value.getImageData(P,G,W,le),_e=Ee.data,he=T.value,Oe=h.value.width,Fe=new DataView(_e.buffer);for(let Se=0;Se<le;Se++){const Be=G+Se;if(!(Be>=h.value.height||Be<0))for(let ye=0;ye<W;ye++){const pe=P+ye;if(pe>=h.value.width||pe<0)continue;const Ze=(Be*Oe+pe)*4,Te=(Se*W+ye)*4;c.value?Fe.setUint32(Te,Fe.getUint32(Te)&16777215,!0):s.value&&(_e[Te]=he[Ze],_e[Te+1]=he[Ze+1],_e[Te+2]=he[Ze+2],_e[Te+3]=255)}}n.value.putImageData(Ee,P,G),y.value=!0}J.frameRequest=null}))},q=((j,ie)=>{let P=null;return function(...G){P&&clearTimeout(P),P=setTimeout(()=>j.apply(this,G),ie)}})(()=>{o.value&&oe()},300),X=()=>{o.value&&(o.value=!1,q())},oe=()=>{v.value++,f.value=f.value.slice(0,v.value),f.value.push(n.value.getImageData(0,0,a.value.width,a.value.height))},ke=j=>{j<0||j>=f.value.length||n.value.putImageData(f.value[j],0,0)},Ie=()=>{v.value>0&&(v.value--,ke(v.value))},we=()=>{v.value<f.value.length-1&&(v.value++,ke(v.value))},ce=()=>{c.value=!c.value,c.value&&(s.value=!1)},xe=()=>{s.value=!s.value,s.value&&(c.value=!1)},ge=async()=>{try{await ae(),window.open(`${ee}/image/${S.value}/download`)}catch{qe.error("保存图片失败，无法进行下载")}},ue=()=>{fe.value?ja.confirm("您有未保存的更改，确定要关闭编辑器吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{de(),c.value=!1,s.value=!1,F("close")}).catch(()=>{}):(c.value=!1,s.value=!1,F("close"))},de=()=>{ke(0),v.value=0,f.value=f.value.slice(0,1)},fe=ia(()=>v.value>0),te=async()=>{y.value&&await ae()},Re=async()=>{be.value>0?(await te(),y.value=!1,F("changeImage",Z.imageList[be.value-1].id)):qe.warning("已经是第一张图片")},Ce=async()=>{be.value<Z.imageList.length-1?(await te(),y.value=!1,F("changeImage",Z.imageList[be.value+1].id)):qe.warning("已经是最后一张图片")},ae=async()=>{if(performance.now(),!!y.value)try{const j=document.createElement("canvas");j.width=h.value.width,j.height=h.value.height;const ie=j.getContext("2d");if(!ie)throw new Error("无法获取新的 Canvas 上下文");const P=Math.min(h.value.width/a.value.width,h.value.height/a.value.height),G=a.value.width*P,W=a.value.height*P,le=(j.width-G)/2,Ee=(j.height-W)/2;ie.drawImage(a.value,0,0,a.value.width,a.value.height,le,Ee,G,W);const _e=await new Promise(Se=>j.toBlob(Se,"image/png"));if(!_e)throw new Error("无法生成图片 Blob");const he=new FormData;he.append("file",_e,"edited_image.png"),he.append("new_width",j.width.toString()),he.append("new_height",j.height.toString());const Oe=await Wa({file:he,image_id:S.value}),Fe=performance.now();if(Oe.code===0)qe.success("图片更新成功"),v.value=0,f.value=[n.value.getImageData(0,0,a.value.width,a.value.height)],y.value=!1;else throw new Error(Oe.message||"更新失败")}catch(j){throw console.error("更新图片失败:",j),qe.error(j.message||"更新图片失败，请重试"),j}},be=ia(()=>Z.imageList.findIndex(j=>j.id===Z.imageId));return Pa(async()=>{await p(),await M(),window.addEventListener("resize",H)}),Ga(()=>{window.removeEventListener("resize",H)}),et(()=>Z.imageId,async()=>{await p(),await M(),y.value=!1,f.value=[],v.value=-1}),{bottomPreviewCanvas:g,bottomCanvas:t,topCanvas:a,eraserActive:c,repairActive:s,undo:Ie,redo:we,toggleEraser:ce,toggleRepair:xe,downloadImage:ge,copyToClipboard:R,brushSize:b,formatTooltip:m,history:f,historyIndex:v,closeEditor:ue,origin:h,mask:d,handleSubmit:ae,previousImage:Re,nextImage:Ce,hasUnsavedChanges:fe,hasModifications:y}}},st={class:"canvas-wrapper"},dt={class:"edit-wrapper"},_t={class:"left-column"},ct={class:"canvas-wrapper"},gt={ref:"bottomPreviewCanvas",class:"preview-canvas"},wt={class:"right-column"},bt={class:"top-controls"},pt={class:"canvas-wrapper"},xt={ref:"bottomCanvas",class:"canvas-layer"},kt={ref:"topCanvas",class:"canvas-layer"},mt={class:"bottom-controls"};function Et(Z,F,ee,g,re,t){const a=Ka,u=Ya;return Ja(),Qa("div",st,[Xe("div",dt,[Xe("div",_t,[Xe("div",ct,[Xe("canvas",gt,null,512)])]),Xe("div",wt,[Xe("div",bt,[We(a,{link:"",onClick:g.undo,disabled:g.history.length<=1||g.historyIndex===0},{default:je(()=>F[1]||(F[1]=[Qe("撤回")])),_:1,__:[1]},8,["onClick","disabled"]),We(a,{link:"",onClick:g.redo,disabled:g.historyIndex===g.history.length-1},{default:je(()=>F[2]||(F[2]=[Qe("前进")])),_:1,__:[2]},8,["onClick","disabled"]),We(a,{link:"",onClick:g.toggleEraser},{default:je(()=>[Qe(ba(g.eraserActive?"禁用修补":"启用修补"),1)]),_:1},8,["onClick"]),We(a,{link:"",onClick:g.toggleRepair},{default:je(()=>[Qe(ba(g.repairActive?"禁用擦除":"启用擦除"),1)]),_:1},8,["onClick"]),We(u,{modelValue:g.brushSize,"onUpdate:modelValue":F[0]||(F[0]=n=>g.brushSize=n),min:5,max:50,step:1,"show-tooltip":!0,"format-tooltip":g.formatTooltip,class:"brush-size-slider"},null,8,["modelValue","format-tooltip"])]),Xe("div",pt,[Xe("canvas",xt,null,512),Xe("canvas",kt,null,512)]),Xe("div",mt,[We(a,{link:"",onClick:g.previousImage},{default:je(()=>F[3]||(F[3]=[Qe("上一张")])),_:1,__:[3]},8,["onClick"]),We(a,{link:"",onClick:g.downloadImage},{default:je(()=>F[4]||(F[4]=[Qe("下载图片")])),_:1,__:[4]},8,["onClick"]),We(a,{link:"",onClick:g.copyToClipboard},{default:je(()=>F[5]||(F[5]=[Qe("复制")])),_:1,__:[5]},8,["onClick"]),We(a,{link:"",onClick:g.handleSubmit},{default:je(()=>F[6]||(F[6]=[Qe("确认")])),_:1,__:[6]},8,["onClick"]),We(a,{link:"",onClick:g.nextImage},{default:je(()=>F[7]||(F[7]=[Qe("下一张")])),_:1,__:[7]},8,["onClick"])])])])])}const Dt=Ua(vt,[["render",Et],["__scopeId","data-v-773f574b"]]);export{Dt as default};
//# sourceMappingURL=Edit-Coecvmzx.js.map
